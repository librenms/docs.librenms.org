{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"Installing Install LibreNMS Now Install Using Docker Setup Applications Auto Discovery Oxidized RRDCached Alerting Rules Templates Transports More... API Using the API API Endpoints Support FAQ Install validation Performance tweaks More... Developing Getting Started Support for a new OS"},{"location":"API/","title":"Using the API","text":""},{"location":"API/#versioning","title":"Versioning","text":"<p>Versioning an API is a minefield which saw us looking at numerous options on how to do this.</p> <p>We have currently settled on using versioning within the API end point itself <code>/api/v0</code>. As the API itself is new and still in active development we also decided that v0 would be the best starting point to indicate it's in development.</p>"},{"location":"API/#tokens","title":"Tokens","text":"<p>To access any of the token end points you will be required to authenticate using a token. Tokens can be created directly from within the LibreNMS web interface by going to <code>/api-access/</code>.</p> <ul> <li>Click on 'Create API access token'.</li> <li>Select the user you would like to generate the token for.</li> <li>Enter an optional description.</li> <li>Click Create API Token.</li> </ul>"},{"location":"API/#endpoints","title":"Endpoints","text":"<p>Whilst this documentation will describe and show examples of the end points, we've designed the API so you should be able to traverse through it without knowing any of the available API routes.</p> <p>You can do this by first calling <code>/api/v0</code>:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0\n</code></pre> <p>Output:</p> <pre><code>{\n \"list_bgp\": \"https://librenms.org/api/v0/bgp\",\n  ...\n \"edit_rule\": \"https://librenms.org/api/v0/rules\"\n}\n</code></pre>"},{"location":"API/#input","title":"Input","text":"<p>Input to the API is done in three different ways, sometimes a combination of two or three of these.</p> <ul> <li>Passing parameters via the api route. For example when obtaining a   devices details you will pass the hostname of the device in the route: <code>/api/v0/devices/:hostname</code>.</li> <li>Passing parameters via the query string. For example you can list   all devices on your install but limit the output to devices that are   currently down: <code>/api/v0/devices?type=down</code></li> <li>Passing data in via JSON, this will mainly be used when adding or   updating information via the API, for instance adding a new device:</li> </ul> <pre><code>curl -X POST -d '{\"hostname\":\"localhost.localdomain\",\"version\":\"v1\",\"community\":\"public\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices\n</code></pre>"},{"location":"API/#output","title":"Output","text":"<p>Output from the API currently is via two output types:</p> <ul> <li>JSON: Most API responses will output json. As shown in the example for   calling the API endpoint.</li> <li>PNG: This is for when the request is for an image such as a graph for a switch port.</li> </ul>"},{"location":"API/#endpoint-categories","title":"Endpoint Categories","text":"<ul> <li>Devices</li> <li>DeviceGroups</li> <li>Ports</li> <li>Port_Groups</li> <li>PortGroups</li> <li>Alerts</li> <li>Routing</li> <li>Switching</li> <li>Inventory</li> <li>Bills</li> <li>ARP</li> <li>Services</li> <li>Logs</li> <li>System</li> <li>Locations</li> </ul>"},{"location":"API/ARP/","title":"ARP","text":""},{"location":"API/ARP/#list_arp","title":"<code>list_arp</code>","text":"<p>Retrieve a specific ARP entry or all ARP entries for a device</p> <p>Route: <code>/api/v0/resources/ip/arp/:query</code></p> <p>Query can be: - An IP address - A MAC address - A CIDR network (192.168.1.0/24) - <code>all</code> and set ?device=hostname (or device id)</p> <p>Input:</p> <ul> <li>device if you specify all for the query then you need to populate this   with the hostname or id of the device.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/1.1.1.1\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/192.168.1.0/24\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/all?device=localhost\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"arp\": [\n        {\n            \"port_id\": \"229\",\n            \"mac_address\": \"da160e5c2002\",\n            \"ipv4_address\": \"1.1.1.1\",\n            \"context_name\": \"\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Alerts/","title":"Alerts","text":""},{"location":"API/Alerts/#get_alert","title":"<code>get_alert</code>","text":"<p>Get details of an alert</p> <p>Route: <code>/api/v0/alerts/:id</code></p> <ul> <li>id is the alert id, you can obtain a list of alert ids from <code>list_alerts</code>.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"count\": 7,\n \"alerts\": [\n  {\n   \"hostname\": \"localhost\",\n   \"id\": \"1\",\n   \"device_id\": \"1\",\n   \"rule_id\": \"1\",\n   \"state\": \"1\",\n   \"alerted\": \"1\",\n   \"open\": \"1\",\n   \"timestamp\": \"2014-12-11 14:40:02\"\n  }]\n}\n</code></pre>"},{"location":"API/Alerts/#ack_alert","title":"<code>ack_alert</code>","text":"<p>Acknowledge an alert</p> <p>Route: <code>/api/v0/alerts/:id</code></p> <ul> <li>id is the alert id, you can obtain a list of alert ids from <code>list_alerts</code>.</li> <li>note is the note to add to the alert</li> <li>until_clear is a boolean and if set to false, the alert will re-alert if it worsens/betters.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"message\": \"Alert has been acknowledged\"\n}\n</code></pre>"},{"location":"API/Alerts/#unmute_alert","title":"<code>unmute_alert</code>","text":"<p>Unmute an alert</p> <p>Route: <code>/api/v0/alerts/unmute/:id</code></p> <ul> <li>id is the alert id, you can obtain a list of alert ids from <code>list_alerts</code>.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/unmute/1\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"Alert has been unmuted\"\n}\n</code></pre>"},{"location":"API/Alerts/#list_alerts","title":"<code>list_alerts</code>","text":"<p>List all alerts</p> <p>Route: <code>/api/v0/alerts</code></p> <p>Input:</p> <ul> <li>state: Filter the alerts by state, 0 = ok, 1 = alert, 2 = ack</li> <li>severity: Filter the alerts by severity. Valid values are <code>ok</code>, <code>warning</code>, <code>critical</code>.</li> <li>alert_rule: Filter alerts by alert rule ID.</li> <li>order: How to order the output, default is by timestamp   (descending). Can be appended by DESC or ASC to change the order.</li> </ul> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?state=1\n</code></pre> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?severity=critical\n</code></pre> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?order=timestamp%20ASC\n</code></pre> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?alert_rule=49\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"count\": 1,\n \"alerts\": [\n  {\n   \"id\": \"1\",\n   \"device_id\": \"1\",\n   \"rule_id\": \"1\",\n   \"state\": \"1\",\n   \"alerted\": \"1\",\n   \"open\": \"1\",\n   \"timestamp\": \"2014-12-11 14:40:02\"\n  }]\n}\n</code></pre>"},{"location":"API/Alerts/#rules","title":"Rules","text":""},{"location":"API/Alerts/#get_alert_rule","title":"<code>get_alert_rule</code>","text":"<p>Get the alert rule details.</p> <p>Route: <code>/api/v0/rules/:id</code></p> <ul> <li>id is the rule id.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"count\": 1,\n \"rules\": [\n  {\n   \"id\": \"1\",\n   \"device_id\": \"1\",\n   \"rule\": \"%devices.os != \\\"Juniper\\\"\",\n   \"severity\": \"warning\",\n   \"extra\": \"{\\\"mute\\\":true,\\\"count\\\":\\\"15\\\",\\\"delay\\\":null,\\\"invert\\\":false}\",\n   \"disabled\": \"0\",\n   \"name\": \"A test rule\"\n  }\n ]\n}\n</code></pre>"},{"location":"API/Alerts/#delete_rule","title":"<code>delete_rule</code>","text":"<p>Delete an alert rule by id</p> <p>Route: <code>/api/v0/rules/:id</code></p> <ul> <li>id is the rule id.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"message\": \"Alert rule has been removed\"\n}\n</code></pre>"},{"location":"API/Alerts/#list_alert_rules","title":"<code>list_alert_rules</code>","text":"<p>List the alert rules.</p> <p>Route: <code>/api/v0/rules</code></p> <p>-</p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"count\": 1,\n \"rules\": [\n  {\n   \"id\": \"1\",\n   \"device_id\": \"-1\",\n   \"rule\": \"%devices.os != \\\"Juniper\\\"\",\n   \"severity\": \"critical\",\n   \"extra\": \"{\\\"mute\\\":false,\\\"count\\\":\\\"15\\\",\\\"delay\\\":\\\"300\\\",\\\"invert\\\":false}\",\n   \"disabled\": \"0\",\n   \"name\": \"A test rule\"\n  }]\n}\n</code></pre>"},{"location":"API/Alerts/#add_rule","title":"<code>add_rule</code>","text":"<p>Add a new alert rule.</p> <p>Route: <code>/api/v0/rules</code></p> <p>-</p> <p>Input (JSON):</p> <ul> <li>devices: This is either an array of device ids or -1 for a global rule</li> <li>builder: The rule which should be in the format entity.condition   value (i.e devices.status != 0 for devices marked as down). It must   be json encoded in the format rules are currently stored.</li> <li>severity: The severity level the alert will be raised against, Ok, Warning, Critical.</li> <li>disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled</li> <li>count: This is how many polling runs before an alert will trigger and the frequency.</li> <li>delay: Delay is when to start alerting and how frequently. The value   is stored in seconds but you can specify minutes, hours or days by   doing 5 m, 5 h, 5 d for each one.</li> <li>interval: How often to re-issue notifications while this alert is active,0 means notify once.The value   is stored in seconds but you can specify minutes, hours or days by   doing 5 m, 5 h, 5 d for each one.</li> <li>mute: If mute is enabled then an alert will never be sent but will   show up in the Web UI (true or false).</li> <li>invert: This would invert the rules check.</li> <li>name: This is the name of the rule and is mandatory.</li> <li>notes: Some informal notes for this rule</li> </ul> <p>Example:</p> <pre><code>curl -X POST -d '{\"devices\":[1,2,3], \"name\": \"testrule\", \"builder\":{\"condition\":\"AND\",\"rules\":[{\"id\":\"devices.hostname\",\"field\":\"devices.hostname\",\"type\":\"string\",\"input\":\"text\",\"operator\":\"equal\",\"value\":\"localhost\"}],\"valid\":true},\"severity\": \"critical\",\"count\":15,\"delay\":\"5 m\",\"interval\":\"5 m\",\"mute\":false,\"notes\":\"This a note from the API\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\"\n}\n</code></pre>"},{"location":"API/Alerts/#edit_rule","title":"<code>edit_rule</code>","text":"<p>Edit an existing alert rule</p> <p>Route: <code>/api/v0/rules</code></p> <p>-</p> <p>Input (JSON):</p> <ul> <li>rule_id: You must specify the rule_id to edit an existing rule, if   this is absent then a new rule will be created.</li> <li>devices: This is either an array of device ids or -1 for a global rule</li> <li>builder: The rule which should be in the format entity.condition   value (i.e devices.status != 0 for devices marked as down). It must   be json encoded in the format rules are currently stored.</li> <li>severity: The severity level the alert will be raised against, Ok, Warning, Critical.</li> <li>disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled</li> <li>count: This is how many polling runs before an alert will trigger and the frequency.</li> <li>delay: Delay is when to start alerting and how frequently. The value   is stored in seconds but you can specify minutes, hours or days by   doing 5 m, 5 h, 5 d for each one.</li> <li>interval: How often to re-issue notifications while this alert is active,0 means notify once.The value   is stored in seconds but you can specify minutes, hours or days by   doing 5 m, 5 h, 5 d for each one.</li> <li>mute: If mute is enabled then an alert will never be sent but will   show up in the Web UI (true or false).</li> <li>invert: This would invert the rules check.</li> <li>name: This is the name of the rule and is mandatory.</li> <li>notes: Some informal notes for this rule</li> </ul> <p>Example:</p> <pre><code>curl -X PUT -d '{\"rule_id\":1,\"device_id\":\"-1\", \"name\": \"testrule\", \"builder\":{\"condition\":\"AND\",\"rules\":[{\"id\":\"devices.hostname\",\"field\":\"devices.hostname\",\"type\":\"string\",\"input\":\"text\",\"operator\":\"equal\",\"value\":\"localhost\"}],\"valid\":true},\"severity\": \"critical\",\"count\":15,\"delay\":\"5 m\",\"interval\":\"5 m\",\"mute\":false,\"notes\":\"This a note from the API\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\"\n}\n</code></pre>"},{"location":"API/Bills/","title":"Bills","text":""},{"location":"API/Bills/#list_bills","title":"<code>list_bills</code>","text":"<p>Retrieve the list of bills currently in the system.</p> <p>Route: <code>/api/v0/bills</code> <code>/api/v0/bills?period=previous</code></p> <p>Input:</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?period=previous\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"count\": 1,\n \"bills\": [\n  {\n   \"bill_id\": \"1\",\n   \"bill_name\": \"Router bills\",\n   \"bill_type\": \"cdr\",\n   \"bill_cdr\": \"10000000\",\n   \"bill_day\": \"1\",\n   \"bill_quota\": \"0\",\n   \"rate_95th_in\": \"0\",\n   \"rate_95th_out\": \"0\",\n   \"rate_95th\": \"0\",\n   \"dir_95th\": \"in\",\n   \"total_data\": \"0\",\n   \"total_data_in\": \"0\",\n   \"total_data_out\": \"0\",\n   \"rate_average_in\": \"0\",\n   \"rate_average_out\": \"0\",\n   \"rate_average\": \"0\",\n   \"bill_last_calc\": \"2015-07-02 17:01:26\",\n   \"bill_custid\": \"Router\",\n   \"bill_ref\": \"Router\",\n   \"bill_notes\": \"Bill me\",\n   \"bill_autoadded\": \"0\",\n   \"ports_total\": \"0\",\n   \"allowed\": \"10Mbps\",\n   \"used\": \"0bps\",\n   \"percent\": 0,\n   \"overuse\": \"-\",\n   \"ports\": [\n       {\n           \"device_id\": \"168\",\n           \"port_id\": \"35146\",\n           \"ifName\": \"eth0\"\n       }\n   ]\n  }\n ]\n}\n</code></pre>"},{"location":"API/Bills/#get_bill","title":"<code>get_bill</code>","text":"<p>Retrieve a specific bill</p> <p>Route: <code>/api/v0/bills/:id</code> <code>/api/v0/bills/:id?period=previous</code> <code>/api/v0/bills?ref=:ref</code> <code>/api/v0/bills?ref=:ref&amp;period=previous</code> <code>/api/v0/bills?custid=:custid</code> <code>/api/v0/bills?custid=:custid&amp;period=previous</code></p> <ul> <li>id is the specific bill id</li> <li>ref is the billing reference</li> <li>custid is the customer reference</li> <li>period=previous indicates you would like the data for the last   complete period rather than the current period</li> </ul> <p>Input:</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?ref=:customerref\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?custid=:custid\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"count\": 1,\n \"bills\": [\n  {\n   \"bill_id\": \"1\",\n   \"bill_name\": \"Router bills\",\n   \"bill_type\": \"cdr\",\n   \"bill_cdr\": \"10000000\",\n   \"bill_day\": \"1\",\n   \"bill_quota\": \"0\",\n   \"rate_95th_in\": \"0\",\n   \"rate_95th_out\": \"0\",\n   \"rate_95th\": \"0\",\n   \"dir_95th\": \"in\",\n   \"total_data\": \"0\",\n   \"total_data_in\": \"0\",\n   \"total_data_out\": \"0\",\n   \"rate_average_in\": \"0\",\n   \"rate_average_out\": \"0\",\n   \"rate_average\": \"0\",\n   \"bill_last_calc\": \"2015-07-02 17:01:26\",\n   \"bill_custid\": \"Router\",\n   \"bill_ref\": \"Router\",\n   \"bill_notes\": \"Bill me\",\n   \"bill_autoadded\": \"0\",\n   \"ports_total\": \"0\",\n   \"allowed\": \"10Mbps\",\n   \"used\": \"0bps\",\n   \"percent\": 0,\n   \"overuse\": \"-\",\n   \"ports\": [\n       {\n           \"device_id\": \"168\",\n           \"port_id\": \"35146\",\n           \"ifName\": \"eth0\"\n       }\n   ]\n  }\n ]\n}\n</code></pre>"},{"location":"API/Bills/#get_bill_graph","title":"<code>get_bill_graph</code>","text":"<p>Retrieve a graph image associated with a bill.</p> <p>NB: The graphs returned from this will always be png as they do not come from rrdtool, even if you have SVG set.</p> <p>Route: `/api/v0/bills/:id/graphs/:graph_type</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits?from=1517443200\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits?from=1517443200&amp;to=1517788800\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/monthly\n</code></pre> <p>Output:</p> <p>Graph Image</p>"},{"location":"API/Bills/#get_bill_graphdata","title":"<code>get_bill_graphdata</code>","text":"<p>Retrieve the data used to draw a graph so it can be rendered in an external system</p> <p>Route: <code>/api/v0/bills/:id/graphdata/:graph_type</code></p> <p>Input:</p> <p>The <code>reducefactor</code> parameter is used to reduce the number of data points. Billing data has 5 minute granularity, so requesting a graph for a long time period will result in many data points.  If not supplied, it will be automatically calculated.  A reducefactor of 1 means return all items, 2 means half of the items etc.</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200&amp;to=1517788800\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200&amp;to=1517788800&amp;reducefactor=5\n</code></pre> <p>Output:</p> <p>{     \"status\": \"ok\",     \"graph_data\": {         \"from\": \"1517443200\",         \"to\": 1518196161,         \"last\": \"1518195901\",         \"in_data\": [             103190525.20999999,             104949255.81         ],         \"out_data\": [             1102059.1299999999,             1079216.46         ],         \"tot_data\": [             104292584.33999999,             106028472.27         ],         \"ticks\": [             \"1517750401\",             \"1517756101\"         ],         \"rate_95th\": \"251880417\",         \"rate_average\": \"146575554\",         \"bill_type\": \"cdr\",         \"max_in\": 9888289942,         \"max_out\": 75848756,         \"ave_in\": 18029660.242105871,         \"ave_out\": 196447.38060137472,         \"last_in\": 3790227.9500000002,         \"last_out\": 122731.63333333333     } }</p>"},{"location":"API/Bills/#get_bill_history","title":"<code>get_bill_history</code>","text":"<p>Retrieve the history of specific bill</p> <p>Route: <code>/api/v0/bills/:id/history</code></p> <p>Input:</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"bill_history\": [\n    {\n        \"bill_hist_id\": \"1\",\n        \"bill_id\": \"1\",\n        \"updated\": \"2018-02-06 17:01:01\",\n        \"bill_datefrom\": \"2018-02-01 00:00:00\",\n        \"bill_dateto\": \"2018-02-28 23:59:59\",\n        \"bill_type\": \"CDR\",\n        \"bill_allowed\": \"100000000\",\n        \"bill_used\": \"229963765\",\n        \"bill_overuse\": \"129963765\",\n        \"bill_percent\": \"229.96\",\n        \"rate_95th_in\": \"229963765\",\n        \"rate_95th_out\": \"1891344\",\n        \"rate_95th\": \"229963765\",\n        \"dir_95th\": \"in\",\n        \"rate_average\": \"136527101\",\n        \"rate_average_in\": \"135123359\",\n        \"rate_average_out\": \"1403743\",\n        \"traf_in\": \"3235123452544\",\n        \"traf_out\": \"33608406566\",\n        \"traf_total\": \"3268731859110\",\n        \"bill_peak_out\": \"2782349290\",\n        \"bill_peak_in\": \"10161119\",\n        \"pdf\": null\n    }\n ],\n \"count\": 1,\n}\n</code></pre>"},{"location":"API/Bills/#get_bill_history_graph","title":"<code>get_bill_history_graph</code>","text":"<p>Retrieve a graph of a previous period of a bill</p> <p>NB: The graphs returned from this will always be png as they do not come from rrdtool, even if you have SVG set.</p> <p>Route: <code>/api/v0/bills/:id/history/:bill_hist_id/graphs/:graph_type</code></p> <p>Input:</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/bits\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/hour\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/day\n</code></pre> <p>Output:</p> <p>(image)</p>"},{"location":"API/Bills/#get_bill_history_graphdata","title":"<code>get_bill_history_graphdata</code>","text":"<p>Retrieve the data for a graph of a previous period of a bill, to be rendered in an external system</p> <p>Route: <code>/api/v0/bills/:id/history/:bill_hist_id/graphdata/:graph_type</code></p> <p>Input:</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/bits\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/hour\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/day\n</code></pre> <p>Output:</p>"},{"location":"API/Bills/#delete_bill","title":"<code>delete_bill</code>","text":"<p>Delete a specific bill and all dependent data</p> <p>Route: <code>/api/v0/bills/:id</code></p> <ul> <li>id is the specific bill id</li> </ul> <p>Input:</p> <p>Example:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Bill has been removed\"\n}\n</code></pre>"},{"location":"API/Bills/#create_edit_bill","title":"<code>create_edit_bill</code>","text":"<p>Creates a new bill or updates an existing one</p> <p>Route: <code>/api/v0/bills</code></p> <p>Method: <code>POST</code></p> <ul> <li>If you send an existing bill_id the call replaces all values it   receives. For example if you send 2 ports it will delete the   existing ports and add the the 2 new ports. So to add ports you have   to get the current ports first and add them to your update call.</li> </ul> <p>Input:</p> <p>Example (create):</p> <pre><code>curl -X POST -d '{\"ports\":[ 1021 ],\"bill_name\":\"NEWBILL\",\"bill_day\":\"1\",\"bill_type\":\"quota\",\"bill_quota\":\"2000000000000\",\"bill_custid\":\"1337\",\"bill_ref\":\"reference1\",\"bill_notes\":\"mynote\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills\n</code></pre> <p>Example (set):</p> <pre><code>curl -X POST -d '{\"bill_id\":\"32\",\"ports\":[ 1021 ],\"bill_name\":\"NEWNAME\",\"bill_quota\":\"1000000000000\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"bill_id\": 32\n}\n</code></pre>"},{"location":"API/DeviceGroups/","title":"DeviceGroups","text":""},{"location":"API/DeviceGroups/#get_devicegroups","title":"<code>get_devicegroups</code>","text":"<p>List all device groups.</p> <p>Route: <code>/api/v0/devicegroups</code></p> <p>Input (JSON):</p> <p>-</p> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Found 1 device groups\",\n        \"count\": 1,\n        \"groups\": [\n        {\n            \"id\": \"1\",\n            \"name\": \"Testing\",\n            \"desc\": \"Testing\",\n            \"pattern\": \"%devices.status = \\\"1\\\" &amp;&amp;\"\n        }\n        ]\n    }\n]\n</code></pre>"},{"location":"API/DeviceGroups/#add_devicegroup","title":"<code>add_devicegroup</code>","text":"<p>Add a new device group. Upon success, the ID of the new device group is returned and the HTTP response code is <code>201</code>.</p> <p>Route: <code>/api/v0/devicegroups</code></p> <p>Input (JSON):</p> <ul> <li><code>name</code>: required - The name of the device group</li> <li><code>type</code>: required - should be <code>static</code> or <code>dynamic</code>. Setting this to static   requires that the devices input be provided</li> <li><code>desc</code>: optional - Description of the device group</li> <li><code>rules</code>: required if type == dynamic - A set of rules to determine which   devices should be included in this device group</li> <li><code>devices</code>: required if type == static - A list of devices that should be   included in this group. This is a static list of devices</li> </ul> <p>Examples:</p> <p>Dynamic Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devicegroups \\\n  --data-raw '\n{\n \"name\": \"New Device Group\", \n \"desc\": \"A very fancy dynamic group\",\n \"type\": \"dynamic\", \n \"rules\": \"{\\\"condition\\\":\\\"AND\\\",\\\"rules\\\":[{\\\"id\\\":\\\"access_points.name\\\",\\\"field\\\":\\\"access_points.name\\\",\\\"type\\\":\\\"string\\\",\\\"input\\\":\\\"text\\\",\\\"operator\\\":\\\"equal\\\",\\\"value\\\":\\\"accesspoint1\\\"}],\\\"valid\\\":true}\"\n}\n'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"id\": 86,\n    \"message\": \"Device group New Device Group created\"\n}\n</code></pre> <p>Static Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devicegroups \\\n  -d '{\"name\":\"New Device Group\",\"type\":\"static\",\"devices\":[261,271]}'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"id\": 86,\n    \"message\": \"Device group New Device Group created\"\n}\n</code></pre>"},{"location":"API/DeviceGroups/#update_devicegroup","title":"<code>update_devicegroup</code>","text":"<p>Updates a device group.</p> <p>Route: <code>/api/v0/devicegroups/:name</code></p> <ul> <li>name Is the name of the device group which can be obtained using   <code>get_devicegroups</code>. Please ensure that   the name is urlencoded if it needs to be (i.e Linux Servers would   need to be urlencoded.</li> </ul> <p>Input (JSON):</p> <ul> <li><code>name</code>: optional - The name of the device group</li> <li><code>type</code>: optional - should be <code>static</code> or <code>dynamic</code>. Setting this to static   requires that the devices input be provided</li> <li><code>desc</code>: optional - Description of the device group</li> <li><code>rules</code>: required if type == dynamic - A set of rules to determine which   devices should be included in this device group</li> <li><code>devices</code>: required if type == static - A list of devices that should be   included in this group. This is a static list of devices</li> </ul> <p>Examples:</p> <pre><code>curl -X PATCH -d '{\"name\": \"NewLinuxServers\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/LinuxServers\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device group LinuxServers updated\"\n}\n</code></pre>"},{"location":"API/DeviceGroups/#delete_devicegroup","title":"<code>delete_devicegroup</code>","text":"<p>Deletes a device group.</p> <p>Route: <code>/api/v0/devicegroups/:name</code></p> <ul> <li>name Is the name of the device group which can be obtained using   <code>get_devicegroups</code>. Please ensure that   the name is urlencoded if it needs to be (i.e Linux Servers would   need to be urlencoded.</li> </ul> <p>Input:</p> <p>-</p> <p>Examples:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/LinuxServers\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device group LinuxServers deleted\"\n}\n</code></pre>"},{"location":"API/DeviceGroups/#get_devices_by_group","title":"<code>get_devices_by_group</code>","text":"<p>List all devices matching the group provided.</p> <p>Route: <code>/api/v0/devicegroups/:name</code></p> <ul> <li>name Is the name of the device group which can be obtained using   <code>get_devicegroups</code>. Please ensure that   the name is urlencoded if it needs to be (i.e Linux Servers would   need to be urlencoded.</li> </ul> <p>Input (JSON):</p> <ul> <li>full: set to any value to return all data for the devices in a given group</li> </ul> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups/LinuxServers\n</code></pre> <p>Output:</p> <pre><code>[\n     {\n         \"status\": \"ok\",\n         \"message\": \"Found 3 in group LinuxServers\",\n         \"count\": 3,\n         \"devices\": [\n            {\n                \"device_id\": \"15\"\n            },\n            {\n                \"device_id\": \"18\"\n            },\n            {\n                \"device_id\": \"20\"\n            }\n         ]\n     }\n]\n</code></pre>"},{"location":"API/DeviceGroups/#maintenance_devicegroup","title":"<code>maintenance_devicegroup</code>","text":"<p>Set a device group into maintenance mode.</p> <p>Route: <code>/api/v0/devicegroups/:name/maintenance</code></p> <p>Input (JSON):</p> <ul> <li><code>title</code>: optional - Some title for the Maintenance   Will be replaced with device group name if omitted</li> <li><code>notes</code>: optional - Some description for the Maintenance</li> <li><code>start</code>: optional - start time of Maintenance in full format <code>Y-m-d H:i:00</code>   eg: 2022-08-01 22:45:00   Current system time <code>now()</code> will be used if omitted</li> <li><code>duration</code>: required - Duration of Maintenance in format <code>H:i</code> / <code>Hrs:Mins</code>   eg: 02:00</li> </ul> <p>Example with start time:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devicegroups/Cisco%20switches/maintenance/ \\\n  --data-raw '\n{\n \"title\":\"Device group Maintenance\",\n  \"notes\":\"A 2 hour Maintenance triggered via API with start time\",\n  \"start\":\"2022-08-01 08:00:00\",\n  \"duration\":\"2:00\"\n}\n'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device group Cisco switches (2) will begin maintenance mode at 2022-08-01 22:45:00 for 2:00h\"\n}\n</code></pre> <p>Example with no start time:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devicegroups/Cisco%20switches/maintenance/ \\\n  --data-raw '\n{\n \"title\":\"Device group Maintenance\",\n  \"notes\":\"A 2 hour Maintenance triggered via API with no start time\",\n  \"duration\":\"2:00\"\n}\n'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device group Cisco switches (2) moved into maintenance mode for 2:00h\"\n}\n</code></pre>"},{"location":"API/DeviceGroups/#add-devices-to-group","title":"Add devices to group","text":"<p>Add devices to a device group.</p> <p>Route: <code>/api/v0/devicegroups/:name/devices</code></p> <ul> <li>name Is the name of the device group which can be obtained using   <code>get_devicegroups</code>. Please ensure that   the name is urlencoded if it needs to be (i.e Linux Servers would   need to be urlencoded.</li> </ul> <p>Input (JSON):</p> <ul> <li><code>devices</code>: required - A list of devices to be added to the group.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devicegroups/devices \\\n  --data-raw '{\"devices\":[261,271]}'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Devices added\"\n}\n</code></pre>"},{"location":"API/DeviceGroups/#remove-devices-from-group","title":"Remove devices from group","text":"<p>Removes devices from a device group.</p> <p>Route: <code>/api/v0/devicegroups/:name/devices</code></p> <ul> <li>name Is the name of the device group which can be obtained using   <code>get_devicegroups</code>. Please ensure that   the name is urlencoded if it needs to be (i.e Linux Servers would   need to be urlencoded.</li> </ul> <p>Input (JSON):</p> <ul> <li><code>devices</code>: required - A list of devices to be removed from the group.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X DELETE https://librenms.org/api/v0/devicegroups/devices \\\n  --data-raw '{\"devices\":[261,271]}'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Devices removed\"\n}\n</code></pre>"},{"location":"API/Devices/","title":"Devices","text":""},{"location":"API/Devices/#del_device","title":"<code>del_device</code>","text":"<p>Delete a given device.</p> <p>Route: <code>/api/v0/devices/:hostname</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Removed device localhost\",\n    \"devices\": [\n        {\n            \"device_id\": \"1\",\n            \"hostname\": \"localhost\",\n            ...\n            \"serial\": null,\n            \"icon\": null\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Devices/#get_device","title":"<code>get_device</code>","text":"<p>Get details of a given device.</p> <p>Route: <code>/api/v0/devices/:hostname</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"devices\": [\n        {\n            \"device_id\": \"1\",\n            \"hostname\": \"localhost\",\n            ...\n            \"serial\": null,\n            \"icon\": null\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Devices/#discover_device","title":"<code>discover_device</code>","text":"<p>Trigger a discovery of given device.</p> <p>Route: <code>/api/v0/devices/:hostname/discover</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/discover\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"result\": {\n        \"status\": 0,\n        \"message\": \"Device will be rediscovered\"\n    },\n    \"count\": 2\n}\n</code></pre>"},{"location":"API/Devices/#availability","title":"<code>availability</code>","text":"<p>Get calculated availabilities of given device.</p> <p>Route: <code>/api/v0/devices/:hostname/availability</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/availability\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"availability\": [\n        {\n            \"duration\": 86400,\n            \"availability_perc\": \"100.000000\"\n        },\n        {\n            \"duration\": 604800,\n            \"availability_perc\": \"100.000000\"\n        },\n        {\n            \"duration\": 2592000,\n            \"availability_perc\": \"99.946000\"\n        },\n        {\n            \"duration\": 31536000,\n            \"availability_perc\": \"99.994000\"\n        }\n    ],\n    \"count\": 4\n}\n</code></pre>"},{"location":"API/Devices/#outages","title":"<code>outages</code>","text":"<p>Get detected outages of given device.</p> <p>Route: <code>/api/v0/devices/:hostname/outages</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/outages\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"outages\": [\n        {\n            \"going_down\": 1593194031,\n            \"up_again\": 1593194388\n        },\n        {\n            \"going_down\": 1593946507,\n            \"up_again\": 1593946863\n        },\n        {\n            \"going_down\": 1594628616,\n            \"up_again\": 1594628968\n        },\n        {\n            \"going_down\": 1594628974,\n            \"up_again\": 1594629339\n        },\n        {\n            \"going_down\": 1594638668,\n            \"up_again\": 1594638992\n        }\n    ],\n    \"count\": 5\n}\n</code></pre>"},{"location":"API/Devices/#get_graphs","title":"<code>get_graphs</code>","text":"<p>Get a list of available graphs for a device, this does not include ports.</p> <p>Route: <code>/api/v0/devices/:hostname/graphs</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 3,\n    \"graphs\": [\n        {\n            \"desc\": \"Poller Time\",\n            \"name\": \"device_poller_perf\"\n        },\n        {\n            \"desc\": \"Ping Response\",\n            \"name\": \"device_ping_perf\"\n        },\n        {\n            \"desc\": \"System Uptime\",\n            \"name\": \"uptime\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Devices/#list_available_health_graphs","title":"<code>list_available_health_graphs</code>","text":"<p>This function allows to do three things:</p> <ul> <li>Get a list of overall health graphs available.</li> <li>Get a list of health graphs based on provided class.</li> <li>Get the health sensors information based on ID.</li> </ul> <p>Route: <code>/api/v0/devices/:hostname/health(/:type)(/:sensor_id)</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>type (optional) is health type / sensor class</li> <li>sensor_id (optional) is the sensor id to retrieve specific information.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 2,\n    \"graphs\": [\n        {\n            \"desc\": \"Airflow\",\n            \"name\": \"device_airflow\"\n        },\n        {\n            \"desc\": \"Voltage\",\n            \"name\": \"device_voltage\"\n        }\n    ]\n}\n</code></pre> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 2,\n    \"graphs\": [\n        {\n            \"sensor_id\": \"1\",\n            \"desc\": \"Input Feed A\"\n        },\n        {\n            \"sensor_id\": \"2\",\n            \"desc\": \"Output Feed\"\n        }\n    ]\n}\n</code></pre> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage/1\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"graphs\": [\n        {\n            \"sensor_id\": \"1\",\n            \"sensor_deleted\": \"0\",\n            \"sensor_class\": \"voltage\",\n            \"device_id\": \"1\",\n            \"poller_type\": \"snmp\",\n            \"sensor_oid\": \".1.3.6.1.4.1.318.1.1.27.1.1.0\",\n            \"sensor_index\": \"1\",\n            \"sensor_type\": \"apc\",\n            \"sensor_descr\": \"Input\",\n            \"sensor_divisor\": \"1\",\n            \"sensor_multiplier\": \"1\",\n            \"sensor_current\": \"1\",\n            \"sensor_limit\": \"1.15\",\n            \"sensor_limit_warn\": null,\n            \"sensor_limit_low\": \"0.85\",\n            \"sensor_limit_low_warn\": null,\n            \"sensor_alert\": \"1\",\n            \"sensor_custom\": \"No\",\n            \"entPhysicalIndex\": null,\n            \"entPhysicalIndex_measured\": null,\n            \"lastupdate\": \"2017-01-13 13:50:26\",\n            \"sensor_prev\": \"1\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Devices/#list_available_wireless_graphs","title":"<code>list_available_wireless_graphs</code>","text":"<p>This function allows to do three things:</p> <ul> <li>Get a list of overall wireless graphs available.</li> <li>Get a list of wireless graphs based on provided class.</li> <li>Get the wireless sensors information based on ID.</li> </ul> <p>Route: <code>/api/v0/devices/:hostname/wireless(/:type)(/:sensor_id)</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>type (optional) is wireless type / wireless class</li> <li>sensor_id (optional) is the sensor id to retrieve specific information.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/wireless\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"graphs\": [\n        {\n            \"desc\": \"Ccq\",\n            \"name\": \"device_wireless_ccq\"\n        },\n        {\n            \"desc\": \"Clients\",\n            \"name\": \"device_wireless_clients\"\n        }\n    ],\n    \"count\": 2\n}\n</code></pre> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/wireless/device_wireless_ccq\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"graphs\": [\n        {\n            \"sensor_id\": \"791\",\n            \"desc\": \"SSID: bast (ng)\"\n        },\n        {\n            \"sensor_id\": \"792\",\n            \"desc\": \"SSID: bast (na)\"\n        }\n    ],\n    \"count\": 2\n}\n</code></pre> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_wireless_ccq/1\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"graphs\": [\n        {\n            \"sensor_id\": \"791\",\n            \"sensor_deleted\": \"0\",\n            \"sensor_class\": \"ccq\",\n            \"device_id\": \"381\",\n            \"sensor_index\": \"0\",\n            \"sensor_type\": \"unifi\",\n            \"sensor_descr\": \"SSID: bast (ng)\",\n            \"sensor_divisor\": \"10\",\n            \"sensor_multiplier\": \"1\",\n            \"sensor_aggregator\": \"sum\",\n            \"sensor_current\": \"100\",\n            \"sensor_prev\": \"100\",\n            \"sensor_limit\": null,\n            \"sensor_limit_warn\": null,\n            \"sensor_limit_low\": null,\n            \"sensor_limit_low_warn\": null,\n            \"sensor_alert\": \"1\",\n            \"sensor_custom\": \"No\",\n            \"entPhysicalIndex\": null,\n            \"entPhysicalIndex_measured\": null,\n            \"lastupdate\": \"2017-12-06 21:26:29\",\n            \"sensor_oids\": \"[\\\".1.3.6.1.4.1.41112.1.6.1.2.1.3.0\\\"]\",\n            \"access_point_id\": null\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Devices/#get_health_graph","title":"<code>get_health_graph</code>","text":"<p>Get a particular health class graph for a device, if you provide a sensor_id as well then a single sensor graph will be provided. If no sensor_id value is provided then you will be sent a stacked sensor graph.</p> <p>Route: <code>/api/v0/devices/:hostname/graphs/health/:type(/:sensor_id)</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>type is the name of the health graph as returned by <code>list_available_health_graphs</code></li> <li>sensor_id (optional) restricts the graph to return a particular health sensor graph.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage\n</code></pre> <p>Output:</p> <p>Output is a stacked graph for the health type provided.</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage/1\n</code></pre> <p>Output:</p> <p>Output is the graph of the particular health type sensor provided.</p>"},{"location":"API/Devices/#get_wireless_graph","title":"<code>get_wireless_graph</code>","text":"<p>Get a particular wireless class graph for a device, if you provide a sensor_id as well then a single sensor graph will be provided. If no sensor_id value is provided then you will be sent a stacked wireless graph.</p> <p>Route: <code>/api/v0/devices/:hostname/graphs/wireless/:type(/:sensor_id)</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>type is the name of the wireless graph as returned by <code>list_available_wireless_graphs</code></li> <li>sensor_id (optional) restricts the graph to return a particular   wireless sensor graph.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/wireless/device_wireless_ccq\n</code></pre> <p>Output:</p> <p>Output is a stacked graph for the wireless type provided.</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/wireless/device_wireless_ccq/1\n</code></pre> <p>Output:</p> <p>Output is the graph of the particular wireless type sensor provided.</p>"},{"location":"API/Devices/#get_graph_generic_by_hostname","title":"<code>get_graph_generic_by_hostname</code>","text":"<p>Get a specific graph for a device, this does not include ports.</p> <p>Route: <code>/api/v0/devices/:hostname/:type</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>type is the type of graph you want, use   [<code>get_graphs</code>](#function-get_graphs to see the graphs   available. Defaults to device uptime.</li> </ul> <p>Input:</p> <ul> <li>from: This is the date you would like the graph to start - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html   for more information.</li> <li>to: This is the date you would like the graph to end - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html   for more information.</li> <li>width: The graph width, defaults to 1075.</li> <li>height: The graph height, defaults to 300.</li> <li>output: Set how the graph should be outputted (base64, display), defaults to display.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/device_poller_perf\n</code></pre> <p>Output:</p> <p>Output is an image.</p>"},{"location":"API/Devices/#get_graph_by_service","title":"<code>get_graph_by_service</code>","text":"<p>Get the graph for a service</p> <p>Route: <code>/api/v0/devices/:hostname/services/:service_id/graphs/:datasource</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>service id</li> <li>datasource is the name of the service datasource</li> </ul> <p>Input:</p> <ul> <li>from: This is the date you would like the graph to start - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html   for more information.</li> <li>to: This is the date you would like the graph to end - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html   for more information.</li> <li>width: The graph width, defaults to 1075.</li> <li>height: The graph height, defaults to 300.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/localhost/35/graphs/loss\n</code></pre> <p>Output:</p> <p>Output is an image.</p>"},{"location":"API/Devices/#get_port_graphs","title":"<code>get_port_graphs</code>","text":"<p>Get a list of ports for a particular device.</p> <p>Route: <code>/api/v0/devices/:hostname/ports</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <ul> <li>columns: Comma separated list of columns you want returned.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 3,\n    \"ports\": [\n        {\n            \"ifName\": \"lo\"\n        },\n        {\n            \"ifName\": \"eth0\"\n        },\n        {\n            \"ifName\": \"eth1\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Devices/#get_device_fdb","title":"<code>get_device_fdb</code>","text":"<p>Get a list of FDB entries associated with a device.</p> <p>Route: <code>/api/v0/devices/:hostname/fdb</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/fdb\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ports_fdb\": {\n        \"ports_fdb_id\": 10,\n        \"port_id\": 10000,\n        \"mac_address\": \"1aaa2bbb3ccc\",\n        \"vlan_id\": 20000,\n        \"device_id\": 1,\n        \"created_at\": \"2019-01-1 01:01:01\",\n        \"updated_at\": \"2019-01-1 01:01:01\"\n    }\n}\n</code></pre>"},{"location":"API/Devices/#get_device_ip_addresses","title":"<code>get_device_ip_addresses</code>","text":"<p>Get a list of IP addresses (v4 and v6) associated with a device.</p> <p>Route: <code>/api/v0/devices/:hostname/ip</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ip\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"addresses\": [\n        {\n          \"ipv4_address_id\": \"290\",\n          \"ipv4_address\": \"192.168.99.292\",\n          \"ipv4_prefixlen\": \"30\",\n          \"ipv4_network_id\": \"247\",\n          \"port_id\": \"323\",\n          \"context_name\": \"\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Devices/#get_port_stack","title":"<code>get_port_stack</code>","text":"<p>Get a list of port mappings for a device.  This is useful for showing physical ports that are in a virtual port-channel.</p> <p>Route: <code>/api/v0/devices/:hostname/port_stack</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <ul> <li>valid_mappings: Filter the result by only showing valid mappings   (\"0\" values not shown).</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/port_stack?valid_mappings\n</code></pre> <p>Output:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"message\": \"\",\n  \"count\": 2,\n  \"mappings\": [\n    {\n      \"device_id\": \"3742\",\n      \"port_id_high\": \"1001000\",\n      \"port_id_low\": \"51001\",\n      \"ifStackStatus\": \"active\"\n    },\n    {\n      \"device_id\": \"3742\",\n      \"port_id_high\": \"1001000\",\n      \"port_id_low\": \"52001\",\n      \"ifStackStatus\": \"active\"\n    }\n  ]\n}\n</code></pre>"},{"location":"API/Devices/#get_components","title":"<code>get_components</code>","text":"<p>Get a list of components for a particular device.</p> <p>Route: <code>/api/v0/devices/:hostname/components</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <ul> <li>type: Filter the result by type (Equals).</li> <li>id: Filter the result by id (Equals).</li> <li>label: Filter the result by label (Contains).</li> <li>status: Filter the result by status (Equals).</li> <li>disabled: Filter the result by disabled (Equals).</li> <li>ignore: Filter the result by ignore (Equals).</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 3,\n    \"components\": {\n        \"2\": {\n            \"TestAttribute-1\": \"Value1\",\n            \"TestAttribute-2\": \"Value2\",\n            \"TestAttribute-3\": \"Value3\",\n            \"type\": \"TestComponent-1\",\n            \"label\": \"This is a really cool blue component\",\n            \"status\": \"1\",\n            \"ignore\": \"0\",\n            \"disabled\": \"0\"\n        },\n        \"20\": {\n            \"TestAttribute-1\": \"Value4\",\n            \"TestAttribute-2\": \"Value5\",\n            \"TestAttribute-3\": \"Value6\",\n            \"type\": \"TestComponent-1\",\n            \"label\": \"This is a really cool red component\",\n            \"status\": \"1\",\n            \"ignore\": \"0\",\n            \"disabled\": \"0\"\n        },\n        \"27\": {\n            \"TestAttribute-1\": \"Value7\",\n            \"TestAttribute-2\": \"Value8\",\n            \"TestAttribute-3\": \"Value9\",\n            \"type\": \"TestComponent-2\",\n            \"label\": \"This is a really cool yellow widget\",\n            \"status\": \"1\",\n            \"ignore\": \"0\",\n            \"disabled\": \"0\"\n        }\n    }\n}\n</code></pre>"},{"location":"API/Devices/#add_components","title":"<code>add_components</code>","text":"<p>Create a new component of a type on a particular device.</p> <p>Route: <code>/api/v0/devices/:hostname/components/:type</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>type is the type of component to add</li> </ul> <p>Example:</p> <pre><code>curl -X POST -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/APITEST\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"components\": {\n        \"4459\": {\n            \"type\": \"APITEST\",\n            \"label\": \"\",\n            \"status\": 1,\n            \"ignore\": 0,\n            \"disabled\": 0,\n            \"error\": \"\"\n        }\n    }\n}\n</code></pre>"},{"location":"API/Devices/#edit_components","title":"<code>edit_components</code>","text":"<p>Edit an existing component on a particular device.</p> <p>Route: <code>/api/v0/devices/:hostname/components</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>In this example we set the label and add a new field: TestField:</p> <pre><code>curl -X PUT -d '{\"4459\": {\"type\": \"APITEST\",\"label\": \"This is a test label\",\"status\": 1,\"ignore\": 0,\"disabled\": 0,\"error\": \"\",\"TestField\": \"TestData\"}}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1\n}\n</code></pre> <p>Just take the JSON array from add_components or edit_components, edit as you wish and submit it back to edit components.</p>"},{"location":"API/Devices/#delete_components","title":"<code>delete_components</code>","text":"<p>Delete an existing component on a particular device.</p> <p>Route: <code>/api/v0/devices/:hostname/components/:component</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>component is the component ID to be deleted.</li> </ul> <p>Example:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/4459\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\"\n}\n</code></pre>"},{"location":"API/Devices/#get_port_stats_by_port_hostname","title":"<code>get_port_stats_by_port_hostname</code>","text":"<p>Get information about a particular port for a device.</p> <p>Route: <code>/api/v0/devices/:hostname/ports/:ifname</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>ifname can be any of the interface names for the device which can be   obtained using   <code>get_port_graphs</code>. Please ensure that   the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded.</li> </ul> <p>Input:</p> <ul> <li>columns: Comma separated list of columns you want returned.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"port\": {\n  \"port_id\": \"2\",\n  \"device_id\": \"1\",\n  ...\n  \"poll_prev\": \"1418412902\",\n  \"poll_period\": \"300\"\n }\n}\n</code></pre>"},{"location":"API/Devices/#get_graph_by_port_hostname","title":"<code>get_graph_by_port_hostname</code>","text":"<p>Get a graph of a port for a particular device.</p> <p>Route: <code>/api/v0/devices/:hostname/ports/:ifname/:type</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>ifname can be any of the interface names for the device which can be   obtained using   <code>get_port_graphs</code>. Please ensure that   the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need   to be urlencoded.</li> <li>type is the port type you want the graph for, you can request a list   of ports for a device with <code>get_port_graphs</code>.</li> </ul> <p>Input:</p> <ul> <li>from: This is the date you would like the graph to start - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html   for more information.</li> <li>to: This is the date you would like the graph to end - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html   for more information.</li> <li>width: The graph width, defaults to 1075.</li> <li>height: The graph height, defaults to 300.</li> <li>ifDescr: If this is set to true then we will use ifDescr to lookup   the port instead of ifName. Pass the ifDescr value you want to   search as you would ifName.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0/port_bits\n</code></pre> <p>Output:</p> <p>Output is an image.</p>"},{"location":"API/Devices/#list_sensors","title":"<code>list_sensors</code>","text":"<p>Get a list of all Sensors.</p> <p>Route: <code>/api/v0/resources/sensors</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/sensors\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"sensors\": [\n        {\n            \"sensor_id\": 218810,\n            \"sensor_deleted\": 0,\n            \"sensor_class\": \"dbm\",\n            \"device_id\": 136,\n            \"poller_type\": \"snmp\",\n            \"sensor_oid\": \".1.3.6.1.4.1.2636.3.60.1.1.1.1.7.919\",\n            \"sensor_index\": \"tx-919\",\n            \"sensor_type\": \"junos\",\n            \"sensor_descr\": \"xe-2/1/4 Tx Power\",\n            \"group\": null,\n            \"sensor_divisor\": 100,\n            \"sensor_multiplier\": 1,\n            \"sensor_current\": -1.81,\n            \"sensor_limit\": 2,\n            \"sensor_limit_warn\": 0.5,\n            \"sensor_limit_low\": -9.7,\n            \"sensor_limit_low_warn\": -8.21,\n            \"sensor_alert\": 1,\n            \"sensor_custom\": \"No\",\n            \"entPhysicalIndex\": \"919\",\n            \"entPhysicalIndex_measured\": \"ports\",\n            \"lastupdate\": \"2019-02-18 02:47:09\",\n            \"sensor_prev\": -1.77,\n            \"user_func\": null\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Devices/#list_devices","title":"<code>list_devices</code>","text":"<p>Return a list of devices.</p> <p>Route: <code>/api/v0/devices</code></p> <p>Input:</p> <ul> <li>order: How to order the output, default is by hostname. Can be   prepended by DESC or ASC to change the order.</li> <li>type: can be one of the following to filter or search by:</li> <li>all: All devices</li> <li>active: Only not ignored and not disabled devices</li> <li>ignored: Only ignored devices</li> <li>up: Only devices that are up</li> <li>down: Only devices that are down</li> <li>disabled: Disabled devices</li> <li>os: search by os type</li> <li>mac: search by mac address</li> <li>ipv4: search by IPv4 address</li> <li>ipv6: search by IPv6 address (compressed or uncompressed)</li> <li>location: search by location</li> <li>location_id: serach by locaiton_id</li> <li>hostname: search by hostname</li> <li>sysName: search by sysName</li> <li>display: search by display name</li> <li>device_id: exact match by device-id</li> <li>type: search by device type</li> <li>query: If searching by, then this will be used as the input.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?order=hostname%20DESC&amp;type=down\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"count\": 1,\n \"devices\": [\n  {\n   \"device_id\": \"1\",\n   \"hostname\": \"localhost\",\n   ...\n   \"serial\": null,\n   \"icon\": null\n  }\n ]\n}\n</code></pre> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?type=mac&amp;query=00000c9ff013\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"count\": 1,\n \"devices\": [\n  {\n   \"device_id\": \"1\",\n   \"hostname\": \"localhost\",\n   ...\n   \"serial\": null,\n   \"icon\": null\n  }\n ]\n}\n</code></pre>"},{"location":"API/Devices/#device_under_maintenance","title":"<code>device_under_maintenance</code>","text":"<p>Get the current maintenance status of a device.</p> <p>Route: <code>/api/v0/devices/:hostname/maintenance</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/maintenance\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"is_under_maintenance\": true\n}\n</code></pre>"},{"location":"API/Devices/#maintenance_device","title":"<code>maintenance_device</code>","text":"<p>Set a device into maintenance mode.</p> <p>Route: <code>/api/v0/devices/:hostname/maintenance</code></p> <p>Input (JSON):</p> <ul> <li><code>title</code>: optional -  Some title for the Maintenance   Will be replaced with hostname if omitted</li> <li><code>notes</code>: optional -  Some description for the Maintenance   Will also be added to device notes if user prefs \"Add schedule notes to devices notes\" is set</li> <li><code>start</code>: optional - start time of Maintenance in full format <code>Y-m-d H:i:00</code>   eg: 2022-08-01 22:45:00   Current system time <code>now()</code> will be used if omitted</li> <li><code>duration</code>: required - Duration of Maintenance in format <code>H:i</code> / <code>Hrs:Mins</code>   eg: 02:00</li> </ul> <p>Example with start time:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devices/localhost/maintenance/ \\\n  --data-raw '\n \"title\":\"Device Maintenance\",\n  \"notes\":\"A 2 hour Maintenance triggered via API with start time\",\n  \"start\":\"2022-08-01 08:00:00\",\n  \"duration\":\"2:00\"\n}\n'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device localhost (1) will begin maintenance mode at 2022-08-01 22:45:00 for 2:00h\"\n}\n</code></pre> <p>Example with no start time:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST https://librenms.org/api/v0/devices/localhost/maintenance/ \\\n  --data-raw '\n \"title\":\"Device Maintenance\",\n  \"notes\":\"A 2 hour Maintenance triggered via API with no start time\",\n  \"duration\":\"2:00\"\n}\n'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device localhost (1) moved into maintenance mode for 2:00h\"\n}\n</code></pre>"},{"location":"API/Devices/#add_device","title":"<code>add_device</code>","text":"<p>Add a new device.  Most fields are optional. You may omit snmp credentials to attempt each system credential in order. See snmp.version, snmp.community, and snmp.v3</p> <p>To guarantee device is added, use force_add. This will skip checks  for duplicate device and snmp reachability, but not duplicate hostname.</p> <p>Route: <code>/api/v0/devices</code></p> <p>Input (JSON):</p> <p>Fields:</p> <ul> <li>hostname (required): device hostname or IP</li> <li>display: A string to display as the name of this device, defaults to    hostname (or device_display_default setting). May be a simple   template using replacements: {{ $hostname }}, {{ $sysName }},   {{ $sysName_fallback }}, {{ $ip }}</li> <li>snmpver: SNMP version to use, v1, v2c or v3. During checks detection order is v2c,v3,v1</li> <li>port: SNMP port (defaults to port defined in config).</li> <li>transport: SNMP protocol (udp,tcp,udp6,tcp6) Defaults to transport defined in config.</li> <li>port_association_mode: method to identify ports: ifIndex (default), ifName, ifDescr, ifAlias</li> <li>poller_group: This is the poller_group id used for distributed poller setup. Defaults to 0.</li> <li>location or location_id: set the location by text or location id</li> </ul> <p>Options:</p> <ul> <li>force_add: Skip all checks and attempts to detect credentials. Add the device as given directly to the database.</li> <li>ping_fallback: if snmp checks fail, add the device as ping only instead of failing</li> </ul> <p>SNMP v1 or v2c credentials:</p> <ul> <li>community: Required for SNMP v1 or v2c.</li> </ul> <p>SNMP v3 credentials:</p> <ul> <li>authlevel: SNMP authlevel (noAuthNoPriv, authNoPriv, authPriv).</li> <li>authname: SNMP Auth username</li> <li>authpass: SNMP Auth password</li> <li>authalgo: SNMP Auth algorithm (MD5, SHA) (SHA-224, SHA-256, SHA-384, SHA-512 if supported by your server)</li> <li>cryptopass: SNMP Crypto Password</li> <li>cryptoalgo: SNMP Crypto algorithm (AES, DES)</li> </ul> <p>For ICMP only:</p> <ul> <li>snmp_disable: set to true for ICMP only. Disables SNMP checks and polling.</li> <li>os: OS short name for the device (defaults to ping).</li> <li>sysName: sysName for the device.</li> <li>hardware: Device hardware.</li> </ul> <p>Example:</p> <pre><code>curl -X POST -d '{\"hostname\":\"localhost.localdomain\",\"version\":\"v1\",\"community\":\"public\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device localhost.localdomain (57) has been added successfully\",\n    \"devices\": [\n        {\n            \"device_id\": \"57\",\n            \"hostname\": \"localhost\",\n            ...\n            \"serial\": null,\n            \"icon\": null\n        }\n}\n</code></pre>"},{"location":"API/Devices/#list_oxidized","title":"<code>list_oxidized</code>","text":"<p>List devices for use with Oxidized. If you have group support enabled then a group will also be returned based on your config.</p> <p>LibreNMS will automatically map the OS to the Oxidized model name if they don't match.</p> <p>Route: <code>/api/v0/oxidized(/:hostname)</code></p> <p>Input (JSON):</p> <p>-</p> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"hostname\": \"localhost\",\n        \"os\": \"linux\"\n    },\n    {\n        \"hostname\": \"otherserver\",\n        \"os\": \"linux\"\n    }\n]\n</code></pre>"},{"location":"API/Devices/#update_device_field","title":"<code>update_device_field</code>","text":"<p>Update devices field in the database.</p> <p>Route: <code>/api/v0/devices/:hostname</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input (JSON):</p> <ul> <li>field: The column name within the database (can be an array of fields)</li> <li>data: The data to update the column with (can be an array of data))</li> </ul> <p>Examples:</p> <pre><code>curl -X PATCH -d '{\"field\": \"notes\", \"data\": \"This server should be kept online\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Device notes has been updated\"\n    }\n]\n</code></pre>"},{"location":"API/Devices/#update_device_port_notes","title":"<code>update_device_port_notes</code>","text":"<p>Update a device port notes field in the devices_attrs database.</p> <p>Route: <code>/api/v0/devices/:hostname/port/:portid</code></p> <ul> <li>hostname can be either the device hostname or id</li> <li>portid needs to be the port unique id (int).</li> </ul> <p>Input (JSON): - notes: The string data to populate on the port notes field.</p> <p>Examples:</p> <pre><code>curl -X PATCH -d '{\"notes\": \"This port is in a scheduled maintenance with the provider.\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/port/5\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Port notes field has been updated\"\n    }\n]\n</code></pre> <pre><code>curl -X PATCH -d '{\"field\": [\"notes\",\"purpose\"], \"data\": [\"This server should be kept online\", \"For serving web traffic\"]}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Device fields have been updated\"\n    }\n]\n</code></pre>"},{"location":"API/Devices/#rename_device","title":"<code>rename_device</code>","text":"<p>Rename device.</p> <p>Route: <code>/api/v0/devices/:hostname/rename/:new_hostname</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Examples:</p> <pre><code>curl -X PATCH  -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/rename/localhost2\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Device has been renamed\"\n    }\n]\n</code></pre>"},{"location":"API/Devices/#get_device_groups","title":"<code>get_device_groups</code>","text":"<p>List the device groups that a device is matched on.</p> <p>Route: <code>/api/v0/devices/:hostname/groups</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input (JSON):</p> <p>-</p> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/groups\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Found 1 device groups\",\n        \"count\": 1,\n        \"groups\": [\n        {\n            \"id\": \"1\",\n            \"name\": \"Testing\",\n            \"desc\": \"Testing\",\n            \"pattern\": \"%devices.status = \\\"1\\\" &amp;&amp;\"\n        }\n        ]\n    }\n]\n</code></pre>"},{"location":"API/Devices/#search_oxidized","title":"<code>search_oxidized</code>","text":"<p>search all oxidized device configs for a string.</p> <p>Route: <code>api/v0/oxidized/config/search/:searchstring</code></p> <ul> <li>searchstring is the specific string you would like to search for.</li> </ul> <p>Input:</p> <p>-</p> <p>Example: <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized/config/search/vlan10\n</code></pre></p> <p>Output: <pre><code>{\n    \"status\": \"ok\",\n    \"nodes\": [\n        {\n            \"node\": \"asr9k.librenms.org\",\n            \"full_name\": \"cisco\\/ASR9K.Librenms.org\"\n        },\n        {\n            \"node\": \"ios.Librenms.org\",\n            \"full_name\": \"cisco\\/ios.Librenms.org\"\n        }\n    ],\n    \"count\": 2\n}\n</code></pre></p>"},{"location":"API/Devices/#get_oxidized_config","title":"<code>get_oxidized_config</code>","text":"<p>Returns a specific device's config from oxidized.</p> <p>Route: <code>api/v0/oxidized/config/:hostname</code></p> <ul> <li>hostname is the Hostname or IP of the device used when adding the device to librenms.</li> </ul> <p>Input:</p> <p>-</p> <p>Example: <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized/config/router.corp.com\n</code></pre></p> <p>Output: <pre><code>{\n    \"status\": \"ok\",\n    \"config\": \"DEVICE CONFIG HERE\"\n}\n</code></pre></p>"},{"location":"API/Devices/#add_parents_to_host","title":"<code>add_parents_to_host</code>","text":"<p>Add one or more parents to a host.</p> <p>Route: <code>/api/v0/devices/:device/parents</code></p> <p>Input (JSON):</p> <ul> <li>parent_ids: one or more parent ids or hostnames</li> </ul> <p>Example: <pre><code>curl -X POST -d '{\"parent_ids\":\"15,16,17\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/1/parents\n</code></pre></p> <p>Output: <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Device dependencies have been saved\"\n}\n</code></pre></p>"},{"location":"API/Devices/#delete_parents_from_host","title":"<code>delete_parents_from_host</code>","text":"<p>Deletes some or all the parents from a host.</p> <p>Route: <code>/api/v0/devices/:device/parents</code></p> <p>Input (JSON):</p> <ul> <li>parent_ids: One or more parent ids or hostnames, if not specified deletes all parents from host.</li> </ul> <p>Example: <pre><code>curl -X DELETE -d '{\"parent_ids\":\"15,16,17\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/1/parents\n</code></pre></p> <p>Output: <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"All device dependencies have been removed\"\n}\n</code></pre></p>"},{"location":"API/Devices/#list_parents_of_host","title":"<code>list_parents_of_host</code>","text":"<p>This is not a seperate API call.  Instead, you obtain the list of parents from <code>list_devices</code>.  See that entry point for more detailed information.</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' 'http://librenms.org/api/v0/devices?type=device_id&amp;query=34'\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"devices\": [\n        {\n            ...\n            \"dependency_parent_id\": \"98,99\",\n            \"dependency_parent_hostname\": \"HOSTNAME1,HOSTNAME2\",\n            ...\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Inventory/","title":"Inventory","text":""},{"location":"API/Inventory/#get_inventory","title":"<code>get_inventory</code>","text":"<p>Retrieve the inventory for a device. If you call this without any parameters then you will only get part of the inventory. This is because a lot of devices nest each component, for instance you may initially have the chassis, within this the ports - 1 being an sfp cage, then the sfp itself. The way this API call is designed is to enable a recursive lookup. The first call will retrieve the root entry, included within this response will be entPhysicalIndex, you can then call for entPhysicalContainedIn which will then return the next layer of results.  To retrieve all items together, see get_inventory_for_device.</p> <p>Route: <code>/api/v0/inventory/:hostname</code></p> <ul> <li>hostname can be either the device hostname or the device id</li> </ul> <p>Input:</p> <ul> <li>entPhysicalClass: This is used to restrict the class of the   inventory, for example you can specify chassis to only return items   in the inventory that are labelled as chassis.</li> <li>entPhysicalContainedIn: This is used to retrieve items within the   inventory assigned to a previous component, for example specifying   the chassis (entPhysicalIndex) will retrieve all items where the   chassis is the parent.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/inventory/localhost?entPhysicalContainedIn=65536\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"inventory\": [\n        {\n            \"entPhysical_id\": \"2\",\n            \"device_id\": \"32\",\n            \"entPhysicalIndex\": \"262145\",\n            \"entPhysicalDescr\": \"Linux 3.3.5 ehci_hcd RB400 EHCI\",\n            \"entPhysicalClass\": \"unknown\",\n            \"entPhysicalName\": \"1:1\",\n            \"entPhysicalHardwareRev\": \"\",\n            \"entPhysicalFirmwareRev\": \"\",\n            \"entPhysicalSoftwareRev\": \"\",\n            \"entPhysicalAlias\": \"\",\n            \"entPhysicalAssetID\": \"\",\n            \"entPhysicalIsFRU\": \"false\",\n            \"entPhysicalModelName\": \"0x0002\",\n            \"entPhysicalVendorType\": \"zeroDotZero\",\n            \"entPhysicalSerialNum\": \"rb400_usb\",\n            \"entPhysicalContainedIn\": \"65536\",\n            \"entPhysicalParentRelPos\": \"-1\",\n            \"entPhysicalMfgName\": \"0x1d6b\",\n            \"ifIndex\": \"0\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Inventory/#get_inventory_for_device","title":"<code>get_inventory_for_device</code>","text":"<p>Retrieve the flattened inventory for a device.  This retrieves all inventory items for a device regardless of their structure, and may be more useful for devices with with nested components.</p> <p>Route: <code>/api/v0/inventory/:hostname/all</code></p> <ul> <li>hostname can be either the device hostname or the device id</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/inventory/localhost?entPhysicalContainedIn=65536\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"inventory\": [\n        {\n            \"entPhysical_id\": \"2\",\n            \"device_id\": \"32\",\n            \"entPhysicalIndex\": \"262145\",\n            \"entPhysicalDescr\": \"Linux 3.3.5 ehci_hcd RB400 EHCI\",\n            \"entPhysicalClass\": \"unknown\",\n            \"entPhysicalName\": \"1:1\",\n            \"entPhysicalHardwareRev\": \"\",\n            \"entPhysicalFirmwareRev\": \"\",\n            \"entPhysicalSoftwareRev\": \"\",\n            \"entPhysicalAlias\": \"\",\n            \"entPhysicalAssetID\": \"\",\n            \"entPhysicalIsFRU\": \"false\",\n            \"entPhysicalModelName\": \"0x0002\",\n            \"entPhysicalVendorType\": \"zeroDotZero\",\n            \"entPhysicalSerialNum\": \"rb400_usb\",\n            \"entPhysicalContainedIn\": \"65536\",\n            \"entPhysicalParentRelPos\": \"-1\",\n            \"entPhysicalMfgName\": \"0x1d6b\",\n            \"ifIndex\": \"0\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Locations/","title":"Locations","text":""},{"location":"API/Locations/#list_locations","title":"<code>list_locations</code>","text":"<p>Return a list of locations.</p> <p>Route: <code>/api/v0/resources/locations</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/locations\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"locations\": [\n        {\n            \"id\": \"1\",\n            \"location\": \"Example location, Example city, Example Country\",\n            \"lat\": \"-18.911436\",\n            \"lng\": \"47.517446\",\n            \"timestamp\": \"2017-04-01 02:40:05\"\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Locations/#add_location","title":"<code>add_location</code>","text":"<p>Add a new location</p> <p>Route: <code>/api/v0/locations/</code></p> <p>Input:</p> <ul> <li>location: name of the new location</li> <li>lat: latitude</li> <li>lng: longitude</li> <li>fixed_coordinates: 0 if updated from the device or 1 if the coordinate is fixed (default is fixed if lat and lng are valid)</li> </ul> <p>Example:</p> <pre><code>curl -X POST -d '{\"location\":\"Google\", \"lat\":\"37.4220041\",\"lng\":\"-122.0862462\"}' -H 'X-Auth-Token:YOUR-API-TOKEN' https://librenms.org/api/v0/locations\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Location added with id #45\"\n}\n</code></pre>"},{"location":"API/Locations/#delete_location","title":"<code>delete_location</code>","text":"<p>Deletes an existing location</p> <p>Route: <code>/api/v0/locations/:location</code></p> <ul> <li>location: name or id of the location to delete</li> </ul> <p>Example:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token:YOUR-API-TOKEN' https://librenms.org/api/v0/locations/Google\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Location Google has been deleted successfully\"\n\n}\n</code></pre>"},{"location":"API/Locations/#edit_location","title":"<code>edit_location</code>","text":"<p>Edits a location</p> <p>Route: <code>/api/v0/locations/:location</code></p> <ul> <li>location: name or id of the location to edit</li> </ul> <p>Input:</p> <ul> <li>lat: latitude</li> <li>lng: longitude</li> </ul> <p>Example:</p> <pre><code>curl -X PATCH -d '{\"lng\":\"100.0862462\"}' -H 'X-Auth-Token:YOUR-API-TOKEN' https://librenms.org/api/v0/locations/Google\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Location updated successfully\"\n}\n</code></pre>"},{"location":"API/Locations/#get_location","title":"<code>get_location</code>","text":"<p>Gets a specific location</p> <p>Route: <code>/api/v0/location/:location</code></p> <ul> <li>location: name or id of the location to get</li> </ul> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"get_location\": [\n        {\n            \"id\": 1,\n            \"location\": \"TEST\",\n            \"lat\": 00.000000,\n            \"lng\": 00.000000,\n            \"timestamp\": \"2023-01-01 00:00:00\",\n            \"fixed_coordinates\": 1\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Logs/","title":"Logs","text":"<p>All the <code>list_*logs</code> calls are aliased to <code>list_logs</code>.</p> <p>Retrieve all logs or logs for a specific device.</p> <ul> <li>id or hostname is the specific device</li> </ul> <p>Input:</p> <ul> <li>start: The page number to request.</li> <li>limit: The limit of results to be returned.</li> <li>from: The date and time or the event id to search from.</li> <li>to: The data and time or the event id to search to.</li> </ul>"},{"location":"API/Logs/#list_eventlog","title":"<code>list_eventlog</code>","text":"<p>Route: <code>/api/v0/logs/eventlog/:hostname</code></p>"},{"location":"API/Logs/#list_syslog","title":"<code>list_syslog</code>","text":"<p>Route: <code>/api/v0/logs/syslog/:hostname</code></p>"},{"location":"API/Logs/#list_alertlog","title":"<code>list_alertlog</code>","text":"<p>Route: <code>/api/v0/logs/alertlog/:hostname</code></p>"},{"location":"API/Logs/#list_authlog","title":"<code>list_authlog</code>","text":"<p>Route: <code>/api/v0/logs/authlog/:hostname</code></p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/syslog/:hostname?limit=20\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname?limit=20&amp;start=5&amp;from=2017-07-22%2023:00:00\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname?sortorder=DESC\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 5,\n    \"total\": \"15\",\n    \"logs\": [\n        {\n            \"hostname\": \"localhost\",\n            \"sysName\": \"web01.1.novalocal\",\n            \"event_id\": \"10050349\",\n            \"host\": \"279\",\n            \"device_id\": \"279\",\n            \"datetime\": \"2017-07-22 19:57:47\",\n            \"message\": \"ifAlias:  -&gt;  &lt;pptp-something-something-tunnel-something&gt;\",\n            \"type\": \"interface\",\n            \"reference\": \"NULL\",\n            \"username\": \"\",\n            \"severity\": \"3\"\n        },\n        ....\n        {\n            \"hostname\": \"localhost\",\n            \"sysName\": \"web01.1.novalocal\",\n            \"event_id\": \"10050353\",\n            \"host\": \"279\",\n            \"device_id\": \"279\",\n            \"datetime\": \"2017-07-22 19:57:47\",\n            \"message\": \"ifHighSpeed:  -&gt;  0\",\n            \"type\": \"interface\",\n            \"reference\": \"NULL\",\n            \"username\": \"\",\n            \"severity\": \"3\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Logs/#syslogsink","title":"<code>syslogsink</code>","text":"<p>Route: <code>/api/v0/logs/syslogsink</code></p> <p>Accept any json messages and passes to further syslog processing. single messages or an array of multiple messages is accepted. see Syslog for more details and logstash integration</p> <p>Example <pre><code>curl -L -X POST 'https://sink.librenms.org/api/v0/syslogsink/' -H 'X-Auth-Token: xxxxxxxLibreNMSApiToken' --data-raw '[   \n    {\n        \"msg\": \"kernel: minimum Message\",\n        \"host\": \"mydevice.fqdn.com\"\n    },\n    {\n        \"msg\": \"Line protocol on Interface GigabitEthernet1/0/41, changed state to up\",\n        \"facility\": 23,\n        \"priority\": \"189\",\n        \"program\": \"LINEPROTO-5-UPDOWN\",\n        \"host\": \"172.29.10.24\",\n        \"@timestamp\": \"2022-12-01T20:14:28.257Z\",\n        \"severity\": 5,\n        \"level\": \"ERROR\"\n    },\n    {\n        \"msg\": \"kernel: a unknown host\",\n        \"host\": \"unknown.fqdn.com\"\n    }\n]'\n</code></pre></p>"},{"location":"API/PollerGroups/","title":"PollerGroups","text":""},{"location":"API/PollerGroups/#get_poller_group","title":"<code>get_poller_group</code>","text":"<p>Gets a specific poller group or all if none is specified</p> <p>Route: <code>/api/v0/poller_group/:poller_group</code></p> <ul> <li>poller_group: optional name or id of the poller group to get</li> </ul> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"get_poller_group\": [\n        {\n            \"id\": 1,\n            \"group_name\": \"test\",\n            \"descr\": \"test group\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/PortGroups/","title":"PortGroups","text":""},{"location":"API/PortGroups/#get_graph_by_portgroup","title":"<code>get_graph_by_portgroup</code>","text":"<p>Get the graph based on the group type.</p> <p>Route: <code>/api/v0/portgroups/:group</code></p> <ul> <li>group is the type of port group graph you want, I.e Transit,   Peering, etc. You can specify multiple types comma separated.</li> </ul> <p>Input:</p> <ul> <li>from: This is the date you would like the graph to start - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li> <li>to: This is the date you would like the graph to end - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li> <li>width: The graph width, defaults to 1075.</li> <li>height: The graph height, defaults to 300.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/transit,peering\n</code></pre> <p>Output:</p> <p>Output is an image.</p>"},{"location":"API/PortGroups/#get_graph_by_portgroup_multiport_bits","title":"<code>get_graph_by_portgroup_multiport_bits</code>","text":"<p>Get the graph based on the multiple port id separated by commas <code>,</code>.</p> <p>Route: <code>/api/v0/portgroups/multiport/bits/:id</code></p> <ul> <li>id is a comma separated list of port ids you want, I.e 1,2,3,4,   etc. You can specify multiple IDs comma separated.</li> </ul> <p>Input:</p> <ul> <li>from: This is the date you would like the graph to start - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li> <li>to: This is the date you would like the graph to end - See   http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li> <li>width: The graph width, defaults to 1075.</li> <li>height: The graph height, defaults to 300.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/multiport/bits/1,2,3\n</code></pre> <p>Output:</p> <p>Output is an image.</p>"},{"location":"API/Port_Groups/","title":"Port_Groups","text":""},{"location":"API/Port_Groups/#get_port_groups","title":"<code>get_port_groups</code>","text":"<p>List all port groups.</p> <p>Route: <code>/api/v0/port_groups</code></p> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/port_groups\n</code></pre> <p>Output:</p> <pre><code>[\n    {\n        \"status\": \"ok\",\n        \"message\": \"Found 1 port groups\",\n        \"count\": 1,\n        \"groups\": [\n        {\n            \"id\": \"1\",\n            \"name\": \"Testing\",\n            \"desc\": \"Testing\"\n        }\n        ]\n    }\n]\n</code></pre>"},{"location":"API/Port_Groups/#get_ports_by_group","title":"<code>get_ports_by_group</code>","text":"<p>List all ports matching the group provided.</p> <p>Route: <code>/api/v0/port_groups/:name</code></p> <ul> <li>name Is the name of the port group which can be obtained using   <code>get_port_groups</code>. Please ensure that   the name is urlencoded if it needs to be (i.e Linux Servers would   need to be urlencoded.</li> </ul> <p>Params:</p> <ul> <li>full: set to any value to return all data for the devices in a given group</li> </ul> <p>Examples:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/port_groups/Billable\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ports\": [\n        {\n            \"port_id\": 1376\n        },\n        {\n            \"port_id\": 2376\n        }\n    ],\n    \"count\": 2\n}\n</code></pre>"},{"location":"API/Port_Groups/#add_port_group","title":"<code>add_port_group</code>","text":"<p>Add a new port group. Upon success, the ID of the new port group is returned and the HTTP response code is <code>201</code>.</p> <p>Route: <code>/api/v0/port_groups</code></p> <p>Input (JSON):</p> <ul> <li><code>name</code>: required - The name of the port group</li> <li><code>desc</code>: optional - Description of the port group</li> </ul> <p>Examples:</p> <p>Dynamic Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' \\\n  -X POST \\\n  -d '{\"name\": \"New Port Group\", \\\n       \"desc\": \"A very fancy port group\"}' \\\n  https://librenms.org/api/v0/port_groups\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"id\": 86,\n    \"message\": \"Port group New Port Group created\"\n}\n</code></pre>"},{"location":"API/Port_Groups/#assign_port_group","title":"<code>assign_port_group</code>","text":"<p>Assign a Port Group to a list of Ports</p> <p>Route: <code>/api/v0/port_groups/:port_group_id/assign</code></p> <p>Input (JSON):</p> <ul> <li><code>port_ids</code>: required - List of Port Ids</li> </ul> <p>Examples:</p> <p>Dynamic Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' -X POST -d '{\"port_ids\": [\"4\",\"34\",\"25,\"983\"]}' https://librenms.org/api/v0/port_groups/3/assign\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"Port Ids 4, 34, 25, 983 have been added to Port Group Id 3\": 200\n}\n</code></pre>"},{"location":"API/Port_Groups/#remove_port_group","title":"<code>remove_port_group</code>","text":"<p>Remove a Port Group from a list of Ports</p> <p>Route: <code>/api/v0/port_groups/:port_group_id/remove</code></p> <p>Input (JSON):</p> <ul> <li><code>port_ids</code>: required - List of Port Ids</li> </ul> <p>Examples:</p> <p>Dynamic Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' -X POST -d '{\"port_ids\": [\"4\",\"34\",\"25,\"983\"]}' https://librenms.org/api/v0/port_groups/3/remove\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"Port Ids 4, 34, 25, 983 have been removed from Port Group Id 3\": 200\n}\n</code></pre>"},{"location":"API/Ports/","title":"Ports","text":""},{"location":"API/Ports/#get_all_ports","title":"<code>get_all_ports</code>","text":"<p>Get info for all ports on all devices. Strongly recommend that you use the <code>columns</code> parameter to avoid pulling too much data.</p> <p>Route: <code>/api/v0/ports</code></p> <p>-</p> <p>Input:</p> <ul> <li>columns: Comma separated list of columns you want returned.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports?columns=ifName%2Cport_id\n</code></pre> <p>Output:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"message\": \"\",\n  \"ports\": [\n        {\n          \"ifName\": \"Gi0/0/0\",\n          \"port_id\": \"1\"\n        },\n        {\n          \"ifName\": \"Gi0/0/1\",\n          \"port_id\": \"2\"\n        },\n        ...\n        {\n          \"ifName\": \"Vlan 3615\",\n          \"port_id\": \"5488\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Ports/#search_ports","title":"<code>search_ports</code>","text":"<p>Search for ports matching the query.</p> <p>Route: <code>/api/v0/ports/search/:search</code></p> <ul> <li>search string to search in fields: ifAlias, ifDescr, and ifName</li> </ul> <p>Input:</p> <ul> <li>columns: Comma separated list of columns you want returned.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/search/lo\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ports\": [\n        {\n            \"device_id\": 1,\n            \"port_id\": 1,\n            \"ifIndex\": 1,\n            \"ifName\": \"lo\"\n        },\n        {\n            \"device_id\": 2,\n            \"port_id\": 3,\n            \"ifIndex\": 1,\n            \"ifName\": \"lo\"\n        },\n        {\n            \"device_id\": 3,\n            \"port_id\": 5,\n            \"ifIndex\": 1,\n            \"ifName\": \"lo\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Ports/#search_ports-in-specific-fields","title":"<code>search_ports in specific field(s)</code>","text":"<p>Specific search for ports matching the query.</p> <p>Route: <code>/api/v0/ports/search/:field/:search</code></p> <ul> <li>field: comma separated list of field(s) to search</li> <li>search: string to search in fields</li> </ul> <p>Input:</p> <ul> <li>columns: Comma separated list of columns you want returned.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/search/ifName/lo\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ports\": [\n        {\n            \"device_id\": 1,\n            \"port_id\": 1,\n            \"ifIndex\": 1,\n            \"ifName\": \"lo\"\n        },\n        {\n            \"device_id\": 2,\n            \"port_id\": 3,\n            \"ifIndex\": 1,\n            \"ifName\": \"lo\"\n        },\n        {\n            \"device_id\": 3,\n            \"port_id\": 5,\n            \"ifIndex\": 1,\n            \"ifName\": \"lo\"\n        }\n    ]\n}\n</code></pre>"},{"location":"API/Ports/#ports_with_associated_mac","title":"<code>ports_with_associated_mac</code>","text":"<p>Search for ports matching the search mac.</p> <p>Route: <code>/api/v0/ports/mac/:search?filter=first</code></p> <ul> <li>search a mac address in fdb and print the ports ordered by the mac count of the associated port.</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/mac/00:11:22:33:44:55\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/mac/001122.334455?filter=first\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/mac/001122334455?filter=first\n</code></pre> <p>Output:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"message\": \"\",\n  \"port\": [\n    {\n      \"port_id\": \"323\",\n      \"device_id\": \"55\",\n      \"port_descr_type\": null,\n      \"port_descr_descr\": null,\n      \"port_descr_circuit\": null,\n      \"port_descr_speed\": null,\n      \"port_descr_notes\": null,\n      \"ifDescr\": \"GigabitEthernet0/0/0\",\n      \"ifName\": \"Gi0/0/0\",\n      \"portName\": null,\n      \"ifIndex\": \"1\",\n      \"ifSpeed\": \"1000000000\",\n      \"ifConnectorPresent\": \"true\",\n      \"ifPromiscuousMode\": \"false\",\n      \"ifHighSpeed\": \"1000\",\n      \"ifOperStatus\": \"up\",\n      \"ifOperStatus_prev\": null,\n      \"ifAdminStatus\": \"up\",\n      \"ifAdminStatus_prev\": null,\n      \"ifDuplex\": \"fullDuplex\",\n      \"ifMtu\": \"1560\",\n      \"ifType\": \"ethernetCsmacd\",\n      \"ifAlias\": \"ASR Interconnect Trunk\",\n      \"ifPhysAddress\": \"84bf20853e00\",\n      \"ifHardType\": null,\n      \"ifLastChange\": \"42407358\",\n      \"ifVlan\": \"\",\n      \"ifTrunk\": \"\",\n      \"ifVrf\": \"0\",\n      \"counter_in\": null,\n      \"counter_out\": null,\n      \"ignore\": \"0\",\n      \"disabled\": \"0\",\n      \"detailed\": \"0\",\n      \"deleted\": \"0\",\n      \"pagpOperationMode\": null,\n      \"pagpPortState\": null,\n      \"pagpPartnerDeviceId\": null,\n      \"pagpPartnerLearnMethod\": null,\n      \"pagpPartnerIfIndex\": null,\n      \"pagpPartnerGroupIfIndex\": null,\n      \"pagpPartnerDeviceName\": null,\n      \"pagpEthcOperationMode\": null,\n      \"pagpDeviceId\": null,\n      \"pagpGroupIfIndex\": null,\n      \"ifInUcastPkts\": \"128518576\",\n      \"ifInUcastPkts_prev\": \"128517284\",\n      \"ifInUcastPkts_delta\": \"1292\",\n      \"ifInUcastPkts_rate\": \"4\",\n      \"ifOutUcastPkts\": \"128510560\",\n      \"ifOutUcastPkts_prev\": \"128509268\",\n      \"ifOutUcastPkts_delta\": \"1292\",\n      \"ifOutUcastPkts_rate\": \"4\",\n      \"ifInErrors\": \"0\",\n      \"ifInErrors_prev\": \"0\",\n      \"ifInErrors_delta\": \"0\",\n      \"ifInErrors_rate\": \"0\",\n      \"ifOutErrors\": \"0\",\n      \"ifOutErrors_prev\": \"0\",\n      \"ifOutErrors_delta\": \"0\",\n      \"ifOutErrors_rate\": \"0\",\n      \"ifInOctets\": \"12827393730\",\n      \"ifInOctets_prev\": \"12827276736\",\n      \"ifInOctets_delta\": \"116994\",\n      \"ifInOctets_rate\": \"387\",\n      \"ifOutOctets\": \"14957481766\",\n      \"ifOutOctets_prev\": \"14957301765\",\n      \"ifOutOctets_delta\": \"180001\",\n      \"ifOutOctets_rate\": \"596\",\n      \"poll_time\": \"1483779150\",\n      \"poll_prev\": \"1483778848\",\n      \"poll_period\": \"302\"\n    }\n  ]\n}\n</code></pre>"},{"location":"API/Ports/#get_port_info","title":"<code>get_port_info</code>","text":"<p>Get all info for a particular port.</p> <p>Route: <code>/api/v0/ports/:portid</code></p> <ul> <li>portid must be an integer</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323\n</code></pre> <p>Output:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"message\": \"\",\n  \"port\": [\n    {\n      \"port_id\": \"323\",\n      \"device_id\": \"55\",\n      \"port_descr_type\": null,\n      \"port_descr_descr\": null,\n      \"port_descr_circuit\": null,\n      \"port_descr_speed\": null,\n      \"port_descr_notes\": null,\n      \"ifDescr\": \"GigabitEthernet0/0/0\",\n      \"ifName\": \"Gi0/0/0\",\n      \"portName\": null,\n      \"ifIndex\": \"1\",\n      \"ifSpeed\": \"1000000000\",\n      \"ifConnectorPresent\": \"true\",\n      \"ifPromiscuousMode\": \"false\",\n      \"ifHighSpeed\": \"1000\",\n      \"ifOperStatus\": \"up\",\n      \"ifOperStatus_prev\": null,\n      \"ifAdminStatus\": \"up\",\n      \"ifAdminStatus_prev\": null,\n      \"ifDuplex\": \"fullDuplex\",\n      \"ifMtu\": \"1560\",\n      \"ifType\": \"ethernetCsmacd\",\n      \"ifAlias\": \"ASR Interconnect Trunk\",\n      \"ifPhysAddress\": \"84bf20853e00\",\n      \"ifHardType\": null,\n      \"ifLastChange\": \"42407358\",\n      \"ifVlan\": \"\",\n      \"ifTrunk\": \"\",\n      \"ifVrf\": \"0\",\n      \"counter_in\": null,\n      \"counter_out\": null,\n      \"ignore\": \"0\",\n      \"disabled\": \"0\",\n      \"detailed\": \"0\",\n      \"deleted\": \"0\",\n      \"pagpOperationMode\": null,\n      \"pagpPortState\": null,\n      \"pagpPartnerDeviceId\": null,\n      \"pagpPartnerLearnMethod\": null,\n      \"pagpPartnerIfIndex\": null,\n      \"pagpPartnerGroupIfIndex\": null,\n      \"pagpPartnerDeviceName\": null,\n      \"pagpEthcOperationMode\": null,\n      \"pagpDeviceId\": null,\n      \"pagpGroupIfIndex\": null,\n      \"ifInUcastPkts\": \"128518576\",\n      \"ifInUcastPkts_prev\": \"128517284\",\n      \"ifInUcastPkts_delta\": \"1292\",\n      \"ifInUcastPkts_rate\": \"4\",\n      \"ifOutUcastPkts\": \"128510560\",\n      \"ifOutUcastPkts_prev\": \"128509268\",\n      \"ifOutUcastPkts_delta\": \"1292\",\n      \"ifOutUcastPkts_rate\": \"4\",\n      \"ifInErrors\": \"0\",\n      \"ifInErrors_prev\": \"0\",\n      \"ifInErrors_delta\": \"0\",\n      \"ifInErrors_rate\": \"0\",\n      \"ifOutErrors\": \"0\",\n      \"ifOutErrors_prev\": \"0\",\n      \"ifOutErrors_delta\": \"0\",\n      \"ifOutErrors_rate\": \"0\",\n      \"ifInOctets\": \"12827393730\",\n      \"ifInOctets_prev\": \"12827276736\",\n      \"ifInOctets_delta\": \"116994\",\n      \"ifInOctets_rate\": \"387\",\n      \"ifOutOctets\": \"14957481766\",\n      \"ifOutOctets_prev\": \"14957301765\",\n      \"ifOutOctets_delta\": \"180001\",\n      \"ifOutOctets_rate\": \"596\",\n      \"poll_time\": \"1483779150\",\n      \"poll_prev\": \"1483778848\",\n      \"poll_period\": \"302\"\n    }\n  ]\n}\n</code></pre>"},{"location":"API/Ports/#get_port_ip_info","title":"<code>get_port_ip_info</code>","text":"<p>Get all IP info (v4 and v6) for a given port id.</p> <p>Route: <code>/api/v0/ports/:portid/ip</code></p> <ul> <li>portid must be an integer</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323/ip\n</code></pre> <p>Output:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"message\": \"\",\n  \"addresses\": [\n    {\n      \"ipv4_address_id\": \"290\",\n      \"ipv4_address\": \"192.168.99.292\",\n      \"ipv4_prefixlen\": \"30\",\n      \"ipv4_network_id\": \"247\",\n      \"port_id\": \"323\",\n      \"context_name\": \"\"\n    }\n  ]\n}\n</code></pre>"},{"location":"API/Ports/#get_port_description","title":"<code>get_port_description</code>","text":"<p>Get the description (<code>ifAlias</code>) for a given port id.</p> <p>Route: <code>/api/v0/ports/:portid/description</code></p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323/description\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"port_description\": \"GigabitEthernet14\"\n}\n</code></pre>"},{"location":"API/Ports/#update_port_description","title":"<code>update_port_description</code>","text":"<p>Change the description (<code>ifAlias</code>) for a given port id.</p> <p>Route: <code>/api/v0/ports/:portid/description</code></p> <p>Input (JSON):</p> <ul> <li>description: The string data to use as the new port description. Sending an empty string will reset the description to default.</li> </ul> <p>Example:</p> <pre><code>curl -X PATCH -d '{\"description\": \"Out-of-Band Management Link\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323/description\n</code></pre> <p>Output: <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Port description updated.\"\n}\n</code></pre></p>"},{"location":"API/Routing/","title":"Routing","text":""},{"location":"API/Routing/#list_bgp","title":"<code>list_bgp</code>","text":"<p>List the current BGP sessions.</p> <p>Route: <code>/api/v0/bgp</code></p> <p>Input:</p> <ul> <li>hostname = Either the devices hostname or id.</li> <li>asn = The local ASN you would like to filter by</li> <li>remote_asn = Filter by remote peer ASN</li> <li>remote_address = Filter by remote peer address</li> <li>local_address = Filter by local address</li> <li>bgp_descr = Filter by BGP neighbor description</li> <li>bgp_state = Filter by BGP session state (like established,idle...)</li> <li>bgp_state = Filter by BGP admin state (start,stop,running...)</li> <li>bgp_family = Filter by BGP address Family (4,6)</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?hostname=host.example.com\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?asn=1234\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?remote_asn=1234\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?local_address=1.1.1.1&amp;remote_address=2.2.2.2\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?bgp_descr=UPSTREAM\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?bgp_state=established\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?bgp_adminstate=start\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?bgp_family=6\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?bgp_state=idle&amp;bgp_descr=CORE&amp;bgp_family=4\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"message\": \"\",\n \"bgp_sessions\": [\n        {\n            \"bgpPeer_id\": 1260,\n            \"device_id\": 7,\n            \"vrf_id\": null,\n            \"astext\": \"Acme Ltd\",\n            \"bgpPeerIdentifier\": \"2001:0DB8:0000:24cb:0000:0000:0000:0001\",\n            \"bgpPeerRemoteAs\": 65432,\n            \"bgpPeerState\": \"established\",\n            \"bgpPeerAdminStatus\": \"start\",\n            \"bgpPeerLastErrorCode\": 6,\n            \"bgpPeerLastErrorSubCode\": 2,\n            \"bgpPeerLastErrorText\": \"administrative shutdown\",\n            \"bgpPeerIface\": 268,\n            \"bgpLocalAddr\": \"2001:0DB8:0000:24cb:0000:0000:0000:0002\",\n            \"bgpPeerRemoteAddr\": \"0.0.0.0\",\n            \"bgpPeerDescr\": \"Another one #CORE\",\n            \"bgpPeerInUpdates\": 283882969,\n            \"bgpPeerOutUpdates\": 7008,\n            \"bgpPeerInTotalMessages\": 283883031,\n            \"bgpPeerOutTotalMessages\": 1386692,\n            \"bgpPeerFsmEstablishedTime\": 1628487,\n            \"bgpPeerInUpdateElapsedTime\": 0,\n            \"context_name\": \"\"\n        },\n    ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Routing/#get_bgp","title":"<code>get_bgp</code>","text":"<p>Retrieves a BGP session by ID</p> <p>Route: <code>/api/v0/bgp/:id</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp/4\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"bgp_session\": [\n        {\n            \"bgpPeer_id\": \"4\",\n            \"device_id\": \"2\",\n            \"astext\": \"\",\n            \"bgpPeerIdentifier\": \"1234:1b80:1:12::2\",\n            \"bgpPeerRemoteAs\": \"54321\",\n            \"bgpPeerState\": \"established\",\n            \"bgpPeerAdminStatus\": \"running\",\n            \"bgpLocalAddr\": \"1234:1b80:1:12::1\",\n            \"bgpPeerRemoteAddr\": \"0.0.0.0\",\n            \"bgpPeerInUpdates\": \"3\",\n            \"bgpPeerOutUpdates\": \"1\",\n            \"bgpPeerInTotalMessages\": \"0\",\n            \"bgpPeerOutTotalMessages\": \"0\",\n            \"bgpPeerFsmEstablishedTime\": \"0\",\n            \"bgpPeerInUpdateElapsedTime\": \"0\",\n            \"context_name\": \"\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Routing/#edit_bgp_descr","title":"<code>edit_bgp_descr</code>","text":"<p>This is a POST type request Set the BGP session description by ID</p> <p>Route: <code>/api/v0/bgp/:id</code></p> <p>Input:</p> <ul> <li>id = The id of the BGP Peer Session.</li> <li>bgp_descr = The description for the bgpPeerDescr field on the BGP Session.</li> </ul> <p>Example:</p> <pre><code>curl -v -H 'X-Auth-Token: YOURAPITOKENHERE' --data '{\"bgp_descr\": \"Your description here\"}' https://librenms.org/api/v0/bgp/4\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"BGP description for peer X.X.X.X on device 1 updated to Your description here\"\n}\n</code></pre>"},{"location":"API/Routing/#list_cbgp","title":"<code>list_cbgp</code>","text":"<p>List the current BGP sessions counters.</p> <p>Route: <code>/api/v0/routing/bgp/cbgp</code></p> <p>Input:</p> <ul> <li>hostname = Either the devices hostname or id</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/bgp/cbgp\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/bgp/cbgp?hostname=host.example.com\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"bgp_counters\": [\n        {\n            \"device_id\": \"9\",\n            \"bgpPeerIdentifier\": \"192.168.99.31\",\n            \"afi\": \"ipv4\",\n            \"safi\": \"multicast\",\n            \"AcceptedPrefixes\": \"2\",\n            \"DeniedPrefixes\": \"0\",\n            \"PrefixAdminLimit\": \"0\",\n            \"PrefixThreshold\": \"0\",\n            \"PrefixClearThreshold\": \"0\",\n            \"AdvertisedPrefixes\": \"11487\",\n            \"SuppressedPrefixes\": \"0\",\n            \"WithdrawnPrefixes\": \"10918\",\n            \"AcceptedPrefixes_delta\": \"-2\",\n            \"AcceptedPrefixes_prev\": \"2\",\n            \"DeniedPrefixes_delta\": \"0\",\n            \"DeniedPrefixes_prev\": \"0\",\n            \"AdvertisedPrefixes_delta\": \"-11487\",\n            \"AdvertisedPrefixes_prev\": \"11487\",\n            \"SuppressedPrefixes_delta\": \"0\",\n            \"SuppressedPrefixes_prev\": \"0\",\n            \"WithdrawnPrefixes_delta\": \"-10918\",\n            \"WithdrawnPrefixes_prev\": \"10918\",\n            \"context_name\": \"\"\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Routing/#list_ip_addresses","title":"<code>list_ip_addresses</code>","text":"<p>List all IPv4 and IPv6 addresses.</p> <p>Route: <code>/api/v0/resources/ip/addresses</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/addresses\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ip_addresses\": [\n        {\n            \"ipv4_address_id\": \"69\",\n            \"ipv4_address\": \"127.0.0.1\",\n            \"ipv4_prefixlen\": \"8\",\n            \"ipv4_network_id\": \"55\",\n            \"port_id\": \"135\",\n            \"context_name\": \"\"\n        },\n        ...\n    ],\n    \"count\": 55\n}\n</code></pre>"},{"location":"API/Routing/#get_network_ip_addresses","title":"<code>get_network_ip_addresses</code>","text":"<p>Get all IPv4 and IPv6 addresses for particular network.</p> <p>Route: <code>/api/v0/resources/ip/networks/:id/ip</code></p> <ul> <li>id must be integer</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/networks/55/ip\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"addresses\": [\n        {\n            \"ipv4_address_id\": \"69\",\n            \"ipv4_address\": \"127.0.0.1\",\n            \"ipv4_prefixlen\": \"8\",\n            \"ipv4_network_id\": \"55\",\n            \"port_id\": \"135\",\n            \"context_name\": \"\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Routing/#list_ip_networks","title":"<code>list_ip_networks</code>","text":"<p>List all IPv4 and IPv6 networks.</p> <p>Route: <code>/api/v0/resources/ip/networks</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/networks\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ip_networks\": [\n        {\n            \"ipv4_network_id\": \"1\",\n            \"ipv4_network\": \"127.0.0.0/8\",\n            \"context_name\": \"\"\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Routing/#list_ipsec","title":"<code>list_ipsec</code>","text":"<p>List the current IPSec tunnels which are active.</p> <p>Route: <code>/api/v0/routing/ipsec/data/:hostname</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/ipsec/data/localhost\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 0,\n    \"ipsec\": [\n        \"tunnel_id\": \"1\",\n        \"device_id\": \"1\",\n        \"peer_port\": \"0\",\n        \"peer_addr\": \"127.0.0.1\",\n        \"local_addr\": \"127.0.0.2\",\n        \"local_port\": \"0\",\n        \"tunnel_name\": \"\",\n        \"tunnel_status\": \"active\"\n    ]\n}\n</code></pre> <p>Please note, this will only show active VPN sessions not all configured.</p>"},{"location":"API/Routing/#list_ospf","title":"<code>list_ospf</code>","text":"<p>List the current OSPF neighbours.</p> <p>Route: <code>/api/v0/ospf</code></p> <p>Input:</p> <ul> <li>hostname = Either the devices hostname or id.</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf?hostname=host.example.com\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"ospf_neighbours\": [\n        {\n            \"device_id\": \"1\",\n            \"port_id\": \"0\",\n            \"ospf_nbr_id\": \"172.16.1.145.0\",\n            \"ospfNbrIpAddr\": \"172.16.1.145\",\n            \"ospfNbrAddressLessIndex\": \"0\",\n            \"ospfNbrRtrId\": \"172.16.0.140\",\n            \"ospfNbrOptions\": \"82\",\n            \"ospfNbrPriority\": \"1\",\n            \"ospfNbrState\": \"full\",\n            \"ospfNbrEvents\": \"5\",\n            \"ospfNbrLsRetransQLen\": \"0\",\n            \"ospfNbmaNbrStatus\": \"active\",\n            \"ospfNbmaNbrPermanence\": \"dynamic\",\n            \"ospfNbrHelloSuppressed\": \"false\",\n            \"context_name\": \"\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Routing/#list_ospf_ports","title":"<code>list_ospf_ports</code>","text":"<p>List the current OSPF ports.</p> <p>Route: <code>/api/v0/ospf_ports</code></p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf_ports\n</code></pre> <p>Output:</p> <pre><code>{\n \"status\": \"ok\",\n \"ospf_ports\": [\n        {\n          \"id\": 189086,\n          \"device_id\": 43,\n          \"port_id\": 2838,\n          \"ospf_port_id\": \"10.10.2.86.0\",\n          \"ospfIfIpAddress\": \"10.10.2.86\",\n          \"ospfAddressLessIf\": 0,\n          \"ospfIfAreaId\": \"0.0.0.0\",\n          \"ospfIfType\": \"pointToPoint\",\n          \"ospfIfAdminStat\": \"enabled\",\n          \"ospfIfRtrPriority\": 128,\n          \"ospfIfTransitDelay\": 1,\n          \"ospfIfRetransInterval\": 5,\n          \"ospfIfHelloInterval\": 10,\n          \"ospfIfRtrDeadInterval\": 40,\n          \"ospfIfPollInterval\": 90,\n          \"ospfIfState\": \"pointToPoint\",\n          \"ospfIfDesignatedRouter\": \"0.0.0.0\",\n          \"ospfIfBackupDesignatedRouter\": \"0.0.0.0\",\n          \"ospfIfEvents\": 33,\n          \"ospfIfAuthKey\": \"\",\n          \"ospfIfStatus\": \"active\",\n          \"ospfIfMulticastForwarding\": \"unicast\",\n          \"ospfIfDemand\": \"false\",\n          \"ospfIfAuthType\": \"0\",\n          \"ospfIfMetricIpAddress\": \"10.10.2.86\",\n          \"ospfIfMetricAddressLessIf\": 0,\n          \"ospfIfMetricTOS\": 0,\n          \"ospfIfMetricValue\": 10,\n          \"ospfIfMetricStatus\": \"active\",\n          \"context_name\": null\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Routing/#list_vrf","title":"<code>list_vrf</code>","text":"<p>List the current VRFs.</p> <p>Route: <code>/api/v0/routing/vrf</code></p> <p>Input:</p> <ul> <li>hostname = Either the devices hostname or id</li> </ul> <p>OR</p> <ul> <li>vrfname = The VRF name you would like to filter by</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf?hostname=host.example.com\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf?vrfname=Mgmt-vrf\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"vrfs\": [\n        {\n            \"vrf_id\": \"2\",\n            \"vrf_oid\": \"8.77.103.109.116.45.118.114.102\",\n            \"vrf_name\": \"Mgmt-vrf\",\n            \"mplsVpnVrfRouteDistinguisher\": \"\",\n            \"mplsVpnVrfDescription\": \"\",\n            \"device_id\": \"8\"\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Routing/#get_vrf","title":"<code>get_vrf</code>","text":"<p>Retrieves VRF by ID</p> <p>Route: <code>/api/v0/routing/vrf/:id</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf/2\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"vrf\": [\n        {\n            \"vrf_id\": \"2\",\n            \"vrf_oid\": \"8.77.103.109.116.45.118.114.102\",\n            \"vrf_name\": \"Mgmt-vrf\",\n            \"mplsVpnVrfRouteDistinguisher\": \"\",\n            \"mplsVpnVrfDescription\": \"\",\n            \"device_id\": \"8\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Routing/#list_mpls_services","title":"<code>list_mpls_services</code>","text":"<p>List MPLS services</p> <p>Route: <code>/api/v0/routing/mpls/services</code></p> <p>Input:</p> <ul> <li>hostname = Either the devices hostname or id</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/mpls/services\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/mpls/services?hostname=host.example.com\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"mpls_services\": [\n        {\n            \"svc_id\": 1671,\n            \"svc_oid\": 27,\n            \"device_id\": 4,\n            \"svcRowStatus\": \"active\",\n            \"svcType\": \"tls\",\n            \"svcCustId\": 1,\n            \"svcAdminStatus\": \"up\",\n            \"svcOperStatus\": \"up\",\n            \"svcDescription\": \"\",\n            \"svcMtu\": 9008,\n            \"svcNumSaps\": 1,\n            \"svcNumSdps\": 0,\n            \"svcLastMgmtChange\": 2,\n            \"svcLastStatusChange\": 168,\n            \"svcVRouterId\": 0,\n            \"svcTlsMacLearning\": \"enabled\",\n            \"svcTlsStpAdminStatus\": \"disabled\",\n            \"svcTlsStpOperStatus\": \"down\",\n            \"svcTlsFdbTableSize\": 250,\n            \"svcTlsFdbNumEntries\": 0,\n            \"hostname\": \"host.example.com\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Routing/#list_mpls_saps","title":"<code>list_mpls_saps</code>","text":"<p>List MPLS SAPs</p> <p>Route: <code>/api/v0/routing/mpls/saps</code></p> <p>Input:</p> <ul> <li>hostname = Either the devices hostname or id</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/mpls/saps\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/mpls/saps?hostname=host.example.com\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"saps\": [\n        {\n            \"sap_id\": 1935,\n            \"svc_id\": 1660,\n            \"svc_oid\": 7,\n            \"sapPortId\": 16108921125,\n            \"ifName\": \"1/1/c2/1\",\n            \"device_id\": 3,\n            \"sapEncapValue\": \"0\",\n            \"sapRowStatus\": \"active\",\n            \"sapType\": \"epipe\",\n            \"sapDescription\": \"\",\n            \"sapAdminStatus\": \"up\",\n            \"sapOperStatus\": \"down\",\n            \"sapLastMgmtChange\": 2,\n            \"sapLastStatusChange\": 0,\n            \"hostname\": \"hostname=host.example.com\"\n         }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Services/","title":"Services","text":""},{"location":"API/Services/#list_services","title":"<code>list_services</code>","text":"<p>Retrieve all services</p> <p>Route: <code>/api/v0/services</code></p> <p>Input:</p> <ul> <li>state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical).</li> <li>type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=2\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=0&amp;type=tcp\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"services\": [\n        [\n            {\n                \"service_id\": \"13\",\n                \"device_id\": \"1\",\n                \"service_ip\": \"demo1.yourdomian.net\",\n                \"service_type\": \"ntp_peer\",\n                \"service_desc\": \"NTP\",\n                \"service_param\": \"-H 192.168.1.10\",\n                \"service_ignore\": \"0\",\n                \"service_status\": \"0\",\n                \"service_changed\": \"1470962470\",\n                \"service_message\": \"NTP OK: Offset -0.000717 secs\",\n                \"service_disabled\": \"0\",\n                \"service_ds\": \"{\\\"offset\\\":\\\"s\\\"}\"\n            }\n        ],\n        [\n            {\n                \"service_id\": \"2\",\n                \"device_id\": \"2\",\n                \"service_ip\": \"demo2.yourdomian.net\",\n                \"service_type\": \"esxi_hardware.py\",\n                \"service_desc\": \"vmware hardware\",\n                \"service_param\": \"-H 192.168.1.11 -U USER -P PASS -p\",\n                \"service_ignore\": \"0\",\n                \"service_status\": \"0\",\n                \"service_changed\": \"1471702206\",\n                \"service_message\": \"OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20\",\n                \"service_disabled\": \"0\",\n                \"service_ds\": \"{\\\"P2Vol_0_Processor_1_Vcore\\\":\\\"\\\",\\\"P2Vol_1_System_Board_1_-12V\\\":\\\"\\\",\\\"P2Vol_2_System_Board_1_12V\\\":\\\"\\\",\\\"P2Vol_3_System_Board_1_3.3VCC\\\":\\\"\\\",\\\"P2Vol_4_System_Board_1_5VCC\\\":\\\"\\\",\\\"P2Vol_5_System_Board_1_AVCC\\\":\\\"\\\",\\\"P2Vol_6_System_Board_1_VBAT\\\":\\\"\\\",\\\"P2Vol_7_System_Board_1_\"\n            }\n        ]\n    ]\n}\n</code></pre>"},{"location":"API/Services/#get_service_for_host","title":"<code>get_service_for_host</code>","text":"<p>Retrieve services for device</p> <p>Route: <code>/api/v0/services/:hostname</code></p> <ul> <li>id or hostname is the specific device</li> </ul> <p>Input:</p> <ul> <li>state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical).</li> <li>type: service type, used sql LIKE to find services, so for tcp, use   type=tcp for http use type=http</li> </ul> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=2\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=0&amp;type=tcp\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"\",\n    \"count\": 1,\n    \"services\": [\n        [\n            {\n                \"service_id\": \"2\",\n                \"device_id\": \"2\",\n                \"service_ip\": \"demo2.yourdomian.net\",\n                \"service_type\": \"esxi_hardware.py\",\n                \"service_desc\": \"vmware hardware\",\n                \"service_param\": \"-H 192.168.1.11 -U USER -P PASS -p\",\n                \"service_ignore\": \"0\",\n                \"service_status\": \"0\",\n                \"service_changed\": \"1471702206\",\n                \"service_message\": \"OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20\",\n                \"service_disabled\": \"0\",\n                \"service_ds\": \"{\\\"P2Vol_0_Processor_1_Vcore\\\":\\\"\\\",\\\"P2Vol_1_System_Board_1_-12V\\\":\\\"\\\",\\\"P2Vol_2_System_Board_1_12V\\\":\\\"\\\",\\\"P2Vol_3_System_Board_1_3.3VCC\\\":\\\"\\\",\\\"P2Vol_4_System_Board_1_5VCC\\\":\\\"\\\",\\\"P2Vol_5_System_Board_1_AVCC\\\":\\\"\\\",\\\"P2Vol_6_System_Board_1_VBAT\\\":\\\"\\\",\\\"P2Vol_7_System_Board_1_\"\n            }\n        ]\n    ]\n}\n</code></pre>"},{"location":"API/Services/#add_service_for_host","title":"<code>add_service_for_host</code>","text":"<p>Add a service for device</p> <p>Route: <code>/api/v0/services/:hostname</code></p> <ul> <li>id or hostname is the specific device</li> </ul> <p>Input:</p> <ul> <li>type: service type</li> <li>ip: ip of the service</li> <li>desc: description for the service</li> <li>param: parameters for the service</li> <li>ignore: ignore the service for checks</li> </ul> <p>Example:</p> <pre><code>curl -X POST -d '{\"type\":\"ping\",\"ip\": \"192.168.1.10\",\"desc\":\"test ping\",\"param\": \"-t 10 -c 5\"}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/192.168.1.10\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Service ping has been added to device 192.168.1.10 (#10)\"\n}\n</code></pre>"},{"location":"API/Services/#edit_service_from_host","title":"<code>edit_service_from_host</code>","text":"<p>Edits a service</p> <p>Route: <code>/api/v0/services/:service_id</code></p> <ul> <li>service id</li> </ul> <p>Input:</p> <ul> <li>id: service id</li> </ul> <p>Example:</p> <pre><code>curl -X PATCH -d '{\"service_disabled\":\"1\"}' 'X-Auth-Token:YOUR-API-TOKEN' https://librenms.org/api/v0/services/5\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Service updated successfully\"\n\n}\n</code></pre>"},{"location":"API/Services/#delete_service_from_host","title":"<code>delete_service_from_host</code>","text":"<p>Deletes service from device</p> <p>Route: <code>/api/v0/services/:service_id</code></p> <ul> <li>service id</li> </ul> <p>Input:</p> <ul> <li>id: service id</li> </ul> <p>Example:</p> <pre><code>curl -X DELETE -H 'X-Auth-Token:YOUR-API-TOKEN' https://librenms.org/api/v0/services/35\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"message\": \"Service has been deleted successfully\"\n}\n</code></pre>"},{"location":"API/Switching/","title":"Switching","text":""},{"location":"API/Switching/#list_vlans","title":"<code>list_vlans</code>","text":"<p>Get a list of all VLANs.</p> <p>Route: <code>/api/v0/resources/vlans</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/vlans\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"vlans\": [\n        {\n            \"vlan_id\": \"31\",\n            \"device_id\": \"10\",\n            \"vlan_vlan\": \"1\",\n            \"vlan_domain\": \"1\",\n            \"vlan_name\": \"default\",\n            \"vlan_type\": \"ethernet\",\n            \"vlan_mtu\": null\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Switching/#get_vlans","title":"<code>get_vlans</code>","text":"<p>Get a list of all VLANs for a given device.</p> <p>Route: <code>/api/v0/devices/:hostname/vlans</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/vlans\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"count\": 0,\n    \"vlans\": [\n    {\n   \"vlan_vlan\": \"1\",\n   \"vlan_domain\": \"1\",\n   \"vlan_name\": \"default\",\n   \"vlan_type\": \"ethernet\",\n   \"vlan_mtu\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"API/Switching/#list_links","title":"<code>list_links</code>","text":"<p>Get a list of all Links.</p> <p>Route: <code>/api/v0/resources/links</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/links\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"links\": [\n        {\n            \"id\": 10,\n            \"local_port_id\": 100,\n            \"local_device_id\": 1,\n            \"remote_port_id\": 200,\n            \"active\": 1,\n            \"protocol\": \"lldp\",\n            \"remote_hostname\": \"host2.example.com\",\n            \"remote_device_id\": 2,\n            \"remote_port\": \"xe-0/0/1\",\n            \"remote_platform\": null,\n            \"remote_version\": \"Example Router v.1.0\"\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Switching/#get_links","title":"<code>get_links</code>","text":"<p>Get a list of Links per giver device.</p> <p>Route: <code>/api/v0/devices/:hostname/links</code></p> <ul> <li>hostname can be either the device hostname or id</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/links\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"links\": [\n        {\n            \"id\": 10,\n            \"local_port_id\": 100,\n            \"local_device_id\": 1,\n            \"remote_port_id\": 200,\n            \"active\": 1,\n            \"protocol\": \"lldp\",\n            \"remote_hostname\": \"host2.example.com\",\n            \"remote_device_id\": 2,\n            \"remote_port\": \"xe-0/0/1\",\n            \"remote_platform\": null,\n            \"remote_version\": \"Example Router v.1.0\"\n        },\n        ...\n    ],\n    \"count\": 10\n}\n</code></pre>"},{"location":"API/Switching/#get_link","title":"<code>get_link</code>","text":"<p>Retrieves Link by ID</p> <p>Route: <code>/api/v0/resources/links/:id</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/links/10\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"links\": [\n        {\n            \"id\": 10,\n            \"local_port_id\": 100,\n            \"local_device_id\": 1,\n            \"remote_port_id\": 200,\n            \"active\": 1,\n            \"protocol\": \"lldp\",\n            \"remote_hostname\": \"host2.example.com\",\n            \"remote_device_id\": 2,\n            \"remote_port\": \"xe-0/0/1\",\n            \"remote_platform\": null,\n            \"remote_version\": \"Example Router v.1.0\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"API/Switching/#list_fdb","title":"<code>list_fdb</code>","text":"<p>Get a list of all ports FDB.</p> <p>Route: <code>/api/v0/resources/fdb/:mac</code></p> <ul> <li>mac is the specific MAC address you would like to query</li> </ul> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/fdb\ncurl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/fdb/1aaa2bbb3ccc\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"ports_fdb\": [\n        {\n            \"ports_fdb_id\": 10,\n            \"port_id\": 10000,\n            \"mac_address\": \"1aaa2bbb3ccc\",\n            \"vlan_id\": 20000,\n            \"device_id\": 1,\n            \"created_at\": \"2019-01-1 01:01:01\",\n            \"updated_at\": \"2019-01-1 01:01:01\"\n        },\n        ...\n    ],\n    \"count\": 100\n}\n</code></pre>"},{"location":"API/Switching/#list_fdb_detail","title":"<code>list_fdb_detail</code>","text":"<p>Get a list of all ports FDB with human readable device  and interface names.</p> <p>Route: <code>/api/v0/resources/fdb/:mac/detail</code></p> <ul> <li>mac is the specific MAC address you would like to query</li> </ul> <p>Input:</p> <p>-</p> <p>Example: <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/fdb/1aaa2bbb3ccc/detail\n</code></pre></p> <p>Output: <pre><code>{\n    'count': 7,\n    'mac': '9c:93:aa:bb:cc:dd',\n    'mac_oui': 'Xerox Corporation',\n    'ports_fdb': [\n        {\n            'hostname': 'hq-core1',\n            'ifName': 'ae10',\n            'last_seen': '2 hours ago',\n            'updated_at': '2023-05-17 03:19:15'\n        },\n        {\n            'hostname': 'hq-sw1',\n            'ifName': 'ge-0/0/0',\n            'last_seen': '3 hours ago',\n            'updated_at': '2023-05-17 02:02:06'\n        },\n        ...\n    ],\n    'status': 'ok'\n}\n</code></pre></p>"},{"location":"API/System/","title":"System","text":""},{"location":"API/System/#system","title":"<code>system</code>","text":"<p>Display Librenms instance information.</p> <p>Route: <code>/api/v0/system</code></p> <p>Input:</p> <p>-</p> <p>Example:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/system\n</code></pre> <p>Output:</p> <pre><code>{\n    \"status\": \"ok\",\n    \"system\": [\n        {\n            \"local_ver\": \"1.37-234-g19103ee\",\n            \"local_sha\": \"19103ee36f68f009272c15be22e5a7e10a8b0b85\",\n            \"local_date\": \"1526480966\",\n            \"local_branch\": \"master\",\n            \"db_schema\": 249,\n            \"php_ver\": \"7.2.2\",\n            \"database_ver\": \"MariaDB 5.5.56-MariaDB\",\n            \"rrdtool_ver\": \"1.4.8\",\n            \"netsnmp_ver\": \"NET-SNMP 5.7.2\"\n        }\n    ],\n    \"count\": 1\n}\n</code></pre>"},{"location":"Alerting/","title":"Introduction","text":"<p>To get started, you first need some alert rules which will react to changes with your devices before raising an alert.</p> <p>Creating alert rules</p> <p>After that you also need to tell LibreNMS how to notify you when an alert is raised, this is done using <code>Alert Transports</code>.</p> <p>Configuring alert transports</p> <p>The next step is not strictly required but most people find it useful. Creating custom alert templates will help you get the benefit out of the alert system in general. Whilst we include a default template, it is limited in the data that you will receive in the alerts.</p> <p>Configuring alert templates</p>"},{"location":"Alerting/#managing-alerts","title":"Managing alerts","text":"<p>When an alert has triggered you will see these in the Alerts -&gt; Notifications page within the Web UI.</p> <p>This list has a couple of options available to it and we'll explain what these are here.</p>"},{"location":"Alerting/#ack","title":"ACK","text":"<p>This column provides you visibility on the status of the alert:</p> <p> This alert is currently active and sending alerts. Click this icon to acknowledge the alert.</p> <p> This alert is currently acknowledged until the alert clears. Click this icon to un-acknowledge the alert.</p> <p> This alert is currently acknowledged until the alert worsens or gets better, at which stage it will be automatically unacknowledged and alerts will resume. Click this icon to un-acknowledge the alert.</p>"},{"location":"Alerting/#notes","title":"Notes","text":"<p> This column will allow you access to the acknowledge/unacknowledge notes for this alert.</p>"},{"location":"Alerting/Creating-Transport/","title":"Creating a new Transport","text":""},{"location":"Alerting/Creating-Transport/#file-location","title":"File location","text":"<p>All transports are located in <code>LibreNMS\\Alert\\Transport</code> and the files are named after the Transport name. I.e <code>Discord.php</code> for Discord.</p>"},{"location":"Alerting/Creating-Transport/#transport-structure","title":"Transport structure","text":"<p>The following functions are required for a new transport to pass the unit tests:</p> <p><code>deliverAlert()</code> - This is function called within alerts to invoke the transport. Here you should do any post processing of the transport config to get it ready for use.</p> <p><code>contact$Transport()</code> - This is named after the transport so for Discord it would be <code>contactDiscord()</code>. This is what actually interacts with the 3rd party API, invokes the mail command or whatever you want your alert to do.</p> <p><code>configTemplate()</code> - This is used to define the form that will accept the transport config in the webui and then what data should be validated and how. Validation is done using Laravel validation</p> <p>The following function is not required for new Transports and is for legacy reasons only. <code>deliverAlertOld()</code>.</p>"},{"location":"Alerting/Creating-Transport/#documentation","title":"Documentation","text":"<p>Please don't forget to update the Transport file to include details of your new transport.</p> <p>A table should be provided to indicate the form values that we ask for and examples. I.e:</p> Config Example Discord URL https://discordapp.com/api/webhooks/4515489001665127664/82-sf4385ysuhfn34u2fhfsdePGLrg8K7cP9wl553Fg6OlZuuxJGaa1d54fe Options username=myname"},{"location":"Alerting/Device-Dependencies/","title":"Device Dependencies","text":"<p>It is possible to set one or more parents for a device. The aim for that is, if all parent devices are down, alert contacts will not receive redundant alerts for dependent devices. This is very useful when you have an outage, say in a branch office, where normally you'd receive hundreds of alerts, but when this is properly configured, you'd only receive an alert for the parent hosts.</p> <p>There are three ways to configure this feature. First one is from general settings of a device. The other two can be done in the 'Device Dependencies' item under 'Devices' menu. In this page, you can see all devices and with its parents. Clicking on the 'bin' icon will clear the dependency setting. Clicking on the 'pen' icon will let you edit or change the current setting for chosen device. There's also a 'Manage Device Dependencies' button on the top. This will let you set parents for multiple devices at once.</p> <p>For an intro on getting started with Device Dependencies, take a look at our Youtube video</p>"},{"location":"Alerting/Entities/","title":"Entities","text":"<p>Entities as described earlier are based on the table and column names within the database, if you are unsure of what the entity is you want then have a browse around inside MySQL using <code>show tables</code> and <code>desc &lt;tablename&gt;</code>.</p> <p>Below are some common entities that you can use within the alerting system. This list is not exhaustive and you should look at the MySQL database schema for the full list.</p>"},{"location":"Alerting/Entities/#devices","title":"Devices","text":"Entity Description <code>devices.hostname</code> The device hostname <code>devices.sysName</code> The device sysName <code>devices.sysDescr</code> The device sysDescr <code>devices.hardware</code> The device hardware <code>devices.version</code> The device os version <code>devices.location</code> The device location <code>devices.status</code> The status of the device, 1 <code>devices.status_reason</code> The reason the device was detected as down (icmp or snmp) <code>devices.ignore</code> If the device is ignored this will be set to 1 <code>devices.disabled</code> If the device is disabled this will be set to 1 <code>devices.last_polled</code> The the last polled datetime (yyyy-mm-dd hh:mm:ss) <code>devices.type</code> The device type such as network, server, firewall, etc."},{"location":"Alerting/Entities/#bgp-peers","title":"BGP Peers","text":"Entity Description <code>bgpPeers.astext</code> This is the description of the BGP Peer <code>bgpPeers.bgpPeerIdentifier</code> The IP address of the BGP Peer <code>bgpPeers.bgpPeerRemoteAs</code> The AS number of the BGP Peer <code>bgpPeers.bgpPeerState</code> The operational state of the BGP session <code>bgpPeers.bgpPeerAdminStatus</code> The administrative state of the BGP session <code>bgpPeers.bgpLocalAddr</code> The local address of the BGP session."},{"location":"Alerting/Entities/#ipsec-tunnels","title":"IPSec Tunnels","text":"Entity Description <code>ipsec_tunnels.peer_addr</code> The remote VPN peer address <code>ipsec_tunnels.local_addr</code> The local VPN address <code>ipsec_tunnels.tunnel_status</code> The VPN tunnels operational status."},{"location":"Alerting/Entities/#memory-pools","title":"Memory pools","text":"<p>Entity | Description |---|---| <code>mempools.mempool_type</code> | The memory pool type such as hrstorage, cmp and cemp <code>mempools.mempool_descr</code> | The description of the pool such as Physical memory, Virtual memory and System memory <code>mempools.mempool_perc</code> | The used percentage of the memory pool.</p>"},{"location":"Alerting/Entities/#ports","title":"Ports","text":"Entity Description <code>ports.ifDescr</code> The interface description <code>ports.ifName</code> The interface name <code>ports.ifSpeed</code> The port speed in bps <code>ports.ifHighSpeed</code> The port speed in mbps <code>ports.ifOperStatus</code> The operational status of the port (up or down) <code>ports.ifAdminStatus</code> The administrative status of the port (up or down) <code>ports.ifDuplex</code> Duplex setting of the port <code>ports.ifMtu</code> The MTU setting of the port."},{"location":"Alerting/Entities/#processors","title":"Processors","text":"Entity Description <code>processors.processor_usage</code> The usage of the processor as a percentage <code>processors.processor_descr</code> The description of the processor."},{"location":"Alerting/Entities/#storage","title":"Storage","text":"Entity Description <code>storage.storage_descr</code> The description of the storage <code>storage.storage_perc</code> The usage of the storage as a percentage."},{"location":"Alerting/Entities/#health-sensors","title":"Health / Sensors","text":"Entity Description <code>sensors.sensor_desc</code> The sensors description. <code>sensors.sensor_current</code> The current sensors value. <code>sensors.sensor_prev</code> The previous sensor value. <code>sensors.lastupdate</code> The sensors last updated datetime stamp."},{"location":"Alerting/Macros/","title":"Macros","text":"<p>Macros are shorthands to either portion of rules or pure SQL enhanced with placeholders.</p> <p>You can define your own macros in your <code>config.php</code>.</p> <p>Example macro-implementation of Debian-Devices</p> <pre><code>$config['alert']['macros']['rule']['is_debian'] = 'devices.features ~ \"@debian@\"';\n</code></pre> <p>And in the Rule:</p> <pre><code>...  macros.is_debian = 1 ...\n</code></pre> <p>This Example-macro is a Boolean-macro, it applies a form of filter to the set of results defined by the rule.</p> <p>All macros that are not unary should return Boolean.</p>"},{"location":"Alerting/Macros/#device-boolean","title":"Device (Boolean)","text":"<p>Entity: <code>macros.device</code></p> <p>Description: Only select devices that aren't deleted, ignored or disabled.</p> <p>Source: <code>(devices.disabled = 0 AND devices.ignore = 0)</code></p>"},{"location":"Alerting/Macros/#device-is-up-boolean","title":"Device is up (Boolean)","text":"<p>Entity: <code>macros.device_up</code></p> <p>Description: Only select devices that are up.</p> <p>Implies: macros.device</p> <p>Source: <code>(devices.status = 1 AND macros.device)</code></p>"},{"location":"Alerting/Macros/#device-is-down-boolean","title":"Device is down (Boolean)","text":"<p>Entity: <code>macros.device_down</code></p> <p>Description: Only select devices that are down.</p> <p>Implies: macros.device</p> <p>Source: <code>(devices.status = 0 AND macros.device)</code></p>"},{"location":"Alerting/Macros/#port-boolean","title":"Port (Boolean)","text":"<p>Entity: <code>macros.port</code></p> <p>Description: Only select ports that aren't deleted, ignored or disabled.</p> <p>Source: <code>(ports.deleted = 0 AND ports.ignore = 0 AND ports.disabled = 0)</code></p>"},{"location":"Alerting/Macros/#port-is-up-boolean","title":"Port is up (Boolean)","text":"<p>Entity: <code>macros.port_up</code></p> <p>Description: Only select ports that are up and also should be up.</p> <p>Implies: macros.port</p> <p>Source: <code>(ports.ifOperStatus = up AND ports.ifAdminStatus = up AND macros.port)</code></p>"},{"location":"Alerting/Macros/#port-is-down-boolean","title":"Port is down (Boolean)","text":"<p>Entity: <code>macros.port_down</code></p> <p>Description: Only select ports that are down.</p> <p>Implies: macros.port</p> <p>Source: <code>(ports.ifOperStatus != \"up\" AND ports.ifAdminStatus != \"down\" AND macros.port)</code></p>"},{"location":"Alerting/Macros/#port-usage-in-percent-decimal","title":"Port-Usage in Percent (Decimal)","text":"<p>Entity: <code>macros.port_usage_perc</code></p> <p>Description: Return port-usage (max value of in and out) in percent.</p> <p>Source: <code>((SELECT IF(ports.ifOutOctets_rate&gt;ports.ifInOctets_rate, ports.ifOutOctets_rate, ports.ifInOctets_rate)*8) / ports.ifSpeed)*100</code></p>"},{"location":"Alerting/Macros/#time","title":"Time","text":""},{"location":"Alerting/Macros/#now-datetime","title":"Now (Datetime)","text":"<p>Entity: <code>macros.now</code></p> <p>Description: Alias of MySQL's NOW()</p> <p>Source: <code>NOW()</code></p>"},{"location":"Alerting/Macros/#past-n-minutes-datetime","title":"Past N Minutes (Datetime)","text":"<p>Entity: <code>macros.past_$m</code></p> <p>Description: Returns a MySQL Timestamp dated <code>$</code> Minutes in the past. <code>$</code> can only be a supported Resolution.</p> <p>Example: <code>macros.past_5m</code> is Last 5 Minutes.</p> <p>Resolution: 5,10,15,30,60</p> <p>Source: <code>DATE_SUB(NOW(),INTERVAL $ MINUTE)</code></p>"},{"location":"Alerting/Macros/#sensors-boolean","title":"Sensors (Boolean)","text":"<p>Entity: <code>macros.sensor</code></p> <p>Description: Only select sensors that aren't ignored.</p> <p>Source: <code>(sensors.sensor_alert = 1)</code></p> <p>Entity: <code>macros.sensor_port_link = 1</code></p> <p>Description: Only selects sensors that have a port linked to them, the port is up and the device is up.</p> <p>Source: <code>(sensors.entity_link_type = \"port\" AND sensors.entity_link_index = ports.ifIndex AND macros.port_up AND macros.device_up))</code></p>"},{"location":"Alerting/Macros/#state-sensors-boolean","title":"State Sensors (Boolean)","text":"<p>Entity: <code>macros.state_sensor_ok</code>, <code>macros.state_sensor_warning</code>, <code>macros.state_sensor_critical</code>, <code>macros.state_sensor_unknown</code></p> <p>Description: Select state sensors by their generic status ok (0), warning (1), critical (2), unknown (3)</p> <p>Source: <code>(sensors.sensor_current = state_translations.state_value AND state_translations.state_generic_value = 2)</code></p>"},{"location":"Alerting/Macros/#misc-boolean","title":"Misc (Boolean)","text":""},{"location":"Alerting/Macros/#packet-loss","title":"Packet Loss","text":"<p>Entity: <code>(macros.packet_loss_5m)</code></p> <p>Description: Packet loss % value for the device within the last 5 minutes. BROKEN, only return 100 (down) or 0.</p> <p>Example: <code>macros.packet_loss_5m</code> &gt; 50</p> <p>Entity: <code>(macros.packet_loss_15m)</code></p> <p>Description: Packet loss % value for the device within the last 15 minutes. BROKEN, only return 100 (down) or 0.</p> <p>Example: <code>macros.packet_loss_15m</code> &gt; 50</p>"},{"location":"Alerting/Macros/#ports-in-usage-perc-int","title":"Ports in usage perc (Int)","text":"<p>Entity: <code>((ports.ifInOctets_rate*8)/ports.ifSpeed)*100</code></p> <p>Description: Port in used more than 50%</p> <p>Example: `macros.port_in_usage_perc &gt; 50</p>"},{"location":"Alerting/Macros/#ports-out-usage-perc-int","title":"Ports out usage perc (Int)","text":"<p>Entity: <code>((ports.ifOutOctets_rate*8)/ports.ifSpeed)*100</code></p> <p>Description: Port out used more than 50%</p> <p>Example: `macros.port_out_usage_perc &gt; 50</p>"},{"location":"Alerting/Macros/#ports-now-down-boolean","title":"Ports now down (Boolean)","text":"<p>Entity: <code>ports.ifOperStatus != ports.ifOperStatus_prev AND ports.ifOperStatus_prev = \"up\" AND ports.ifAdminStatus = \"up\"</code></p> <p>Description: Ports that were previously up and have now gone down.</p> <p>Example: <code>macros.port_now_down = 1</code></p>"},{"location":"Alerting/Macros/#port-has-xdp-neighbour-boolean","title":"Port has xDP neighbour (Boolean)","text":"<p>Entity: <code>%macros.port AND %links.local_port_id = %ports.port_id</code></p> <p>Description: Ports that have an xDP (lldp, cdp, etc) neighbour.</p> <p>Example: <code>macros.port_has_xdp_neighbours = 1</code></p>"},{"location":"Alerting/Macros/#port-has-xdp-neighbour-already-known-in-librenms-boolean","title":"Port has xDP neighbour already known in LibreNMS (Boolean)","text":"<p>Entity: <code>%macros.port_has_neighbours AND (%links.remote_port_id IS NOT NULL)</code></p> <p>Description: Ports that have an xDP (lldp, cdp, etc) neighbour that is already known in libreNMS.</p> <p>Example: <code>macros.port_has_xdp_neighbours_device = 1</code></p>"},{"location":"Alerting/Macros/#device-component-down-junos","title":"Device component down [JunOS]","text":"<p>Entity: <code>sensors.sensor_class = \"state\" AND sensors.sensor_current !=  \"6\" AND sensors.sensor_type = \"jnxFruState\" AND sensors.sensor_current != \"2\"</code></p> <p>Description: Device component is down such as Fan, PSU, etc for JunOS devices.</p> <p>Example: <code>macros.device_component_down_junos = 1</code></p>"},{"location":"Alerting/Macros/#device-component-down-cisco","title":"Device component down [Cisco]","text":"<p>Entity: <code>sensors.sensor_current != 1 AND sensors.sensor_current != 5 AND sensors.sensor_type ~ \"^cisco.*State$\"</code></p> <p>Description: Device component is down such as Fan, PSU, etc for Cisco devices.</p> <p>Example: <code>macros.device_component_down_cisco = 1</code></p>"},{"location":"Alerting/Macros/#pdu-over-amperage-apc","title":"PDU over amperage [APC]","text":"<p>Entity: <code>sensors.sensor_class = \"current\" AND sensors.sensor_descr = \"Bank Total\" AND sensors.sensor_current &gt; sensors.sensor_limit AND devices.os = \"apc\"</code></p> <p>Description: APC PDU over amperage</p> <p>Example: <code>macros.pdu_over_amperage_apc = 1</code></p>"},{"location":"Alerting/Rules/","title":"Rules","text":"<p>Rules are defined using a logical language.</p> <p>The GUI provides a simple way of creating rules.</p> <p>Creating more complicated rules which may include maths calculations and MySQL queries can be done using macros</p>"},{"location":"Alerting/Rules/#syntax","title":"Syntax","text":"<p>Rules must consist of at least 3 elements: An Entity, a Condition and a Value. Rules can contain braces and Glues. Entities are provided from Table and Field from the database. For Example: <code>ports.ifOperStatus</code>.</p> <p>Conditions can be any of:</p> <ul> <li>Equals <code>=</code></li> <li>Not Equals <code>!=</code></li> <li>In <code>IN</code></li> <li>Not In <code>NOT IN</code></li> <li>Begins with <code>LIKE ('...%')</code></li> <li>Doesn't begin with <code>NOT LIKE ('...%')</code></li> <li>Contains <code>LIKE ('%...%')</code></li> <li>Doesn't Contain <code>NOT LIKE ('%...%')</code></li> <li>Ends with <code>LIKE ('%...')</code></li> <li>Doesn't end with <code>NOT LIKE ('%...')</code></li> <li>Between <code>BETWEEN</code></li> <li>Not Between <code>NOT BETWEEN</code></li> <li>Is Empty <code>= ''</code></li> <li>Is Not Empty <code>!= '''</code></li> <li>Is Null <code>IS NULL</code></li> <li>Is Not Null <code>IS NOT NULL</code></li> <li>Greater <code>&gt;</code></li> <li>Greater or Equal <code>&gt;=</code></li> <li>Less <code>&lt;</code></li> <li>Less or Equal <code>&lt;=</code></li> <li>Regex <code>REGEXP</code></li> </ul> <p>Values can be an entity or any data. If using macros as value you must include the macro name into backticks. i.e. `macros.past_60m`</p> <p>Note: Regex supports MySQL Regular expressions.</p> <p>Arithmetics are allowed as well.</p>"},{"location":"Alerting/Rules/#options","title":"Options","text":"<p>Here are some of the other options available when adding an alerting rule:</p> <ul> <li>Rule name: The name associated with the rule.</li> <li>Severity: How \"important\" the rule is.</li> <li>Max alerts: The maximum number of alerts sent for the event.  <code>-1</code> means unlimited.</li> <li>Delay: The amount of time in seconds to wait after a rule is matched   before sending an alert out transport.</li> <li>Interval: The interval of time in seconds between alerts for an   event until Max alert is reached.</li> <li>Mute alerts: Disables sending alert rule through alert   transport. But will still show the alert in the Web UI.</li> <li>Invert match: Invert the matching rule (ie. alert on items that   _don't match the rule).</li> <li>Recovery alerts: This will disable the recovery notification from   being sent if turned off.</li> </ul>"},{"location":"Alerting/Rules/#advanced","title":"Advanced","text":"<p>On the Advanced tab, you can specify some additional options for the alert rule:</p> <ul> <li>Override SQL: Enable this if you using a custom query</li> <li> <p>Query: The query to be used for the alert.</p> </li> <li> <p>An example of this would be an average rule for all CPUs over 10%</p> </li> </ul> <pre><code>SELECT devices.device_id, devices.status, devices.disabled, devices.ignore, \nAVG(processors.processor_usage) AS cpu_avg  FROM \ndevices INNER JOIN processors ON devices.device_id \n= processors.device_id WHERE devices.device_id \n= ? AND devices.status = 1 AND devices.disabled = \n0 AND devices.ignore = 0 GROUP BY devices.device_id, \ndevices.status, devices.disabled, devices.ignore \nHAVING AVG(processors.processor_usage) \n&gt; 10\n</code></pre> <p>The 10 would then contain the average CPU usage value, you can change this value to be whatever you like.</p> <ul> <li>You will to need copy and paste this into the Alert Rule under   Advanced then paste into Query box and switch the Override SQL.</li> </ul>"},{"location":"Alerting/Rules/#procedure","title":"Procedure","text":"<p>You can associate a rule to a procedure by giving the URL of the procedure when creating the rule. Only links like \"http://\" are supported, otherwise an error will be returned. Once configured, procedure can be opened from the Alert widget through the \"Open\" button, which can be shown/hidden from the widget configuration box.</p>"},{"location":"Alerting/Rules/#examples","title":"Examples","text":"<p>Alert when:</p> <ul> <li>Device goes down: <code>devices.status != 1</code></li> <li>Any port changes: <code>ports.ifOperStatus != 'up'</code></li> <li>Root-directory gets too full: <code>storage.storage_descr = '/' AND   storage.storage_perc &gt;= '75'</code></li> <li>Any storage gets fuller than the 'warning': <code>storage.storage_perc &gt;= storage_perc_warn</code></li> <li>If device is a server and the used storage is above the warning   level, but ignore /boot partitions: <code>storage.storage_perc &gt;   storage.storage_perc_warn AND devices.type = \"server\" AND   storage.storage_descr != \"/boot\"</code></li> <li>VMware LAG is not using \"Source ip address hash\" load balancing:   <code>devices.os = \"vmware\" AND ports.ifType = \"ieee8023adLag\" AND   ports.ifDescr REGEXP \"Link Aggregation .*, load balancing algorithm:   Source ip address hash\"</code></li> <li>Syslog, authentication failure during the last 5m:   <code>syslog.timestamp &gt;= macros.past_5m AND syslog.msg REGEXP \".*authentication failure.*\"</code></li> <li>High memory usage: <code>macros.device_up = 1 AND mempools.mempool_perc &gt;=  90 AND mempools.mempool_descr REGEXP \"Virtual.*\"</code></li> <li>High CPU usage(per core usage, not overall): <code>macros.device_up   = 1 AND processors.processor_usage &gt;= 90</code></li> <li>High port usage, where description is not client &amp; ifType is not   softwareLoopback: <code>macros.port_usage_perc &gt;= 80 AND   port.port_descr_type != \"client\" AND ports.ifType != \"softwareLoopback\"</code></li> <li>Alert when mac address is located on your network <code>ipv4_mac.mac_address = \"2c233a756912\"</code></li> </ul>"},{"location":"Alerting/Rules/#alert-rules-collection","title":"Alert Rules Collection","text":"<p>You can also select Alert Rule from the Alerts Collection. These Alert Rules are submitted by users in the community :) If would like to submit your alert rules to the collection, please submit them here Alert Rules Collection</p> <p></p>"},{"location":"Alerting/Templates/","title":"Templates","text":"<p>This page is for installs running version 1.42 or later. You can find the older docs here</p> <p>Templates can be assigned to a single or a group of rules and can contain any kind of text. There is also a default template which is used for any rule that isn't associated with a template. This template can be found under <code>Alert Templates</code> page and can be edited. It also has an option revert it back to its default content.</p> <p>To attach a template to a rule just open the <code>Alert Templates</code> settings page, choose the template to assign and click the yellow button in the <code>Actions</code> column. In the appearing popupbox select the rule(s) you want the template to be assigned to and click the <code>Attach</code> button. You might hold down the CTRL key to select multiple rules at once.</p> <p>The templating engine in use is Laravel Blade. We will cover some of the basics here, however the official Laravel docs will have more information here</p>"},{"location":"Alerting/Templates/#syntax","title":"Syntax","text":"<p>Controls:</p> <ul> <li>if-else (Else can be omitted): <code>@if ($alert-&gt;placeholder  ==   'value') Some Text @else Other Text @endif</code></li> <li>foreach-loop: <code>@foreach ($alert-&gt;faults as $key =&gt; $value) Key: $key Value: $value @endforeach</code></li> </ul> <p>Placeholders:</p> <p>Placeholders are special variables that if used within the template will be replaced with the relevant data, I.e:</p> <p><code>The device {{ $alert-&gt;hostname }} has been up for {{ $alert-&gt;uptime }} seconds</code> would result in the following <code>The device localhost has been up for 30344 seconds</code>.</p> <p>When using placeholders to echo data, you need to wrap the placeholder in <code>{{ }}</code>. I.e <code>{{ $alert-&gt;hostname }}</code>.</p> <ul> <li>Device ID: <code>$alert-&gt;device_id</code></li> <li>Hostname of the Device: <code>$alert-&gt;hostname</code></li> <li>sysName of the Device: <code>$alert-&gt;sysName</code></li> <li>sysDescr of the Device: <code>$alert-&gt;sysDescr</code></li> <li>display name of the Device: <code>$alert-&gt;display</code></li> <li>sysContact of the Device: <code>$alert-&gt;sysContact</code></li> <li>OS of the Device: <code>$alert-&gt;os</code></li> <li>Type of Device: <code>$alert-&gt;type</code></li> <li>IP of the Device: <code>$alert-&gt;ip</code></li> <li>Hardware of the Device: <code>$alert-&gt;hardware</code></li> <li>Software version of the Device: <code>$alert-&gt;version</code></li> <li>Features of the Device: <code>$alert-&gt;features</code></li> <li>Serial number of the Device: <code>$alert-&gt;serial</code></li> <li>Location of the Device: <code>$alert-&gt;location</code></li> <li>uptime of the Device (in seconds): <code>$alert-&gt;uptime</code></li> <li>Short uptime of the Device (28d 22h 30m 7s): <code>$alert-&gt;uptime_short</code></li> <li>Long uptime of the Device (28 days, 22h 30m 7s): <code>$alert-&gt;uptime_long</code></li> <li>Description (purpose db field) of the Device: <code>$alert-&gt;description</code></li> <li>Notes of the Device: <code>$alert-&gt;notes</code></li> <li>Notes of the alert (ack notes): <code>$alert-&gt;alert_notes</code></li> <li>ping timestamp (if icmp enabled): <code>$alert-&gt;ping_timestamp</code></li> <li>ping loss (if icmp enabled): <code>$alert-&gt;ping_loss</code></li> <li>ping min (if icmp enabled): <code>$alert-&gt;ping_min</code></li> <li>ping max (if icmp enabled): <code>$alert-&gt;ping_max</code></li> <li>ping avg (if icmp enabled): <code>$alert-&gt;ping_avg</code></li> <li>debug (array) </li> <li>Title for the Alert: <code>$alert-&gt;title</code></li> <li>Time Elapsed, Only available on recovery (<code>$alert-&gt;state == 0</code>): <code>$alert-&gt;elapsed</code></li> <li>Rule Builder (the actual rule) (use <code>{!! $alert-&gt;builder !!}</code>): <code>$alert-&gt;builder</code></li> <li>Alert-ID: <code>$alert-&gt;id</code></li> <li>Unique-ID: <code>$alert-&gt;uid</code></li> <li>Faults, Only available on alert (<code>$alert-&gt;state != 0</code>), must be   iterated in a foreach (<code>@foreach ($alert-&gt;faults as $key =&gt; $value)   @endforeach</code>). Holds all available information about the Fault,   accessible in the format <code>$value['Column']</code>, for example:   <code>$value['ifDescr']</code>. Special field <code>$value['string']</code> has most   Identification-information (IDs, Names, Descrs) as single string,   this is the equivalent of the default used and must be encased in <code>{{ }}</code></li> <li>State: <code>$alert-&gt;state</code></li> <li>Severity: <code>$alert-&gt;severity</code></li> <li>Rule: <code>$alert-&gt;rule</code></li> <li>Rule-Name: <code>$alert-&gt;name</code></li> <li>Procedure URL: <code>$alert-&gt;proc</code></li> <li>Timestamp: <code>$alert-&gt;timestamp</code></li> <li>Transport type: <code>$alert-&gt;transport</code></li> <li>Transport name: <code>$alert-&gt;transport_name</code></li> <li>Contacts, must be iterated in a foreach, <code>$key</code> holds email and   <code>$value</code> holds name: <code>$alert-&gt;contacts</code></li> </ul> <p>Placeholders can be used within the subjects for templates as well although $faults is most likely going to be worthless.</p> <p>The Default Template is a 'one-size-fit-all'. We highly recommend defining your own templates for your rules to include more specific information.</p>"},{"location":"Alerting/Templates/#base-templates","title":"Base Templates","text":"<p>If you'd like to reuse a common template for your alerts follow below</p> <p>A default file is located in <code>resources/views/alerts/templates/default.blade.php</code> Displays the following:</p> <pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;LibreNMS Alert&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"container\"&gt;\n            @yield('content')\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>The important part being the <code>@yield('content')</code></p> <p>You can use plain text or html as per Alert templates and this will form the basis of your common template, feel free to make as many templates in the directory as needed.</p> <p>In your alert template just use</p> <pre><code>@extends('alerts.templates.default')\n\n@section('content')\n  {{ $alert-&gt;title }}\n  Severity: {{ $alert-&gt;severity }}\n  ...\n@endsection\n</code></pre> <p>More info: https://laravel.com/docs/blade#extending-a-layout</p>"},{"location":"Alerting/Templates/#examples","title":"Examples","text":""},{"location":"Alerting/Templates/#default-template","title":"Default Template","text":"<pre><code>{{ $alert-&gt;title }}\nSeverity: {{ $alert-&gt;severity }}\n@if ($alert-&gt;state == 0) Time elapsed: {{ $alert-&gt;elapsed }} @endif\nTimestamp: {{ $alert-&gt;timestamp }}\nUnique-ID: {{ $alert-&gt;uid }}\nRule: @if ($alert-&gt;name) {{ $alert-&gt;name }} @else {{ $alert-&gt;rule }} @endif\n@if ($alert-&gt;faults) Faults:\n@foreach ($alert-&gt;faults as $key =&gt; $value)\n  {{ $key }}: {{ $value['string'] }}\n@endforeach\n@endif\nAlert sent to:\n@foreach ($alert-&gt;contacts as $key =&gt; $value)\n  {{ $value }} &lt;{{ $key }}&gt;\n@endforeach\n</code></pre>"},{"location":"Alerting/Templates/#ports-utilization-template","title":"Ports Utilization Template","text":"<pre><code>{{ $alert-&gt;title }}\nDevice Name: {{ $alert-&gt;hostname }}\nSeverity: {{ $alert-&gt;severity }}\n@if ($alert-&gt;state == 0) Time elapsed: {{ $alert-&gt;elapsed }} @endif\nTimestamp: {{ $alert-&gt;timestamp }}\nRule: @if ($alert-&gt;name) {{ $alert-&gt;name }} @else {{ $alert-&gt;rule }} @endif\n@foreach ($alert-&gt;faults as $key =&gt; $value)\nPhysical Interface: {{ $value['ifDescr'] }}\nInterface Description: {{ $value['ifAlias'] }}\nInterface Speed: {{ ($value['ifSpeed']/1000000000) }} Gbs\nInbound Utilization: {{ (($value['ifInOctets_rate']*8)/$value['ifSpeed'])*100 }}\nOutbound Utilization: {{ (($value['ifOutOctets_rate']*8)/$value['ifSpeed'])*100 }}\n@endforeach\n</code></pre>"},{"location":"Alerting/Templates/#storage","title":"Storage","text":"<pre><code>{{ $alert-&gt;title }}\n\nDevice Name: {{ $alert-&gt;hostname }}\nSeverity: {{ $alert-&gt;severity }}\nUptime: {{ $alert-&gt;uptime_short }}\n@if ($alert-&gt;state == 0) Time elapsed: {{ $alert-&gt;elapsed }} @endif\nTimestamp: {{ $alert-&gt;timestamp }}\nLocation: {{ $alert-&gt;location }}\nDescription: {{ $alert-&gt;description }}\nFeatures: {{ $alert-&gt;features }}\nNotes: {{ $alert-&gt;notes }}\n\nServer: {{ $alert-&gt;sysName }}\n@foreach ($alert-&gt;faults as $key =&gt; $value)\nMount Point: {{ $value['storage_descr'] }}\nPercent Utilized: {{ $value['storage_perc'] }}\n@endforeach\n</code></pre>"},{"location":"Alerting/Templates/#value-sensors-temperature-humidity-fanspeed","title":"Value Sensors (Temperature, Humidity, Fanspeed, ...)","text":"<pre><code>{{ $alert-&gt;title }}\n\nDevice Name: {{ $alert-&gt;hostname }}\nSeverity: {{ $alert-&gt;severity }}\nTimestamp: {{ $alert-&gt;timestamp }}\nUptime: {{ $alert-&gt;uptime_short }}\n@if ($alert-&gt;state == 0)\nTime elapsed: {{ $alert-&gt;elapsed }}\n@endif\nLocation: {{ $alert-&gt;location }}\nDescription: {{ $alert-&gt;description }}\nFeatures: {{ $alert-&gt;features }}\nNotes: {{ $alert-&gt;notes }}\n\nRule: {{ $alert-&gt;name ?? $alert-&gt;rule }}\n@if ($alert-&gt;faults)\nFaults:\n@foreach ($alert-&gt;faults as $key =&gt; $value)\n@php($unit = __(\"sensors.${value[\"sensor_class\"]}.unit\"))\n#{{ $key }}: {{ $value['sensor_descr'] ?? 'Sensor' }}\n\nCurrent: {{ $value['sensor_current'].$unit }}\nPrevious: {{ $value['sensor_prev'].$unit }}\nLimit: {{ $value['sensor_limit'].$unit }}\nOver Limit: {{ round($value['sensor_current']-$value['sensor_limit'], 2).$unit }}\n\n@endforeach\n@endif\n</code></pre>"},{"location":"Alerting/Templates/#memory-alert","title":"Memory Alert","text":"<pre><code>{{ $alert-&gt;title }}\n\nDevice Name: {{ $alert-&gt;hostname }}\nSeverity: {{ $alert-&gt;severity }}\nUptime: {{ $alert-&gt;uptime_short }}\n@if ($alert-&gt;state == 0) Time elapsed: {{ $alert-&gt;elapsed }} @endif\nTimestamp: {{ $alert-&gt;timestamp }}\nLocation: {{ $alert-&gt;location }}\nDescription: {{ $alert-&gt;description }}\nNotes: {{ $alert-&gt;notes }}\n\nServer: {{ $alert-&gt;hostname }}\n@foreach ($alert-&gt;faults as $key =&gt; $value)\nMemory Description: {{ $value['mempool_descr'] }}\nPercent Utilized: {{ $value['mempool_perc'] }}\n@endforeach\n</code></pre>"},{"location":"Alerting/Templates/#advanced-options","title":"Advanced options","text":""},{"location":"Alerting/Templates/#conditional-formatting","title":"Conditional formatting","text":"<p>Conditional formatting example, will display a link to the host in email or just the hostname in any other transport:</p> <pre><code>@if ($alert-&gt;transport == 'mail')&lt;a href=\"https://my.librenms.install/device/device={{ $alert-&gt;hostname }}/\"&gt;{{ $alert-&gt;hostname }}&lt;/a&gt;\n@else\n{{ $alert-&gt;hostname }}\n@endif\n</code></pre>"},{"location":"Alerting/Templates/#traceroute-debugs","title":"Traceroute debugs","text":"<pre><code>@if ($alert-&gt;status == 0)\n    @if ($alert-&gt;status_reason == 'icmp')\n        {{ $alert-&gt;debug['traceroute'] }}\n    @endif\n@endif\n</code></pre>"},{"location":"Alerting/Templates/#examples-html","title":"Examples HTML","text":"<p>Note: To use HTML emails you must set HTML email to Yes in the WebUI under Global Settings &gt; Alerting Settings &gt; Email transport &gt; Use HTML emails</p>"},{"location":"Alerting/Templates/#graphs","title":"Graphs","text":"<p>There are two helpers for graphs that will use a signed url to allow secure external access.  Anyone using the signed url will be able to view the graph.</p> <ul> <li>Your LibreNMS web must be accessible from the location where the graph is viewed.    Some alert transports require publicly accessible urls.</li> <li>APP_URL must be set in .env to use signed graphs.</li> <li>Changing APP_KEY will invalidate all previously issued singed urls.</li> </ul> <p>You may specify the graph one of two ways, a php array of parameters, or a direct url to a graph.</p> <p>Note that to and from can be specified either as timestamps with <code>time()</code> or as relative time <code>-3d</code> or <code>-36h</code>.  When using relative time, the graph will show based on when the user views the graph, not when the event happened. Sharing a graph image with a relative time will always give the recipient access to current data, where a specific timestamp will only allow access to that timeframe.</p>"},{"location":"Alerting/Templates/#signedgraphtag","title":"@signedGraphTag","text":"<p>This will insert a specially formatted html img tag linking to the graph. Some transports may search the template for this tag to attach images properly for that transport.</p> <pre><code>@signedGraphTag([\n    'id' =&gt; $value['port_id'],\n    'type' =&gt; 'port_bits',\n    'from' =&gt; time() - 43200,\n    'to' =&gt; time(),\n    'width' =&gt; 700, \n    'height' =&gt; 250\n])\n</code></pre> <p>Output: <pre><code>&lt;img class=\"librenms-graph\" src=\"https://librenms.org/graph?from=1662176216&amp;amp;height=250&amp;amp;id=20425&amp;amp;to=1662219416&amp;amp;type=port_bits&amp;amp;width=700&amp;amp;signature=f6e516e8fd893c772eeaba165d027cb400e15a515254de561a05b63bc6f360a4\"&gt;\n</code></pre></p> <p>Specific graph using url input:</p> <pre><code>@signedGraphTag('https://librenms.org/graph.php?type=device_processor&amp;from=-2d&amp;device=2&amp;legend=no&amp;height=400&amp;width=1200')\n</code></pre>"},{"location":"Alerting/Templates/#signedgraphurl","title":"@signedGraphUrl","text":"<p>This is used when you need the url directly. One example is using the API Transport, you may want to include the url only instead of a html tag.</p> <pre><code>@signedGraphUrl([\n    'id' =&gt; $value['port_id'],\n    'type' =&gt; 'port_bits',\n    'from' =&gt; time() - 43200,\n    'to' =&gt; time(),\n])\n</code></pre>"},{"location":"Alerting/Templates/#using-models-for-optional-data","title":"Using models for optional data","text":"<p>If some value does not exist within the <code>$faults[]</code>-array, you may query fields from the database using Laravel models. You may use models to query additional values and use them on the template by placing the model and the value to search for within the braces. For example, ISIS-alerts do have a <code>port_id</code> value associated with the alert but <code>ifName</code> is not directly accessible from the <code>$faults[]</code>-array. If the name of the port was needed, it's value could be queried using a template such as:</p> <pre><code>{{ $alert-&gt;title }}\nSeverity: {{ $alert-&gt;severity }}\n@if ($alert-&gt;state == 0) Time elapsed: {{ $alert-&gt;elapsed }} @endif\nTimestamp: {{ $alert-&gt;timestamp }}\nRule: @if ($alert-&gt;name) {{ $alert-&gt;name }} @else {{ $alert-&gt;rule }} @endif\n@if ($alert-&gt;faults) Faults:\n@foreach ($alert-&gt;faults as $key =&gt; $value)\n  Local interface: {{ \\App\\Models\\Port::find($value['port_id'])-&gt;ifName }}\n  Adjacent IP: {{ $value['isisISAdjIPAddrAddress'] }}\n  Adjacent state: {{ $value['isisISAdjState'] }}\n\n@endforeach\n@endif\n</code></pre>"},{"location":"Alerting/Templates/#service-alert","title":"Service Alert","text":"<pre><code>&lt;div style=\"font-family:Helvetica;\"&gt;\n&lt;h2&gt;@if ($alert-&gt;state == 1) &lt;span style=\"color:red;\"&gt;{{ $alert-&gt;severity }} @endif\n@if ($alert-&gt;state == 2) &lt;span style=\"color:goldenrod;\"&gt;acknowledged @endif&lt;/span&gt;\n@if ($alert-&gt;state == 3) &lt;span style=\"color:green;\"&gt;recovering @endif&lt;/span&gt;\n@if ($alert-&gt;state == 0) &lt;span style=\"color:green;\"&gt;recovered @endif&lt;/span&gt;\n&lt;/h2&gt;\n&lt;b&gt;Host:&lt;/b&gt; {{ $alert-&gt;hostname }}&lt;br&gt;\n&lt;b&gt;Duration:&lt;/b&gt; {{ $alert-&gt;elapsed }}&lt;br&gt;\n&lt;br&gt;\n\n@if ($alert-&gt;faults)\n@foreach ($alert-&gt;faults as $key =&gt; $value) &lt;b&gt;{{ $value['service_desc'] }} - {{ $value['service_type'] }}&lt;/b&gt;&lt;br&gt;\n{{ $value['service_message'] }}&lt;br&gt;\n&lt;br&gt;\n@endforeach\n@endif\n&lt;/div&gt;\n</code></pre>"},{"location":"Alerting/Templates/#processor-alert-with-graph","title":"Processor Alert with Graph","text":"<pre><code>{{ $alert-&gt;title }} &lt;br&gt;\nSeverity: {{ $alert-&gt;severity }}  &lt;br&gt;\n@if ($alert-&gt;state == 0) Time elapsed: {{ $alert-&gt;elapsed }} @endif\nTimestamp: {{ $alert-&gt;timestamp }} &lt;br&gt;\nAlert-ID: {{ $alert-&gt;id }} &lt;br&gt;\nRule: @if ($alert-&gt;name) {{ $alert-&gt;name }} @else {{ $alert-&gt;rule }} @endif &lt;br&gt;\n@if ($alert-&gt;faults) Faults:\n@foreach ($alert-&gt;faults as $key =&gt; $value)\n{{ $key }}: {{ $value['string'] }}&lt;br&gt;\n@endforeach\n@if ($alert-&gt;faults) &lt;b&gt;Faults:&lt;/b&gt;&lt;br&gt;\n@foreach ($alert-&gt;faults as $key =&gt; $value)\n@signedGraphTag(['device' =&gt; $value['device_id'], 'type' =&gt; 'device_processor', 'width' =&gt; 459, 'height' =&gt; 213, 'from' =&gt; time() - 259200])&lt;br&gt;\nhttps://server/graphs/device={{ $value['device_id'] }}/type=device_processor/&lt;br&gt;\n@endforeach\nTemplate: CPU alert &lt;br&gt;\n@endif\n@endif\n</code></pre>"},{"location":"Alerting/Templates/#included","title":"Included","text":"<p>We include a few templates for you to use, these are specific to the type of alert rules you are creating. For example if you create a rule that would alert on BGP sessions then you can assign the BGP template to this rule to provide more information.</p> <p>The included templates apart from the default template are:</p> <ul> <li>BGP Sessions</li> <li>Ports</li> <li>Temperature</li> </ul>"},{"location":"Alerting/Templates/#other-examples","title":"Other Examples","text":""},{"location":"Alerting/Templates/#microsoft-teams-markdown","title":"Microsoft Teams - Markdown","text":"<pre><code>[{{ $alert-&gt;title }}](https://your.librenms.url/device/device={{ $alert-&gt;device_id }}/)\n**Device name:** {{ $alert-&gt;sysName }}\n**Severity:** {{ $alert-&gt;severity }}\n@if ($alert-&gt;state == 0)\n**Time elapsed:** {{ $alert-&gt;elapsed }}\n@endif\n**Timestamp:** {{ $alert-&gt;timestamp }}\n**Unique-ID:** {{ $alert-&gt;uid }}\n@if ($alert-&gt;name)\n**Rule:** {{ $alert-&gt;name }}\n@else\n**Rule:** {{ $alert-&gt;rule }}\n@endif\n@if ($alert-&gt;faults)\n**Faults:**@foreach ($alert-&gt;faults as $key =&gt; $value) {{ $key }}: {{ $value['string'] }}\n@endforeach\n@endif\n</code></pre>"},{"location":"Alerting/Templates/#microsoft-teams-json","title":"Microsoft Teams - JSON","text":"<pre><code>{\n    \"@context\": \"https://schema.org/extensions\",\n    \"@type\": \"MessageCard\",\n    \"title\": \"{{ $alert-&gt;title }}\",\n@if ($alert-&gt;state === 0)\n    \"themeColor\": \"00FF00\",\n@elseif ($alert-&gt;state === 1)\n    \"themeColor\": \"FF0000\",\n@elseif ($alert-&gt;state === 2)\n    \"themeColor\": \"337AB7\",\n@elseif ($alert-&gt;state === 3)\n    \"themeColor\": \"FF0000\",\n@elseif ($alert-&gt;state === 4)\n    \"themeColor\": \"F0AD4E\",\n@else\n    \"themeColor\": \"337AB7\",\n@endif\n    \"summary\": \"LibreNMS\",\n    \"sections\": [\n        {\n@if ($alert-&gt;name)\n            \"facts\": [\n                {\n                    \"name\": \"Rule:\",\n                    \"value\": \"[{{ $alert-&gt;name }}](https://your.librenms.url/device/device={{ $alert-&gt;device_id }}/tab=alert/)\"\n                },\n@else\n                {\n                    \"name\": \"Rule:\",\n                    \"value\": \"[{{ $alert-&gt;rule }}](https://your.librenms.url/device/device={{ $alert-&gt;device_id }}/tab=alert/)\"\n                },\n@endif\n                {\n                    \"name\": \"Severity:\",\n                    \"value\": \"{{ $alert-&gt;severity }}\"\n                },\n                {\n                    \"name\": \"Unique-ID:\",\n                    \"value\": \"{{ $alert-&gt;uid }}\"\n                },\n                {\n                    \"name\": \"Timestamp:\",\n                    \"value\": \"{{ $alert-&gt;timestamp }}\"\n                },\n@if ($alert-&gt;state == 0)\n                {\n                    \"name\": \"Time elapsed:\",\n                    \"value\": \"{{ $alert-&gt;elapsed }}\"\n                },\n@endif\n                {\n                    \"name\": \"Hostname:\",\n                    \"value\": \"[{{ $alert-&gt;hostname }}](https://your.librenms.url/device/device={{ $alert-&gt;device_id }}/)\"\n                },\n                {\n                    \"name\": \"Hardware:\",\n                    \"value\": \"{{ $alert-&gt;hardware }}\"\n                },\n                {\n                    \"name\": \"IP:\",\n                    \"value\": \"{{ $alert-&gt;ip }}\"\n                },\n                {\n                    \"name\": \"Faults:\",\n                    \"value\": \" \"\n                }\n            ]\n@if ($alert-&gt;faults)\n@foreach ($alert-&gt;faults as $key =&gt; $value)\n        },\n        {\n            \"facts\": [\n                {\n                    \"name\": \"Port:\",\n                    \"value\": \"[{{ $value['ifName'] }}](https://your.librenms.url/device/device={{ $alert-&gt;device_id }}/tab=port/port={{ $value['port_id'] }}/)\"\n                },\n                {\n                    \"name\": \"Description:\",\n                    \"value\": \"{{ $value['ifAlias'] }}\"\n                },\n@if ($alert-&gt;state != 0)\n                {\n                    \"name\": \"Status:\",\n                    \"value\": \"down\"\n                }\n            ]\n@else\n                {\n                    \"name\": \"Status:\",\n                    \"value\": \"up\"\n                }\n            ]\n@endif\n@endforeach\n@endif\n        }\n    ]\n}\n</code></pre>"},{"location":"Alerting/Testing/","title":"Rules","text":"<p>The simplest way of testing if an alert rule will match a device is by going to the device, clicking edit (the cog), select Capture. From this new screen choose Alerts and click run.</p> <p>The output will cycle through all alerts applicable to this device and show you the Rule name, rule, MySQL query and if the rule matches.</p> <p>See Device Troubleshooting</p>"},{"location":"Alerting/Testing/#transports","title":"Transports","text":"<p>You can test your transports by forcing an actual active alert to run regardless of the interval or delay values.</p> <p><code>./scripts/test-alert.php</code>. This script accepts -r for the rule id, -h for the device id or hostname and -d for debug.</p>"},{"location":"Alerting/Testing/#templates","title":"Templates","text":"<p>It's possible to test your new template before assigning it to a rule. To do so you can run <code>./scripts/test-template.php</code>. The script will provide the help info when ran without any parameters.</p> <p>As an example, if you wanted to test template ID 10 against localhost running rule ID 2 then you would run:</p> <p><code>./scripts/test-template.php -t 10 -d -h localhost -r 2</code></p> <p>If the rule is currently alerting for localhost then you will get the full template as expected to see on email, if it's not then you will just see the template without any fault information.</p>"},{"location":"Alerting/Transports/","title":"Transports","text":"<p>Transports are located within <code>LibreNMS/Alert/Transport/</code> and can be configured within the WebUI under Alerts -&gt; Alert Transports.</p> <p>Contacts will be gathered automatically and passed to the configured transports. By default the Contacts will be only gathered when the alert triggers and will ignore future changes in contacts for the incident. If you want contacts to be re-gathered before each dispatch, please set 'Updates to contact email addresses not honored' to Off in the WebUI.</p> <p>The contacts will always include the <code>SysContact</code> defined in the Device's SNMP configuration and also every LibreNMS user that has at least <code>read</code>-permissions on the entity that is to be alerted.</p> <p>At the moment LibreNMS only supports Port or Device permissions.</p> <p>You can exclude the <code>SysContact</code> by toggling 'Issue alerts to sysContact'.</p> <p>To include users that have <code>Global-Read</code>, <code>Administrator</code> or <code>Normal-User</code> permissions it is required to toggle the options:</p> <ul> <li>Issue alerts to admins.</li> <li>Issue alerts to read only users</li> <li>Issue alerts to normal users.</li> </ul>"},{"location":"Alerting/Transports/#using-a-proxy","title":"Using a Proxy","text":"<p>Proxy Configuration</p>"},{"location":"Alerting/Transports/#using-a-amqp-based-transport","title":"Using a AMQP based Transport","text":"<p>You need to install an additional php module : <code>bcmath</code></p>"},{"location":"Alerting/Transports/#alerta","title":"Alerta","text":"<p>The alerta monitoring system is a tool used to consolidate and de-duplicate alerts from multiple sources for quick \u2018at-a-glance\u2019 visualisation. With just one system you can monitor alerts from many other monitoring tools on a single screen.</p> <p>Example:</p> Config Example API Endpoint http://alerta.example.com/api/alert Environment Production Apy key api key with write permission Alert state critical Recover state cleared"},{"location":"Alerting/Transports/#alertops","title":"AlertOps","text":"<p>Using AlertOps integration with LibreNMS, you can seamlessly forward alerts to AlertOps with detailed information. AlertOps acts as a dispatcher for LibreNMS alerts, allowing you to determine the right individuals or teams to notify based on on-call schedules. Notifications can be sent via various channels including email, text messages (SMS), phone calls, and mobile push notifications for iOS &amp; Android devices. Additionally, AlertOps provides escalation policies to ensure alerts are appropriately managed until they are assigned or closed. You can also filter out/aggregate alerts based on different values.</p> <p>To set up the integration:</p> <ul> <li> <p>Create a LibreNMS Integration: Sign up for an AlertOps account and create a LibreNMS integration from the integrations page. This will generate an Inbound Integration Endpoint URL that you'll need to copy to LibreNMS.</p> </li> <li> <p>Configure LibreNMS Integration: In LibreNMS, navigate to the integration settings and paste the inbound integration URL obtained from AlertOps.</p> </li> </ul> <p>Example:</p> Config Example WebHook URL https://url/path/to/webhook"},{"location":"Alerting/Transports/#alertmanager","title":"Alertmanager","text":"<p>Alertmanager is an alert handling software, initially developed for alert processing sent by Prometheus.</p> <p>It has built-in functionality for deduplicating, grouping and routing alerts based on configurable criteria.</p> <p>LibreNMS uses alert grouping by alert rule, which can produce an array of alerts of similar content for an array of hosts, whereas Alertmanager can group them by alert meta, ideally producing one single notice in case an issue occurs.</p> <p>It is possible to configure as many label values as required in Alertmanager Options section. Every label and its value should be entered as a new line.</p> <p>Labels can be a fixed string or a dynamic variable from the alert. To set a dynamic variable your label must start with extra_ then complete with the name of your label (only characters, figures and underscore are allowed here). The value must be the name of the variable you want to get (you can see all the variables in Alerts-&gt;Notifications by clicking on the Details icon of your alert when it is pending). If the variable's name does not match with an existing value the label's value will be the string you provided just as it was a fixed string.</p> <p>Multiple Alertmanager URLs (comma separated) are supported. Each URL will be tried and the search will stop at the first success.</p> <p>Basic HTTP authentication with a username and a password is supported. If you let those value blank, no authentication will be used.</p> <p>Alertmanager Docs</p> <p>Example:</p> Config Example Alertmanager URL(s) http://alertmanager1.example.com,http://alertmanager2.example.com Alertmanager Username myUsername Alertmanager Password myPassword Alertmanager Options: source=librenms  customlabel=value  extra_dynamic_value=variable_name"},{"location":"Alerting/Transports/#api","title":"API","text":"<p>The API transport allows to reach any service provider using POST, PUT or GET URLs (Like SMS provider, etc). It can be used in multiple ways:</p> <ul> <li>The same text built from the Alert template is available in the   variable</li> </ul> <p><code>$msg</code>, which can then be sent as an option to the API. Be carefull that HTTP GET requests are usually limited in length.</p> <ul> <li> <p>The API-Option fields can be directly built from the variables   defined in Template-Syntax but without the   'alert-&gt;' prefix. For instance, <code>$alert-&gt;uptime</code> is available as   <code>$uptime</code> in the API transport</p> </li> <li> <p>The API-Headers allows you to add the headers that the api endpoint requires.</p> </li> <li> <p>The API-body allow sending data in the format required by the API endpoint.</p> </li> </ul> <p>A few variables commonly used :</p> Variable Description {{ $hostname\u00a0}} Hostname {{ $sysName\u00a0}} SysName {{ $sysDescr\u00a0}} SysDescr {{ $os\u00a0}} OS of device (librenms defined) {{ $type\u00a0}} Type of device (librenms defined) {{ $ip\u00a0}} IP Address {{ $hardware\u00a0}} Hardware {{ $version\u00a0}} Version {{ $uptime\u00a0}} Uptime in seconds {{ $uptime_short\u00a0}} Uptime in human-readable format {{ $timestamp\u00a0}} Timestamp of alert {{ $description\u00a0}} Description of device {{ $title\u00a0}} Title (as built from the Alert Template) {{ $msg\u00a0}} Body text (as built from the Alert Template) <p>Example:</p> <p>The example below will use the API named sms-api of my.example.com and send the title of the alert to the provided number using the provided service key. Refer to your service documentation to configure it properly.</p> Config Example API Method GET API URL http://my.example.com/sms-api API Options rcpt=0123456789  key=0987654321abcdef  msg=(LNMS) {{ $title }} API Username myUsername API Password myPassword <p>The example below will use the API named wall-display of my.example.com and send the title and text of the alert to a screen in the Network Operation Center.</p> Config Example API Method POST API URL http://my.example.com/wall-display API Options title={{ $title }}  msg={{ $msg }} <p>The example below will use the API named component of my.example.com with id 1, body as json status value and headers send token authentication and content type required.</p> Config Example API Method PUT API URL http://my.example.com/comonent/1 API Headers X-Token=HASH Content-Type=application/json API Body { \"status\": 2 }"},{"location":"Alerting/Transports/#aspsms","title":"aspSMS","text":"<p>aspSMS is a SMS provider that can be configured by using the generic API Transport. You need a token you can find on your personnal space.</p> <p>aspSMS docs</p> <p>Example:</p> Config Example Transport type Api API Method POST API URL https://soap.aspsms.com/aspsmsx.asmx/SimpleTextSMS Options UserKey=USERKEYPassword=APIPASSWORDRecipient=RECIPIENT Originator=ORIGINATORMessageText={{ $msg }}"},{"location":"Alerting/Transports/#browser-push","title":"Browser Push","text":"<p>Browser push notifications can send a notification to the user's device even when the browser is not open. This requires HTTPS, the PHP GMP extension, Push API support, and permissions on each device to send alerts.</p> <p>Simply configure an alert transport and allow notification permission on the device(s) you wish to receive alerts on.  You may disable alerts on a browser on the user preferences page.</p>"},{"location":"Alerting/Transports/#canopsis","title":"Canopsis","text":"<p>Canopsis is a hypervision tool. LibreNMS can send alerts to Canopsis which are then converted to canopsis events.</p> <p>Canopsis Docs</p> <p>Example:</p> Config Example Hostname www.xxx.yyy.zzz Port Number 5672 User admin Password my_password Vhost canopsis"},{"location":"Alerting/Transports/#cisco-spark-aka-webex-teams","title":"Cisco Spark (aka Webex Teams)","text":"<p>Cisco Spark (now known as Webex Teams). LibreNMS can send alerts to a Cisco Spark room. To make this possible you need to have a RoomID and a token. You can also choose to send alerts using Markdown syntax.  Enabling this option provides for more richly formatted alerts, but be sure to adjust your alert template to account for the Markdown syntax.</p> <p>For more information about Cisco Spark RoomID and token, take a look here :</p> <ul> <li>Getting started</li> <li>Rooms</li> </ul> <p>Example:</p> Config Example API Token ASd23r23edewda RoomID 34243243251 Use Markdown? x"},{"location":"Alerting/Transports/#clickatell","title":"Clickatell","text":"<p>Clickatell provides a REST-API requiring an Authorization-Token and at least one Cellphone number.</p> <p>Clickatell Docs</p> <p>Here an example using 3 numbers, any amount of numbers is supported:</p> <p>Example:</p> Config Example Token dsaWd3rewdwea Mobile Numbers +1234567890,+1234567891,+1234567892"},{"location":"Alerting/Transports/#discord","title":"Discord","text":"<p>The Discord transport will POST the alert message to your Discord Incoming WebHook. Simple html tags are stripped from  the message.</p> <p>The only required value is for url, without this no call to Discord will be made. The Options field supports the JSON/Form Params listed in the Discord Docs below.</p> <p>Discord Docs</p> <p>Example:</p> Config Example Discord URL https://discordapp.com/api/webhooks/4515489001665127664/82-sf4385ysuhfn34u2fhfsdePGLrg8K7cP9wl553Fg6OlZuuxJGaa1d54fe Options username=myname"},{"location":"Alerting/Transports/#elasticsearch","title":"Elasticsearch","text":"<p>You can have LibreNMS send alerts to an elasticsearch database. Each fault will be sent as a separate document.</p> <p>Example:</p> Config Example Host 127.0.0.1 Port 9200 Index Pattern \\l\\i\\b\\r\\e\\n\\m\\s-Y.m.d"},{"location":"Alerting/Transports/#gitlab","title":"GitLab","text":"<p>LibreNMS will create issues for warning and critical level alerts however only title and description are set. Uses Personal access tokens to authenticate with GitLab and will store the token in cleartext.</p> <p>Example:</p> Config Example Host http://gitlab.host.tld Project ID 1 Personal Access Token AbCdEf12345"},{"location":"Alerting/Transports/#grafana-oncall","title":"Grafana Oncall","text":"<p>Send alerts to Grafana Oncall using a Formatted Webhook</p> <p>Example:</p> Config Example Webhook URL https://a-prod-us-central-0.grafana.net/integrations/v1/formatted_webhook/m12xmIjOcgwH74UF8CN4dk0Dh/"},{"location":"Alerting/Transports/#hipchat","title":"HipChat","text":"<p>See the HipChat API Documentation for rooms/message for details on acceptable values.</p> <p>You may notice that the link points at the \"deprecated\" v1 API.  This is because the v2 API is still in beta.</p> <p>Example:</p> Config Example API URL https://api.hipchat.com/v1/rooms/message?auth_token=109jawregoaihj Room ID 7654321 From Name LibreNMS Options color=red <p>At present the following options are supported: <code>color</code>.</p> <p>Note: The default message format for HipChat messages is HTML.  It is recommended that you specify the <code>text</code> message format to prevent unexpected results, such as HipChat attempting to interpret angled brackets (<code>&lt;</code> and <code>&gt;</code>).</p>"},{"location":"Alerting/Transports/#irc","title":"IRC","text":"<p>The IRC transports only works together with the LibreNMS IRC-Bot. Configuration of the LibreNMS IRC-Bot is described here.</p> <p>Example:</p> Config Example IRC enabled"},{"location":"Alerting/Transports/#jira","title":"JIRA","text":"<p>You can have LibreNMS create issues on a Jira instance for critical and warning  alerts using either the Jira REST API or webhooks.  Custom fields allow you to add any required fields beyond summary and description  fields in case mandatory fields are required by your Jira project/issue type   configuration. Custom fields are defined in JSON format but ustom fields allow   you to add any required fields beyond summary and description fields in case   mandatory fields are required by your Jira project/issue type configuration.   Custom fields are defined in JSON format. Currently http authentication is used   to access Jira and Jira username and password will be stored as cleartext in the   LibreNMS database.</p>"},{"location":"Alerting/Transports/#rest-api","title":"REST API","text":"<p>The config fields that need to set for Jira REST API are: Jira Open URL, Jira username,  Jira password, Project key, and issue type.  </p> <p>Note: REST API is that it is only able to open new tickets.</p>"},{"location":"Alerting/Transports/#webhooks","title":"Webhooks","text":"<p>The config fields that need to set for webhooks are: Jira Open URL, Jira Close URL,  Jira username, Jira password and webhook ID.</p> <p>Note: Webhooks allow more control over how alerts are handled in Jira. With webhooks,  recovery messages can be sent to a different URL than alerts. Additionally, a custom  conditional logic can be built using the webhook payload and ID to automatically close  an open ticket if predefined conditions are met.</p> <p>Jira Issue Types Jira Webhooks</p> <p>Example:</p> Config Example Project Key JIRAPROJECTKEY Issue Type Myissuetype Open URL https://myjira.mysite.com /  https://webhook-open-url Close URL https://webhook-close-url Jira Username myjirauser Jira Password myjirapass Enable webhook ON/OFF Webhook ID alert_id Custom Fileds {\"components\":[{\"id\":\"00001\"}], \"source\": \"LibrenNMS\"}"},{"location":"Alerting/Transports/#jira-service-management","title":"Jira Service Management","text":"<p>Using Jira Service Management LibreNMS integration, LibreNMS forwards alerts to Jira Service Management with detailed information. Jira Service Management acts as a dispatcher for LibreNMS alerts, determines the right people to notify based on on-call schedules and notifies via email, text messages (SMS), phone calls and iOS &amp; Android push notifications. Then escalates alerts until the alert is acknowledged or closed.</p> <p>:warning: If the feature isn\u2019t available on your site, keep checking Jira Service Management for updates.</p> <p>Example:</p> Config Example WebHook URL https://url/path/to/webhook"},{"location":"Alerting/Transports/#line-messaging-api","title":"LINE Messaging API","text":"<p>LINE Messaging API Docs</p> <p>Here is the step for setup a LINE bot and using it in LibreNMS.</p> <ol> <li> <p>Use your real LINE account register in developer protal.</p> </li> <li> <p>Add a new channel, choose <code>Messaging API</code> and continue fill up the forms, note that <code>Channel name</code> cannot edit later.</p> </li> <li> <p>Go to \"Messaging API\" tab of your channel, here listing some important value.</p> <ul> <li><code>Bot basic ID</code> and <code>QR code</code> is your LINE bot's ID and QR code.</li> <li><code>Channel access token (long-lived)</code>, will use it in LibreNMS, keep it safe.</li> </ul> </li> <li> <p>Use your real Line account add your LINE bot as a friend.</p> </li> <li> <p>Recipient ID can be <code>groupID</code>, <code>userID</code> or <code>roomID</code>, it will be used in LibreNMS to send message to a group or a user. Use the following NodeJS program and <code>ngrok</code> for temporally https webhook to listen it.</p> <p>LINE-bot-RecipientFetcher</p> </li> <li> <p>Run the program and using <code>ngrok</code> expose port to public</p> <pre><code>$ node index.js\n$ ngrok http 3000\n</code></pre> </li> <li> <p>Go to \"Messaging API\" tab of your channel, fill up Webhook URL to <code>https://&lt;your ngrok domain&gt;/webhook</code></p> </li> <li> <p>If you want to let LINE bot send message to a yourself, use your real account to send a message to your LINE bot. Program will print out the <code>userID</code> in console.</p> <p>sample value:  </p> <pre><code>{\"type\":\"user\",\"userId\":\"U527xxxxxxxxxxxxxxxxxxxxxxxxxc0ee\"}\n</code></pre> </li> <li> <p>If you want to let LINE bot send message to a group, do the following steps.</p> <ul> <li>Add your LINE bot into group</li> <li>Use your real account to send a message to group</li> </ul> <p>Program will print out the <code>groupID</code> in console, it will be Recipient ID, keep it safe.</p> <p>sample value:</p> <pre><code>{\"type\":\"group\",\"groupId\":\"Ce51xxxxxxxxxxxxxxxxxxxxxxxxxx6ef\",\"userId\":\"U527xxxxxxxxxxxxxxxxxxxxxxxxxc0ee\"} ```\n</code></pre> </li> </ol> <p>Example:</p> Config Example Access token fhJ9vH2fsxxxxxxxxxxxxxxxxxxxxlFU= Recipient (groupID, userID or roomID) Ce51xxxxxxxxxxxxxxxxxxxxxxxxxx6ef"},{"location":"Alerting/Transports/#line-notify","title":"LINE Notify","text":"<p>LINE Notify</p> <p>LINE Notify API Document</p> <p>Example:</p> Config Example Token AbCdEf12345"},{"location":"Alerting/Transports/#mail","title":"Mail","text":"<p>The E-Mail transports uses the same email-configuration as the rest of LibreNMS. As a small reminder, here is its configuration directives including defaults:</p> <p>Emails will attach all graphs included with the @signedGraphTag directive. If the email format is set to html, they will be embedded. To disable attaching images, set email_attach_graphs to false.</p> <p>alerting/email</p> <pre><code>lnms config:set email_html true\nlnms config:set email_attach_graphs false\n</code></pre> <p>Example:</p> Config Example Email me@example.com"},{"location":"Alerting/Transports/#matrix","title":"Matrix","text":"<p>For using the Matrix transports, you have to create a room on the Matrix-server. The provided Auth_token belongs to an user, which is member of this room. The Message, sent to the matrix-room can be built from the variables defined in Template-Syntax but without the 'alert-&gt;' prefix. See API-Transport. The variable <code>$msg</code> is contains the result of the Alert template.The Matrix-Server URL is cutted before the beginning of the <code>_matrix/client/r0/...</code> API-part.</p> <p>Example:</p> Config Example Matrix-Server URL https://matrix.example.com/ Room !ajPbbPalmVbNuQoBDK:example.com Auth_token: MDAyYmxvY2F0aW9uI...z1DCn6lz_uOhtW3XRICg Message: Alert: {{ $msg }} https://librenms.example.com"},{"location":"Alerting/Transports/#messagebird","title":"Messagebird","text":"<p>LibreNMS can send text messages through Messagebird Rest API transport.</p> Config Example Api Key Api rest key given in the messagebird dashboard Originator E.164 formatted originator Recipient E.164 formatted recipient for multi recipents comma separated Character limit Range 1..480 (max 3 split messages)"},{"location":"Alerting/Transports/#messagebird-voice","title":"Messagebird Voice","text":"<p>LibreNMS can send messages through Messagebird voice Rest API transport (text to speech).</p> Config Example Api Key Api rest key given in the messagebird dashboard Originator E.164 formatted originator Recipient E.164 formatted recipient for multi recipents comma separated Language Select box for options Spoken voice Female or Male Repeat X times the message is repeated"},{"location":"Alerting/Transports/#microsoft-teams","title":"Microsoft Teams","text":"<p>LibreNMS can send alerts to Microsoft Teams Incoming Webhooks which are then posted to a specific channel. Microsoft recommends using markdown formatting for connector cards. Administrators can opt to compose the MessageCard themselves using JSON to get the full functionality.</p> <p>Example:</p> Config Example WebHook URL https://outlook.office365.com/webhook/123456789 Use JSON? x"},{"location":"Alerting/Transports/#nagios-compatible","title":"Nagios Compatible","text":"<p>The nagios transport will feed a FIFO at the defined location with the same format that nagios would. This allows you to use other alerting systems with LibreNMS, for example Flapjack.</p> <p>Example:</p> Config Example Nagios FIFO /path/to/my.fifo"},{"location":"Alerting/Transports/#opsgenie","title":"OpsGenie","text":"<p>Using OpsGenie LibreNMS integration, LibreNMS forwards alerts to OpsGenie with detailed information. OpsGenie acts as a dispatcher for LibreNMS alerts, determines the right people to notify based on on-call schedules and notifies via email, text messages (SMS), phone calls and iOS &amp; Android push notifications. Then escalates alerts until the alert is acknowledged or closed.</p> <p>Create a LibreNMS Integration from the integrations page  once you signup. Then copy the API key from OpsGenie to LibreNMS.</p> <p>If you want to automatically ack and close alerts, leverage Marid integration. More detail with screenshots is available in OpsGenie LibreNMS Integration page.</p> <p>Example:</p> Config Example WebHook URL https://url/path/to/webhook"},{"location":"Alerting/Transports/#osticket","title":"osTicket","text":"<p>LibreNMS can send alerts to osTicket API which are then converted to osTicket tickets.</p> <p>Example:</p> Config Example API URL http://osticket.example.com/api/http.php/tickets.json API Token 123456789"},{"location":"Alerting/Transports/#pagerduty","title":"PagerDuty","text":"<p>LibreNMS can make use of PagerDuty, this is done by utilizing an API key and Integraton Key.</p> <p>API Keys can be found under 'API Access' in the PagerDuty portal.</p> <p>Integration Keys can be found under 'Integration' for the particular Service you have created in the PagerDuty portal.</p> <p>Example:</p> Config Example API Key randomsample Integration Key somerandomstring"},{"location":"Alerting/Transports/#philips-hue","title":"Philips Hue","text":"<p>Want to spice up your noc life? LibreNMS will flash all lights connected to your philips hue bridge whenever an alert is triggered.</p> <p>To setup, go to the you http://<code>your-bridge-ip</code>/debug/clip.html</p> <ul> <li>Update the \"URL:\" field to <code>/api</code></li> <li>Paste this in the \"Message Body\" {\"devicetype\":\"librenms\"}</li> <li>Press the round button on your <code>philips Hue Bridge</code></li> <li>Click on <code>POST</code></li> <li>In the <code>Command Response</code> You should see output with your   username. Copy this without the quotes</li> </ul> <p>More Info: Philips Hue Documentation</p> <p>Example:</p> Config Example Host http://your-bridge-ip Hue User username Duration 1 Second"},{"location":"Alerting/Transports/#playsms","title":"PlaySMS","text":"<p>PlaySMS is an open source SMS-Gateway that can be used via their HTTP API using a Username and WebService Token. Please consult PlaySMS's documentation regarding number formatting.</p> <p>PlaySMS Docs</p> <p>Here an example using 3 numbers, any amount of numbers is supported:</p> <p>Example:</p> Config Example PlaySMS https://localhost/index.php User user1 Token MYFANCYACCESSTOKEN From My Name Mobiles +1234567892,+1234567890,+1234567891"},{"location":"Alerting/Transports/#pushbullet","title":"Pushbullet","text":"<p>Get your Access Token from your Pushbullet's settings page and set it in your transport:</p> <p>Example:</p> Config Example Access Token MYFANCYACCESSTOKEN"},{"location":"Alerting/Transports/#pushover","title":"Pushover","text":"<p>If you want to change the default notification sound for all notifications then you can add the following in Pushover Options:</p> <p><code>sound=falling</code></p> <p>You also have the possibility to change sound per severity: <code>sound_critical=falling</code> <code>sound_warning=siren</code> <code>sound_ok=magic</code></p> <p>Enabling Pushover support is fairly easy, there are only two required parameters.</p> <p>Firstly you need to create a new Application (called LibreNMS, for example) in your account on the Pushover website (https://pushover.net/apps).</p> <p>Now copy your API Key and obtain your User Key from the newly created Application and setup the transport.</p> <p>Pushover Docs</p> <p>Example:</p> Config Example Api Key APPLICATIONAPIKEYGOESHERE User Key USERKEYGOESHERE Pushover Options sound_critical=falling  sound_warning=siren  sound_ok=magic"},{"location":"Alerting/Transports/#rocketchat","title":"Rocket.chat","text":"<p>The Rocket.chat transport will POST the alert message to your Rocket.chat Incoming WebHook using the attachments option. Simple html tags are stripped from the message. All options are optional, the only required value is for url, without this then no call to Rocket.chat will be made.</p> <p>Rocket.chat Docs</p> <p>Example:</p> Config Example Webhook URL https://rocket.url/api/v1/chat.postMessage Rocket.chat Options channel=#Alerting  username=myname  icon_url=http://someurl/image.gif  icon_emoji=:smirk:"},{"location":"Alerting/Transports/#sensu","title":"Sensu","text":"<p>The Sensu transport will POST an Event to the Agent API upon an alert being generated.</p> <p>It will be categorised (ok, warning or critical), and if you configure the alert to send recovery notifications, Sensu will also clear the alert automatically. No configuration is required - as long as you are running the Sensu Agent on your poller with the HTTP socket enabled on tcp/3031, LibreNMS will start generating Sensu events as soon as you create the transport.</p> <p>Acknowledging alerts within LibreNMS is not directly supported, but an annotation (<code>acknowledged</code>) is set, so a mutator or silence, or even the handler could be written to look for it directly in the handler. There is also an annotation (<code>generated-by</code>) set, to allow you to treat LibreNMS events differently from agent events.</p> <p>The 'shortname' option is a simple way to reduce the length of device names in configs. It replaces the last 3 domain components with single letters (e.g. websrv08.dc4.eu.corp.example.net gets shortened to websrv08.dc4.eu.cen).</p>"},{"location":"Alerting/Transports/#limitations","title":"Limitations","text":"<ul> <li>Only a single namespace is supported</li> <li>Sensu will reject rules with special characters - the Transport will attempt to fix up rule names, but it's best to stick to letters, numbers and spaces</li> <li>The transport only deals in absolutes - it ignores the got worse/got better states</li> <li>The agent will buffer alerts, but LibreNMS will not - if your agent is offline, alerts will be dropped</li> <li>There is no backchannel between Sensu and LibreNMS - if you make changes in Sensu to LibreNMS alerts, they'll be lost on the next event (silences will work)</li> </ul> <p>Example:</p> Config Example Sensu Endpoint http://localhost:3031 Sensu Namespace eu-west Check Prefix lnms Source Key hostname"},{"location":"Alerting/Transports/#signl4","title":"SIGNL4","text":"<p>SIGNL4 offers critical alerting, incident response and service dispatching for operating critical infrastructure. It alerts you persistently via app push, SMS text, voice calls, and email including tracking, escalation, on-call duty scheduling and collaboration.</p> <p>Integrating SIGNL4 with LibreNMS to forward critical alerts with detailed information to responsible people or on-call teams. The integration supports triggering as well as closing alerts.</p> <p>In the configuration for your SIGNL4 alert transport you just need to enter your SIGNL4 webhook URL including team or integration secret.</p> <p>Example:</p> Config Example Webhook URL https://connect.signl4.com/webhook/{team-secret} <p>You can find more information about the integration here.</p>"},{"location":"Alerting/Transports/#slack","title":"Slack","text":"<p>The Slack transport will POST the alert message to your Slack Incoming WebHook using the attachments option, you are able to specify multiple webhooks along with the relevant options to go with it. Simple html tags are stripped from the message. All options are optional, the only required value is for url, without this  then no call to Slack will be made.</p> <p>We currently support the following attachment options:</p> <ul> <li><code>author_name</code></li> </ul> <p>We currently support the following global message options:</p> <ul> <li><code>channel_name</code> : Slack channel name (without the leading '#') to which the alert will go</li> <li><code>icon_emoji</code> : Emoji name in colon format to use as the author icon</li> </ul> <p>Slack docs</p> <p>The alert template can make use of Slack markdown. In the Slack markdown dialect, custom links are denoted with HTML angled brackets, but LibreNMS strips these out. To support embedding custom links in alerts, use the bracket/parentheses markdown syntax for links.  For example if you would typically use this for a Slack link:</p> <p><code>&lt;https://www.example.com|My Link&gt;</code></p> <p>Use this in your alert template:</p> <p><code>[My Link](https://www.example.com)</code></p> <p>Example:</p> Config Example Webhook URL https://slack.com/url/somehook Channel network-alerts Author Name LibreNMS Bot Icon <code>:scream:</code>"},{"location":"Alerting/Transports/#smseagle","title":"SMSEagle","text":"<p>SMSEagle is a hardware SMS Gateway that can be used via their HTTP API using a Username and password.</p> <p>Destination numbers are one per line, with no spaces. They can be in either local or international dialling format.</p> <p>SMSEagle Docs</p> <p>Example:</p> Config Example SMSEagle Host ip.add.re.ss User smseagle_user Password smseagle_user_password Mobiles +3534567890  0834567891"},{"location":"Alerting/Transports/#smsmode","title":"SMSmode","text":"<p>SMSmode is a SMS provider that can be configured by using the generic API Transport. You need a token you can find on your personnal space.</p> <p>SMSmode docs</p> <p>Example:</p> Config Example Transport type Api API Method POST API URL http://api.smsmode.com/http/1.6/sendSMS.do Options accessToken=PUT_HERE_YOUR_TOKEN numero=PUT_HERE_DESTS_NUMBER_COMMA_SEPARATEDmessage={{ $msg }}"},{"location":"Alerting/Transports/#splunk","title":"Splunk","text":"<p>LibreNMS can send alerts to a Splunk instance and provide all device and alert details.</p> <p>Example output:</p> <pre><code>Feb 21 15:21:52 nms  hostname=\"localhost\", sysName=\"localhost\", \nsysDescr=\"\", sysContact=\"\", os=\"fortigate\", type=\"firewall\", ip=\"localhost\", \nhardware=\"FGT_50E\", version=\"v5.6.9\", serial=\"\", features=\"\", location=\"\", \nuptime=\"387\", uptime_short=\" 6m 27s\", uptime_long=\" 6 minutes 27 seconds\", \ndescription=\"\", notes=\"\", alert_notes=\"\", device_id=\"0\", rule_id=\"0\", \nid=\"0\", proc=\"\", status=\"1\", status_reason=\"\", ping_timestamp=\"\", ping_loss=\"0\", \nping_min=\"25.6\", ping_max=\"26.8\", ping_avg=\"26.3\", \ntitle=\"localhost recovered from  Device up/down  \", elapsed=\"14m 54s\", uid=\"0\", \nalert_id=\"0\", severity=\"critical\", name=\"Device up/down\", \ntimestamp=\"2020-02-21 15:21:33\", state=\"0\", device_device_id=\"0\", \ndevice_inserted=\"\", device_hostname=\"localhost\", device_sysName=\"localhost\", \ndevice_ip=\"localhost\", device_overwrite_ip=\"\", device_timeout=\"\", device_retries=\"\", \ndevice_snmp_disable=\"0\", device_bgpLocalAs=\"0\", \ndevice_sysObjectID=\"\", device_sysDescr=\"\", \ndevice_sysContact=\"\", device_version=\"v5.6.9\", device_hardware=\"FGT_50E\", \ndevice_features=\"build1673\", device_location_id=\"\", device_os=\"fortigate\", \ndevice_status=\"1\", device_status_reason=\"\", device_ignore=\"0\", device_disabled=\"0\", \ndevice_uptime=\"387\", device_agent_uptime=\"0\", device_last_polled=\"2020-02-21 15:21:33\", \ndevice_last_poll_attempted=\"\", device_last_polled_timetaken=\"7.9\", \ndevice_last_discovered_timetaken=\"11.77\", device_last_discovered=\"2020-02-21 13:16:42\", \ndevice_last_ping=\"2020-02-21 15:21:33\", device_last_ping_timetaken=\"26.3\", \ndevice_purpose=\"\", device_type=\"firewall\", device_serial=\"FGT50EXXX\", \ndevice_icon=\"images/os/fortinet.svg\", device_poller_group=\"0\", \ndevice_override_sysLocation=\"0\", device_notes=\"\", device_port_association_mode=\"1\", \ndevice_max_depth=\"0\", device_disable_notify=\"0\", device_location=\"\", \ndevice_vrf_lites=\"Array\", device_lat=\"\", device_lng=\"\", - \nsysObjectID =&gt; \"\"; `\n</code></pre> <p>Each alert will be sent as a separate message.</p> <p>Example:</p> Config Example Host 127.0.0.1 UDP Port 514"},{"location":"Alerting/Transports/#syslog","title":"Syslog","text":"<p>You can have LibreNMS emit alerts as syslogs complying with RFC 3164.</p> <p>More information on RFC 3164 can be found here: https://tools.ietf.org/html/rfc3164</p> <p>Example output: <code>&lt;26&gt; Mar 22 00:59:03 librenms.host.net librenms[233]: [Critical] network.device.net: Port Down - port_id =&gt; 98939; ifDescr =&gt; xe-1/1/0;</code></p> <p>Each fault will be sent as a separate syslog.</p> <p>Example:</p> Config Example Host 127.0.0.1 Port 514 Facility 3"},{"location":"Alerting/Transports/#telegram","title":"Telegram","text":"<p>Thank you to snis for these instructions.</p> <ol> <li> <p>First you must create a telegram account and add BotFather to you    list. To do this click on the following url:    https://telegram.me/botfather</p> </li> <li> <p>Generate a new bot with the command \"/newbot\" BotFather is then    asking for a username and a normal name. After that your bot is    created and you get a HTTP token. (for more options for your bot    type \"/help\")</p> </li> <li> <p>Add your bot to telegram with the following url:    <code>http://telegram.me/&lt;botname&gt;</code> to use app or    <code>https://web.telegram.org/&lt;botname&gt;</code> to use in web, and send some    text to the bot.</p> </li> <li> <p>The BotFather should have responded with a token, copy your token    code and go to the following page in chrome:    <code>https://api.telegram.org/bot&lt;tokencode&gt;/getUpdates</code> (this could    take a while so continue to refresh until you see something similar    to below)</p> </li> <li> <p>You see a json code with the message you sent to the bot. Copy the    Chat id. In this example that is \u201c-9787468\u201d within this example:    <code>\"message\":{\"message_id\":7,\"from\":\"id\":656556,\"first_name\":\"Joo\",\"last_name\":\"Doo\",\"username\":\"JohnDoo\"},\"chat\":{\"id\":-9787468,\"title\":\"Telegram    Group\"},\"date\":1435216924,\"text\":\"Hi\"}}]}</code>.</p> </li> <li> <p>Now create a new \"Telegram transport\" in LibreNMS (Global Settings    -&gt; Alerting Settings -&gt; Telegram transport). Click on 'Add Telegram    config' and put your chat id and token into the relevant box.</p> </li> <li> <p>If want to use a group to receive alerts, you need to pick the Chat    ID of the group chat, and not of the Bot itself.</p> </li> </ol> <p>Telegram Docs</p> <p>Example:</p> Config Example Chat ID 34243432 Token 3ed32wwf235234 Format HTML or MARKDOWN"},{"location":"Alerting/Transports/#twilio-sms","title":"Twilio SMS","text":"<p>Twilio will send your alert via SMS.  From your Twilio account you will need your account SID, account token and your Twilio SMS phone number that you would like to send the alerts from.  Twilio's APIs are located at: https://www.twilio.com/docs/api?filter-product=sms</p> <p>Example:</p> Config Example SID ACxxxxxxxxxxxxxxxxxxxxxxxxxxxx Token 7xxxx573acxxxbc2xxx308d6xxx652d32 Twilio SMS Number 8888778660"},{"location":"Alerting/Transports/#ukfast-pss","title":"UKFast PSS","text":"<p>UKFast PSS tickets can be raised from alerts using the UKFastPSS transport. This required an API key with PSS <code>write</code> permissions</p> <p>Example:</p> Config Example API Key ABCDefgfg12 Author 5423 Priority Critical Secure true"},{"location":"Alerting/Transports/#victorops","title":"VictorOps","text":"<p>VictorOps provide a webHook url to make integration extremely simple. To get the URL required login to your VictorOps  account and go to:</p> <p>Settings -&gt; Integrations -&gt; REST Endpoint -&gt; Enable Integration.</p> <p>The URL provided will have $routing_key at the end, you need to change this to something that is unique to the system  sending the alerts such as librenms. I.e:</p> <p><code>https://alert.victorops.com/integrations/generic/20132414/alert/2f974ce1-08fc-4dg8-a4f4-9aee6cf35c98/librenms</code></p> <p>Example:</p> Config Example Post URL https://alert.victorops.com/integrations/generic/20132414/alert/2f974ce1-08fc-4dg8-a4f4-9aee6cf35c98/librenms"},{"location":"Alerting/Transports/#kayako-classic","title":"Kayako Classic","text":"<p>LibreNMS can send alerts to Kayako Classic API which are then converted to tickets. To use this module, you need REST API feature enabled in Kayako Classic and configured email account at LibreNMS. To enable this, do this:</p> <p>AdminCP -&gt; REST API -&gt; Settings -&gt; Enable API (Yes)</p> <p>Also you need to know the department id to provide tickets to appropriate department and a user email to provide, which is used as ticket author.  To get department id: navigate to appropriate department name at the departments list page in Admin CP and watch the number at the end of url. Example: http://servicedesk.example.com/admin/Base/Department/Edit/17. Department ID is 17</p> <p>As a requirement, you have to know API Url, API Key and API Secret to connect to servicedesk</p> <p>Kayako REST API Docs</p> <p>Example:</p> Config Example Kayako URL http://servicedesk.example.com/api/ Kayako API Key 8cc02f38-7465-4a0c-8730-bb3af122167b Kayako API Secret Y2NhZDIxNDMtNjVkMi0wYzE0LWExYTUtZGUwMjJiZDI0ZWEzMmRhOGNiYWMtNTU2YS0yODk0LTA1MTEtN2VhN2YzYzgzZjk5 Kayako Department 1"},{"location":"Alerting/Transports/#signal-cli","title":"Signal CLI","text":"<p>Use the Signal Mesenger for Alerts. Run the Signal CLI with the D-Bus option.</p> <p>GitHub Project</p> <p>Example:</p> Config Example Path /opt/signal-cli/bin/signal-cli Recipient type Group Recipient dfgjsdkgljior4345=="},{"location":"Alerting/Transports/#smsfeedback","title":"SMSFeedback","text":"<p>SMSFeedback is a SAAS service, which can be used to deliver Alerts via API, using API url, Username &amp; Password.</p> <p>They can be in international dialling format only.</p> <p>SMSFeedback Api Docs</p> <p>Example:</p> Config Example User smsfeedback_user Password smsfeedback_password Mobiles 71234567890 Sender name CIA"},{"location":"Alerting/Transports/#zenduty","title":"Zenduty","text":"<p>Leveraging LibreNMS&lt;&gt;Zenduty Integration, users can send new LibreNMS  alerts to the right team and notify them based on on-call schedules via email, SMS, Phone Calls, Slack, Microsoft Teams and mobile push notifications. Zenduty provides engineers with detailed context around  the LibreNMS alert along with playbooks and a complete incident command framework to triage, remediate and resolve incidents with speed.</p> <p>Create a LibreNMS Integration from inside  Zenduty, then copy the Webhook URL from Zenduty to LibreNMS.</p> <p>For a detailed guide with screenshots, refer to the  LibreNMS documentation at Zenduty.</p> <p>Example:</p> Config Example WebHook URL https://www.zenduty.com/api/integration/librenms/integration-key/"},{"location":"Developing/Application-Notes/","title":"Notes On Application Development","text":""},{"location":"Developing/Application-Notes/#librenms-json-snmp-extends","title":"LibreNMS JSON SNMP Extends","text":"<p>The polling function <code>json_app_get</code> makes it easy to poll complex data using SNMP extends and JSON.</p> <p>The following exceptions are provided by it.</p> <p>It takes three parameters, in order in the list below.</p> <ul> <li>Integer :: Device ID to fetch it for.</li> <li>String :: The extend name. For example, if 'zfs' is passed it will   be converted to 'nsExtendOutputFull.3.122.102.115'.</li> <li>Integer :: Minimum expected version of the JSON return.</li> </ul> <p>The required keys for the returned JSON are as below.</p> <ul> <li>version :: The version of the snmp extend script. Should be numeric   and at least 1.</li> <li>error :: Error code from the snmp extend script. Should be &gt; 0    (0 will be ignored and negatives are reserved)</li> <li>errorString :: Text to describe the error.</li> <li>data :: An key with an array with the data to be used.</li> </ul> <p>The supported exceptions are as below.</p> <ul> <li>JsonAppPollingFailedException :: Empty return from SNMP.</li> <li>JsonAppParsingFailedException :: Could not parse the JSON</li> <li>JsonAppBlankJsonException :: Blank JSON.</li> <li>JsonAppMissingKeysException :: Missing required keys.</li> <li>JsonAppWrongVersionException :: Older version than supported.</li> <li>JsonAppExtendErroredException :: Polling and parsing was good, but   the returned data has an error set. This may be checked via   $e-&gt;getParsedJson() and then checking the keys error and   errorString.</li> </ul> <p>The error value can be accessed via $e-&gt;getCode(). The output can be accessed via $-&gt;getOutput() Only returned JsonAppParsingFailedException. The parsed JSON can be access via $e-&gt;getParsedJson().</p> <p>An example below from <code>includes/polling/applications/zfs.inc.php</code>...</p> <pre><code>try {\n    $zfs = json_app_get($device, $name, 1)['data'];\n} catch (JsonAppMissingKeysException $e) {\n    //old version with out the data key\n    $zfs = $e-&gt;getParsedJson();\n} catch (JsonAppException $e) {\n    echo PHP_EOL . $name . ':' . $e-&gt;getCode() . ':' . $e-&gt;getMessage() . PHP_EOL;\n    update_application($app, $e-&gt;getCode() . ':' . $e-&gt;getMessage(), []);\n\n    return;\n}\n</code></pre>"},{"location":"Developing/Application-Notes/#compression","title":"Compression","text":"<p>Also worth noting that <code>json_app_get</code> supports compressed data via base64 encoded gzip. If base64 encoding is detected on the the SNMP return, it will be gunzipped and then parsed.</p> <p><code>https://github.com/librenms/librenms-agent/blob/master/utils/librenms_return_optimizer</code> may be used to optimize JSON returns.</p>"},{"location":"Developing/Application-Notes/#application-data-storage","title":"Application Data Storage","text":"<p>The <code>$app</code> model is supplied for each application poller and graph. You may access and update the <code>$app-&gt;data</code> field to store arrays of data the Application model.</p> <p>When you call update_application() the <code>$app</code> model will be saved along with any changes to the data field.</p> <pre><code>// set the varaible data to $foo\n$app-&gt;data = [\n    'item_A' =&gt; 123,\n    'item_B' =&gt; 4.5,\n    'type' =&gt; 'foo',\n    'other_items' =&gt; [ 'a', 'b', 'c' ],\n];\n\n// save the change\n$app-&gt;save();\n\n// var_dump the contents of the variable\nvar_dump($app-&gt;data);\n</code></pre>"},{"location":"Developing/Code-Structure/","title":"Code structure","text":"<p>This document will try and provide a good overview of how the code is structured within LibreNMS. We will go through the main directories and provide information on how and when they are used. LibreNMS now uses Laravel for much of it's frontend (webui) and database code. Much of the Laravel documentation applies: https://laravel.com/docs/structure</p> <p>Directories from the (filtered) structure tree below are some of the directories that will be most interesting during development:</p> <pre><code>.\n\u251c\u2500 app\n\u251c\u2500 database\n\u2502  \u2514\u2500 migrations\n\u251c\u2500 doc\n\u251c\u2500 html\n\u2502  \u251c\u2500 css\n\u2502  \u2502  \u2514\u2500 custom\n\u2502  \u2514\u2500 js\n\u251c\u2500 includes\n\u2502  \u251c\u2500 definitions\n\u2502  \u251c\u2500 discovery\n\u2502  \u251c\u2500 html\n\u2502  \u2502  \u251c\u2500 forms\n\u2502  \u2502  \u251c\u2500 graphs\n\u2502  \u2502  \u251c\u2500 pages\n\u2502  \u2502  \u2514\u2500 reports\n\u2502  \u2514\u2500 polling\n\u251c\u2500 LibreNMS\n\u251c\u2500 logs\n\u251c\u2500 mibs\n\u2514\u2500 rrd\n</code></pre>"},{"location":"Developing/Code-Structure/#doc","title":"doc/","text":"<p>This is the location of all the documentation for LibreNMS, this is in GitHub markdown format and can be viewed online</p>"},{"location":"Developing/Code-Structure/#app","title":"app/","text":"<p>Most Laravel and Eloquent classes should be under this directory.</p>"},{"location":"Developing/Code-Structure/#librenms","title":"LibreNMS/","text":"<p>Classes that don't belong to the Laravel application belong in this directory, with a directory structure that matches the namespace.  One class per file. See PSR-0 for details.</p>"},{"location":"Developing/Code-Structure/#html","title":"html/","text":"<p>All legacy web accessible files are located here. New pages should follow the Laravel conventions.</p>"},{"location":"Developing/Code-Structure/#htmlapi_v0php","title":"html/api_v0.php","text":"<p>This is the API routing file which directs users to the correct API function based on the API endpoint call.</p>"},{"location":"Developing/Code-Structure/#htmlindexphp","title":"html/index.php","text":"<p>This is the main file which all links within LibreNMS are parsed through. It loads the majority of the relevant includes needed for the control panel to function. CSS and JS files are also loaded here.</p>"},{"location":"Developing/Code-Structure/#htmlcss","title":"html/css/","text":"<p>All used CSS files are located here.</p>"},{"location":"Developing/Code-Structure/#htmlcsscustom","title":"html/css/custom/","text":"<p>This is a directory you can put custom css files into that won't interfere with auto updates</p>"},{"location":"Developing/Code-Structure/#htmljs","title":"html/js/","text":"<p>All used JS files are located here.</p>"},{"location":"Developing/Code-Structure/#includes","title":"includes/","text":"<p>This directory is quite big and contains all the files to make the cli and polling / discovery to work.  This code is not currently accessible from Laravel code (intentionally).</p>"},{"location":"Developing/Code-Structure/#includesdiscovery-includespolling","title":"includes/discovery/, includes/polling/","text":"<p>All the discovery and polling code. The format is usually quite similar between discovery and polling. Both are made up of modules and the files within the relevant directories will match that module. So for instance if you want to update the os detection for a device, you would look in <code>includes/discovery/os/</code> for a file named after the operating system such as linux: <code>includes/discovery/linux.inc.php</code>. Within here you would update or add support for newer OS'. This is the same for polling as well.</p>"},{"location":"Developing/Code-Structure/#includeshtml","title":"includes/html/","text":"<p>This is where the majority of the website core files are located. These tend to be files that contain functions or often used code segments that can be included where needed rather than duplicating code.</p>"},{"location":"Developing/Code-Structure/#includeshtmlforms","title":"includes/html/forms/","text":"<p>This directory contains all of the files that are dynamically included from an ajax call to ajax/form.</p>"},{"location":"Developing/Code-Structure/#includeshtmlapi_functionsincphp","title":"includes/html/api_functions.inc.php","text":"<p>All of the functions and calls for the API are located here.</p>"},{"location":"Developing/Code-Structure/#includeshtmlfunctionsincphp","title":"includes/html/functions.inc.php","text":"<p>This contains the majority of functions used throughout the standard web ui.</p>"},{"location":"Developing/Code-Structure/#includeshtmlgraphs","title":"includes/html/graphs/","text":"<p>This directory contains global and OS specific graph definitions.</p>"},{"location":"Developing/Code-Structure/#includeshtmlreports","title":"includes/html/reports/","text":"<p>In here is a list of of files that generate PDF reports available to the user. These are dynamically called in from <code>html/pdf.php</code> based on the report the user requests.</p>"},{"location":"Developing/Code-Structure/#includeshtmltable","title":"includes/html/table/","text":"<p>This directory contains all of the ajax calls when generating the table of data. Most have been converted over so if you are planning to add a new table of data then you will do so here for all of the back end data calls.</p>"},{"location":"Developing/Code-Structure/#includeshtmlpages","title":"includes/html/pages/","text":"<p>This directory contains the URL structure when browsing the Web UI. So for example <code>/devices/</code> is actually a call to <code>includes/html/pages/devices.inc.php</code>, <code>/device/tab=ports/</code> is <code>includes/html/pages/device/ports.inc.php</code>.</p>"},{"location":"Developing/Code-Structure/#logs","title":"logs/","text":"<p>Contains the main librenms.log file by default, but can also contain your web server's logs, poller logs, and other items.</p>"},{"location":"Developing/Code-Structure/#mibs","title":"mibs/","text":"<p>Here is where all of the mibs are located.  Generally standard mibs should be in the root directory and specific vendor mibs should be in their own subdirectory.</p>"},{"location":"Developing/Code-Structure/#rrd","title":"rrd/","text":"<p>Simple enough, this is where all of the rrd files are created. They are stored in directory based on the device hostname.</p>"},{"location":"Developing/Code-Structure/#databasemigrations","title":"database/migrations","text":"<p>Contains all the database migrations.  See Laravel docs for additional info: https://laravel.com/docs/migrations</p> <p>In general to create a new table you should run:</p> <pre><code>php artisan make:model ModelName -m -c -r\n</code></pre>"},{"location":"Developing/Creating-Documentation/","title":"Creating Documentation","text":"<p>One of the goals of the LibreNMS project is to enable users to get all of the help they need from our documentation.</p> <p>The documentation uses the markdown markup language and is generated with mkdocs. To edit or create markdown you only need a text editor, but it is recommended to build your docs before submitting, in order to check them visually. The section on this page has instructions for this step.</p>"},{"location":"Developing/Creating-Documentation/#writing-docs","title":"Writing docs","text":"<p>When you are adding a new feature or extension, we need to have full documentation to go along with it. It's quite simple to do this:</p> <ul> <li>Find the relevant directory to store your new document in, General, Support   and Extensions are the most likely choices.</li> <li>Think of a descriptive name that's not too long, it should match what they may   be looking for or describes the feature.</li> <li>Add the new document into the <code>nav</code> section of <code>mkdocs.yml</code> if it needs to   appear in the table of contents</li> <li>Ensure the first line contains: <code>source: path/to/file.md</code> - don't include the   initial <code>doc/</code>.</li> <li>In the body of the document, be descriptive but keep things simple. Some tips:</li> <li>If the document could cover different distros like CentOS and Ubuntu please     try and include the information for them all. If that's not possible then at least put a placeholder in asking for contributions.</li> <li>Ensure you use the correct formatting for <code>commands</code> and <code>code blocks</code> by     wrapping one liners in backticks or blocks in ```.</li> <li>Put content into sub-headings where possible to organise the content.</li> <li>If you rename a file, please add a redirect for the old file in <code>mkdocs.yml</code> like so: <pre><code>  - redirects:\n      redirect_maps:\n        'old/page.md': 'new/page.md'\n</code></pre></li> </ul> <p>Please ensure you add the document to the relevant section within <code>pages</code> of <code>mkdocs.yml</code> so that it's in the correct menu and is built.  Forgetting this step will result in your document never seeing the light of day :)</p>"},{"location":"Developing/Creating-Documentation/#formatting-docs","title":"Formatting docs","text":"<p>Our docs are based on Markdown using mkdocs which adheres to markdown specs and nothing more, because of that we also import a couple of extra libraries:</p> <ul> <li>pymdownx.tasklist</li> <li>pymdownx.tilde</li> </ul> <p>This means you can use:</p> <ul> <li><code>~~strikethrough~~</code> to perform strikethrough</li> <li> <code>- [X] List items</code></li> <li>Url's can be made <code>[like this](https://www.librenms.org)</code> like this</li> <li>Code can be placed in `` for single line or ``` for multiline.</li> <li><code>#</code> Can be used for main headings which translates to a <code>&lt;h1&gt;</code> tag,   increasing the <code>#</code>'s will increase the hX tags.</li> <li><code>###</code> Can be used for sub-headings which will appear in the TOC to the left.</li> <li>Settings should be prefixed with <code>!!! setting \"&lt;webui setting path&gt;\"</code></li> </ul> <p>Markdown CheatSheet Link</p>"},{"location":"Developing/Creating-Documentation/#building-docs","title":"Building docs","text":"<p>This is achieved with <code>mkdocs</code>, a python package.</p> <ol> <li>Install the required packages.</li> </ol> <p><pre><code>pip install mkdocs mkdocs-exclude mkdocs-material mkdocs-macros-plugin mkdocs-minify-plugin mkdocs-redirects\n</code></pre> If you encounter permissions issues, these might be reoslved by using the user option, with whatever user you are building as, e.g. <code>-u librenms</code></p> <ol> <li> <p>A configuration file for building LibreNMS docs is already included in the distribution: <code>/opt/librenms/mkdocs.yml</code>. The various configuration directives are documented here.</p> </li> <li> <p>Build from the librenms base directory: <code>cd /opt/librenms</code>.</p> </li> <li> <p>Building is simple:</p> </li> </ol> <pre><code>mkdocs build\n</code></pre> <p>This will output all the documentation in html format to <code>/opt/librenms/out</code> (this folder will be ignored from any commits).</p>"},{"location":"Developing/Creating-Documentation/#viewing-docs","title":"Viewing docs","text":"<p>mkdocs includes it's own light-weight webserver for this purpose.</p> <p>Viewing is as simple as running the following command:</p> <pre><code>$ mkdocs serve\nINFO    -  Building documentation...\n&lt;..&gt;\nINFO    -  Documentation built in 12.54 seconds\n&lt;..&gt;\nINFO    -  Serving on http://127.0.0.1:8000\n&lt;..&gt;\nINFO    -  Start watching changes\n</code></pre> <p>Now you will find the complete set of LibreNMS documentation by opening your browser to <code>localhost:8000</code>.</p> <p>Note it is not necessary to <code>build</code> before viewing as the <code>serve</code> command will do this for you. Also the server will update the documents it is serving whenever changes to the markdown are made, such as in another terminal.</p>"},{"location":"Developing/Creating-Documentation/#viewing-docs-from-another-machine","title":"Viewing docs from another machine","text":"<p>By default the server will only listen for connections from the local machine. If you are building on a different machine you can use the following directive to listen on all interfaces:</p> <pre><code>mkdocs serve --dev-addr=0.0.0.0:8000\n</code></pre> <p>WARNING: this is not a secure webserver, do this at your own risk, with appropriate host security and do not leave the server running.</p>"},{"location":"Developing/Creating-Release/","title":"Creating a release","text":""},{"location":"Developing/Creating-Release/#github","title":"GitHub","text":"<p>You can create a new release on GitHub.</p> <p>Enter the tag version that month, i.e for September 2016 you would enter <code>201609</code>.</p> <p>Enter a title, we usually use <code>August 2016 Release</code></p> <p>Enter a placeholder for the body, we will edit this later.</p>"},{"location":"Developing/Creating-Release/#create-changelog","title":"Create changelog","text":"<p>For this, we assume you are using the master branch to create the release against.</p> <p>We now generate the changelog using the GitHub API itself so it shouldn't matter what state your local branch is in so long as it has the code to generate the changelog itself.</p> <p>Using the GitHub API means we can use the labels associated with merged pull requests to categorise the changelog. We also then record who made the pull request to thank them in the changelog itself.</p> <p>You will be asked for a GitHub personal access token. You can generate this here. No permissions should be needed so just give it a name and click <code>Generate Token</code>. You can then export the token as an  environment variable <code>GH_TOKEN</code> or place it in your <code>.env</code> file.</p> <p>The basic command to run is by using <code>artisan</code>. Here you pass <code>new tag</code> (1.41) and <code>previous tag</code> (1.40). For further  help run <code>php artisan release:tag --help</code>. This will generate a changelog up to the latest master branch, if you want  it to be done against something else then pass the latest pull request number with <code>--pr $PR_NUMBER</code>.</p> <pre><code>php artisan release:tag 1.41 1.40\n</code></pre> <ul> <li>Now commit and push the change that has been made to <code>doc/General/Changelog.md</code>.</li> <li>Once the pull request has been merged in for the Changelog, you can   create a new release on   GitHub.</li> <li>Create two threads on the community site:</li> <li>A changelog thread example</li> <li>An info thread example</li> <li>Tweet it</li> <li>Facebook it</li> <li>Google Plus it</li> <li>LinkedIn it</li> </ul>"},{"location":"Developing/Dynamic-Config/","title":"Adding new config settings","text":"<p>Adding support for users to update a new config option via the WebUI is now a lot easier for general options. This document shows you how to add a new config option and even section to the WebUI.</p> <p>Config settings are defined in <code>misc/config_definitions.json</code></p> <p>You should give a little thought to the name of your config setting. For example: a good setting for snmp community, would be <code>snmp.community</code>. The dot notation is path and when the config is hydrated, it is converted to a nested array. If the user is overriding the option in config.php it would use the format <code>$config['snmp']['community']</code></p>"},{"location":"Developing/Dynamic-Config/#translation","title":"Translation","text":"<p>The config definition system inherently supports translation. You must add the English names in the <code>resoures/lang/en/settings.php</code> file (and other languages if you can).</p> <p>To update the javascript translation files, run:</p> <pre><code>./lnms translation:generate\n</code></pre>"},{"location":"Developing/Dynamic-Config/#definition-format","title":"Definition Format","text":"<p>For snmp.community, this is the definition:</p> <pre><code>\"snmp.community\": {\n    \"group\": \"poller\",\n    \"section\": \"snmp\",\n    \"order\": 2,\n    \"type\": \"array\",\n    \"default\": [\n        \"public\"\n    ]\n}\n</code></pre>"},{"location":"Developing/Dynamic-Config/#fields","title":"Fields","text":"<p>All fields are optional. To show in the web ui, group and section are required, order is recommended.</p> <ul> <li><code>type</code>: Defines the type, there are a few predefined types and custom types can be defined and implemented in a vue.js component</li> <li><code>default</code>: the default value for this setting</li> <li><code>options</code>: the options for the select type. An object with {\"value1\": \"display string\", \"value2\": \"display string\"}</li> <li><code>validate</code>: Defines more complex validation than the default simple type check.  Uses Laravel validation syntax.</li> <li><code>group</code>: The web ui tab this is under</li> <li><code>section</code>: A panel grouping settings in the web ui</li> <li><code>order</code>: The order to display this setting within the section</li> </ul>"},{"location":"Developing/Dynamic-Config/#predefined-types","title":"Predefined Types","text":"<ul> <li><code>string</code>: A string</li> <li><code>integer</code>: A number</li> <li><code>boolean</code>: A simple toggle switch</li> <li><code>array</code>: A list of values that can be added, removed, and re-ordered.</li> <li><code>select</code>: A dropdown box with predefined options. Requires the option field.</li> <li><code>email</code>: Will validate the input is the correct format for an email</li> <li><code>password</code>: Will mask the value of the input (but does not keep it fully private)</li> </ul>"},{"location":"Developing/Dynamic-Config/#custom-types","title":"Custom Types","text":"<p>You may set the type field to a custom type and define a Vue.js component to display it to the user.</p> <p>The Vue.js component should be named as \"SettingType\" where type is the custom type entered with the first letter capitalized. Vue.js components exist in the <code>resources/js/components</code> directory.</p> <p>Here is an empty component named SettingType (make sure to rename it).  It pulls in BaseSetting mixin for basic setting code to reuse.  You should review the BaseSetting component.</p> <pre><code>&lt;template&gt;\n    &lt;div&gt;&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    import BaseSetting from \"./BaseSetting\";\n\n    export default {\n        name: \"SettingType\",\n        mixins: [BaseSetting]\n    }\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n\n&lt;/style&gt;\n</code></pre> <p>Using Vue.js is beyond the scope of this document. Documentation can be found at vuejs.org.</p>"},{"location":"Developing/Getting-Started/","title":"Get ready to contribute to LibreNMS","text":"<p>This document is intended to help you get your local environment set up to contribute code to the LibreNMS project.</p>"},{"location":"Developing/Getting-Started/#setting-up-a-development-environment","title":"Setting up a development environment","text":"<p>When starting to develop, it may be tempting to just make changes on your production server, but that will make things harder for you. Taking a little time to set up somewhere to work on code changes can really help.</p> <p>Possible options:</p> <ul> <li>A Linux computer, VM, or container</li> <li>Another directory on your LibreNMS server</li> <li>Windows Subsystem for Linux</li> </ul>"},{"location":"Developing/Getting-Started/#set-up-your-development-git-clone","title":"Set up your development git clone","text":"<ol> <li> <p>Follow the documentation on using git</p> </li> <li> <p>Install development dependencies <code>./scripts/composer_wrapper.php install</code></p> </li> <li> <p>Set variables in <code>.env</code>, including database settings.  Which could be    a local or remote MySQL server including your production DB.</p> </li> </ol> <pre><code>APP_ENV=local\nAPP_DEBUG=true\n...\n</code></pre> <ol> <li> <p>Start a development webserver <code>./lnms serve</code></p> </li> <li> <p>Access the Web UI at http://localhost:8000</p> </li> </ol>"},{"location":"Developing/Getting-Started/#automated-testing","title":"Automated testing","text":"<p>LibreNMS uses continuous integration to test code changes to help reduce bugs.  This also helps guarantee the changes you contribute won't be broken in the future. You can find out more in our Validating Code Documentation</p> <p>The default database connection for automated testing is <code>testing</code>.</p> <p>To override the database parameters for unit tests, configure your <code>.env</code> file accordingly. The defaults (from <code>config/database.php</code>) are:</p> <pre><code>DB_TEST_DRIVER=\"mysql\"   # PDO driver\nDB_TEST_HOST=\"localhost\" # hostname or IP address\nDB_TEST_PORT=\"\"          # port\nDB_TEST_DATABASE=\"librenms_phpunit_78hunjuybybh\" # database\nDB_TEST_USERNAME=\"root\"  # username\nDB_TEST_PASSWORD=\"\"      # password\nDB_TEST_SOCKET=\"\"        # unix socket path\n</code></pre>"},{"location":"Developing/Getting-Started/#polling-debug-output","title":"Polling debug output","text":"<p>You can see detailed info by running your polling code in debug mode by adding a <code>-d</code> flag.</p> <pre><code>./discovery.php -d -h HOSTNAME\nlnms device:poll HOSTNAME -vv\n</code></pre>"},{"location":"Developing/Getting-Started/#inspecting-variables","title":"Inspecting variables","text":"<p>Sometimes you want to find out what a variable contains (such as the data return from an snmpwalk). You can dump one or more variables and halt execution with the dd() function.</p> <pre><code>dd($variable1, $variable2);\n</code></pre>"},{"location":"Developing/Getting-Started/#inspecting-web-pages","title":"Inspecting web pages","text":"<p>Installing the development dependencies and setting APP_DEBUG enables the Laravel Debugbar This will allow you to inspect page generation and errors right in your web browser.</p>"},{"location":"Developing/Getting-Started/#better-code-completion-in-ides-and-editors","title":"Better code completion in IDEs and editors","text":"<p>You can generate some files to improve code completion. (These file are not updated automatically, so you may need to re-run these command periodically)</p> <pre><code>./lnms ide-helper:generate\n./lnms ide-helper:models -N\n</code></pre>"},{"location":"Developing/Getting-Started/#emulating-devices","title":"Emulating devices","text":"<p>You can capture and emulate devices using Snmpsim.  LibreNMS has a set of scripts to make it easier to work with snmprec files. LibreNMS Snmpsim helpers</p>"},{"location":"Developing/Getting-Started/#laravel-documentation","title":"Laravel documentation","text":"<p>You can find a lot of how LibreNMS works by following the Laravel Documentation</p>"},{"location":"Developing/Merging-Pull-Requests/","title":"Merging Pull Requests","text":""},{"location":"Developing/Merging-Pull-Requests/#github","title":"GitHub","text":"<p>We will now build the monthly change log from our GitHub commits. When merging a commit, please  ensure you:</p> <ul> <li>Click the <code>Merge pull request</code> button</li> <li>Give the merge a descriptive but short title</li> <li>For the commit message prepend it with one of the following tags for   the pull request to appear in the changelog:</li> <li>devices: or newdevice: For new device support.</li> <li>feature: or feat: To indicate this is a new or updated feature</li> <li>webui: or web: To indicate this is an update to the WebUI</li> <li>fix: or bugfix: To show this is a bug fix.</li> <li>refactoring: or refactor: When the changes are refactoring a large     portion of code</li> <li>You can reference an issue number with <code>#xyz</code>, i.e <code>#1234</code></li> <li>Use the <code>Confirm squash and merge</code> button to merge.</li> </ul>"},{"location":"Developing/Merging-Pull-Requests/#example-commits","title":"Example commits","text":""},{"location":"Developing/Merging-Pull-Requests/#feature","title":"Feature","text":"<p>feature: Added new availability map #4401</p>"},{"location":"Developing/Merging-Pull-Requests/#new-device","title":"New device","text":"<p>newdevice: Added support for Cisco ASA #4402</p>"},{"location":"Developing/SNMP-Traps/","title":"Creating snmp trap handlers","text":"<p>You must have a working snmptrapd. See SNMP TRAP HANDLER</p> <p>Make sure the MIB is loaded from the trap you are adding. Edit <code>/etc/systemd/system/snmptrapd.service.d/mibs.conf</code> to add it then restart snmptrapd.</p> <p><code>MIBDIRS</code> option is not recursive, so you need to specify each directory individually.</p> <p>Create a new class in <code>LibreNMS\\Snmptrap\\Handlers</code> that implements the <code>LibreNMS\\Interfaces\\SnmptrapHandler</code> interface. For example:</p> <pre><code>&lt;?php\n/**\n * ColdBoot.php\n *\n * Handles the SNMPv2-MIB::coldStart trap\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.\n *\n * @package    LibreNMS\n * @link       https://www.librenms.org\n */\n\nnamespace LibreNMS\\Snmptrap\\Handlers;\n\nuse App\\Models\\Device;\nuse LibreNMS\\Enum\\Severity;\nuse LibreNMS\\Interfaces\\SnmptrapHandler;\nuse LibreNMS\\Snmptrap\\Trap;\n\nclass ColdBoot implements SnmptrapHandler\n{\n    /**\n     * Handle snmptrap.\n     * Data is pre-parsed and delivered as a Trap.\n     *\n     * @param Device $device\n     * @param Trap $trap\n     * @return void\n     */\n    public function handle(Device $device, Trap $trap)\n    {\n        $trap-&gt;log('SNMP Trap: Device ' . $device-&gt;displayName() . ' cold booted', $device-&gt;device_id, 'reboot', Severity::Warning);\n    }\n}\n</code></pre> <p>where number on the end means color of the eventlog:</p> <pre><code>Severity::Ok = green\nSeverity::Info = cyan\nSeverity::Notice = blue\nSeverity::Warning = yellow\nSeverity::Error = red\n</code></pre> <p>Register the mapping in the <code>config/snmptraps.php</code> file. Make sure to use the full trap OID and correct class.</p> <pre><code>'SNMPv2-MIB::coldStart' =&gt; \\LibreNMS\\Snmptrap\\Handlers\\ColdBoot::class,\n</code></pre> <p>The handle function inside your new class will receive a LibreNMS/Snmptrap/Trap object containing the parsed trap.  It is common to update the database and create event log entries within the handle function.</p>"},{"location":"Developing/SNMP-Traps/#getting-information-from-the-trap","title":"Getting information from the Trap","text":""},{"location":"Developing/SNMP-Traps/#source-information","title":"Source information","text":"<pre><code>$trap-&gt;getDevice();   // gets Device model for the device associated with this trap\n$trap-&gt;ip;            // gets source IP of this trap\n$trap-&gt;getTrapOid();  // returns the string you registered your class with\n</code></pre>"},{"location":"Developing/SNMP-Traps/#retrieving-data-from-the-trap","title":"Retrieving data from the Trap","text":"<pre><code>$trap-&gt;getOidData('IF-MIB::ifDescr.114');\n</code></pre> <p>getOidData() requires the full name including any additional index. You can use these functions to search the OID keys.</p> <pre><code>$trap-&gt;findOid('ifDescr');  // returns the first oid key that contains the string\n$trap-&gt;findOids('ifDescr'); // returns all oid keys containing the string\n</code></pre>"},{"location":"Developing/SNMP-Traps/#advanced","title":"Advanced","text":"<p>If the above isn't adequate, you can get the entire trap text:</p> <pre><code>$trap-&gt;raw;\n</code></pre>"},{"location":"Developing/SNMP-Traps/#tests","title":"Tests","text":"<p>Submitting new traps requires them to be fully tested. You can find many examples in the <code>tests/Feature/SnmpTraps/</code> directory.</p> <p>Here is a basic example of a test that trap handler only creates a log message. If your trap modifies the database, you should also test that it does so.</p> <pre><code>&lt;?php\n\nnamespace LibreNMS\\Tests\\Feature\\SnmpTraps;\n\nclass ColdStratTest extends SnmpTrapTestCase\n{\n    public function testColdStart(): void\n    {\n        $this-&gt;assertTrapLogsMessage(rawTrap: &lt;&lt;&lt;'TRAP'\n{{ hostname }}\nUDP: [{{ ip }}]:44298-&gt;[192.168.5.5]:162\nDISMAN-EVENT-MIB::sysUpTimeInstance 0:0:1:12.7\nSNMPv2-MIB::snmpTrapOID.0 SNMPv2-MIB::coldStart\nTRAP,\n            log: 'SNMP Trap: Device {{ hostname }} cold booted', // The log message sent\n            failureMessage: 'Failed to handle SNMPv2-MIB::coldStart', // an informative message to let user know what failed\n            args: [4, 'reboot'], // the additional arguments to the log method\n        );\n    }\n}\n</code></pre>"},{"location":"Developing/Sensor-State-Support/","title":"Sensor State Support","text":""},{"location":"Developing/Sensor-State-Support/#introduction","title":"Introduction","text":"<p>In this section we are briefly going to walk through, what it takes to write sensor state support. We will also briefly get around the concepts of the current sensor state monitoring.</p>"},{"location":"Developing/Sensor-State-Support/#logic","title":"Logic","text":"<p>For sensor state monitoring, we have 4 DB tables we need to concentrate about.</p> <ul> <li>sensors</li> <li>state_indexes</li> <li>state_translations</li> <li>sensors_to_state_indexes</li> </ul> <p>We will just briefly tie a comment to each one of them.</p>"},{"location":"Developing/Sensor-State-Support/#sensors","title":"Sensors","text":"<p>Each time a sensor needs to be polled, the system needs to know which sensor is it that it need to poll, at what oid is this sensor located and what class the sensor is etc. This information is fetched from the sensors table.</p>"},{"location":"Developing/Sensor-State-Support/#state_indexes","title":"state_indexes","text":"<p>Is where we keep track of which state sensors we monitor.</p>"},{"location":"Developing/Sensor-State-Support/#state_translations","title":"state_translations","text":"<p>Is where we map the possible returned state sensor values to a generic LibreNMS value, in order to make displaying and alerting more generic. We also map these values to the actual state sensor(state_index) where these values are actually returned from.</p> <p>The LibreNMS generic states are derived from Nagios:</p> <pre><code>0 = OK\n1 = Warning\n2 = Critical\n3 = Unknown\n</code></pre>"},{"location":"Developing/Sensor-State-Support/#sensors_to_state_indexes","title":"sensors_to_state_indexes","text":"<p>Is as you might have guessed, where the sensor_id is mapped to a state_index_id.</p>"},{"location":"Developing/Sensor-State-Support/#example","title":"Example","text":"<p>For YAML based state discovery:</p> <pre><code>mib: NETBOTZV2-MIB\nmodules:\n    sensors:\n        state:\n            data:\n                -\n                    oid: dryContactSensorTable\n                    value: dryContactSensorValue\n                    num_oid: '.1.3.6.1.4.1.5528.100.4.2.1.1.2.{{ $index }}'\n                    descr: dryContactSensorLabel\n                    group: Contact Sensors\n                    index: 'dryContactSensor.{{ $index }}'\n                    state_name: dryContactSensor\n                    states:\n                        - { value: -1, generic: 3, graph: 0, descr: 'null' }\n                        - { value:  0, generic: 0, graph: 0, descr: open }\n                        - { value:  1, generic: 2, graph: 0, descr: closed }\n                -\n                    oid: doorSwitchSensorTable\n                    value: doorSwitchSensorValue\n                    num_oid: '.1.3.6.1.4.1.5528.100.4.2.2.1.2.{{ $index }}'\n                    descr: doorSwitchSensorLabel\n                    group: Switch Sensors\n                    index: 'doorSwitchSensor.{{ $index }}'\n                    state_name: doorSwitchSensor\n                    states:\n                        - { value: -1, generic: 3, graph: 0, descr: 'null' }\n                        - { value:  0, generic: 0, graph: 0, descr: open }\n                        - { value:  1, generic: 2, graph: 0, descr: closed }\n                -\n                    oid: cameraMotionSensorTable\n                    value: cameraMotionSensorValue\n                    num_oid: '.1.3.6.1.4.1.5528.100.4.2.3.1.2.{{ $index }}'\n                    descr: cameraMotionSensorLabel\n                    group: Camera Motion Sensors\n                    index: 'cameraMotionSensor.{{ $index }}'\n                    state_name: cameraMotionSensor\n                    states:\n                        - { value: -1, generic: 3, graph: 0, descr: 'null' }\n                        - { value:  0, generic: 0, graph: 0, descr: noMotion }\n                        - { value:  1, generic: 2, graph: 0, descr: motionDetected }\n                -\n                    oid: otherStateSensorTable\n                    value: otherStateSensorErrorStatus\n                    num_oid: '.1.3.6.1.4.1.5528.100.4.2.10.1.3.{{ $index }}'\n                    descr: otherStateSensorLabel\n                    index: '{{ $index }}'\n                    state_name: otherStateSensorErrorStatus\n                    states:\n                        - { value: 0, generic: 0, graph: 0, descr: normal }\n                        - { value: 1, generic: 1, graph: 0, descr: info }\n                        - { value: 2, generic: 1, graph: 0, descr: warning }\n                        - { value: 3, generic: 2, graph: 0, descr: error }\n                        - { value: 4, generic: 2, graph: 0, descr: critical }\n                        - { value: 5, generic: 2, graph: 0, descr: failure }\n</code></pre>"},{"location":"Developing/Sensor-State-Support/#advanced-example","title":"Advanced Example","text":"<p>For advanced state discovery:</p> <p>This example will be based on a Cisco power supply sensor and is all it takes to have sensor state support for Cisco power supplies in Cisco switches. The file should be located in /includes/discovery/sensors/state/cisco.inc.php.</p> <pre><code>&lt;?php\n\n$oids = snmpwalk_group($device, 'ciscoEnvMonSupplyStatusTable', 'CISCO-ENVMON-MIB');\n\nif (!empty($oids)) {\n    //Create State Index\n    $state_name = 'ciscoEnvMonSupplyState';\n    $states = [\n        ['value' =&gt; 1, 'generic' =&gt; 0, 'graph' =&gt; 0, 'descr' =&gt; 'normal'],\n        ['value' =&gt; 2, 'generic' =&gt; 1, 'graph' =&gt; 0, 'descr' =&gt; 'warning'],\n        ['value' =&gt; 3, 'generic' =&gt; 2, 'graph' =&gt; 0, 'descr' =&gt; 'critical'],\n        ['value' =&gt; 4, 'generic' =&gt; 3, 'graph' =&gt; 0, 'descr' =&gt; 'shutdown'],\n        ['value' =&gt; 5, 'generic' =&gt; 3, 'graph' =&gt; 0, 'descr' =&gt; 'notPresent'],\n        ['value' =&gt; 6, 'generic' =&gt; 2, 'graph' =&gt; 0, 'descr' =&gt; 'notFunctioning'],\n    ];\n    create_state_index($state_name, $states);\n\n    $num_oid = '.1.3.6.1.4.1.9.9.13.1.5.1.3.';\n    foreach ($oids as $index =&gt; $entry) {\n        //Discover Sensors\n        discover_sensor($valid['sensor'], 'state', $device, $num_oid.$index, $index, $state_name, $entry['ciscoEnvMonSupplyStatusDescr'], '1', '1', null, null, null, null, $entry['ciscoEnvMonSupplyState'], 'snmp', $index);\n\n        //Create Sensor To State Index\n        create_sensor_to_state_index($device, $state_name, $index);\n    }\n}\n</code></pre>"},{"location":"Developing/Support-New-OS/","title":"Intro","text":"<p>This document is broken down into the relevant sections depending on what support you are adding. During all of these examples we will be using the OS of <code>pulse</code> as the example OS we will add.</p> <ul> <li>Adding the initial detection.</li> <li>Adding Memory and CPU information.</li> <li>Adding Health / Sensor information.</li> <li>Adding Wireless Sensor information.</li> <li>Adding custom graphs.</li> <li>Adding Unit tests (required).</li> <li>Optional Settings</li> </ul> <p>We currently have a script in pre-beta stages that can help speed up the process of deploying a new OS. It has support for add sensors in a basic form (except state sensors).</p> <p>In this example, we will add a new OS called test-os using the device ID 101 that has already been added. It will be of the type network and belongs to the vendor, Cisco:</p> <p><code>./scripts/new-os.php -h 101 -o test-os -t network -v cisco</code></p> <p>The process will then step you through the process with some more questions. Please be warned, this is  currently pre-beta and may cause some issues. Please let us know of any on Discord.</p>"},{"location":"Developing/Using-Git/","title":"Using Git","text":"<p>Git can have a bit of a steep learning curve, stick with it as it is worth learning the basics2 at least.</p> <p>If you want to help develop LibreNMS and haven't really used Git before then this quick primer will help you get started.</p> <p>Some assumptions:</p> <ul> <li>Work is being done on a Linux box.</li> <li>LibreNMS is to be installed in /opt/librenms</li> <li>You have git installed.</li> <li>You have a GitHub Account.</li> <li>You are using ssh to connect to GitHub (If not, replace   git@github.com:/yourusername/librenms.git with https://github.com/yourusername/librenms.git.</li> </ul> <p>** Replace yourusername with your GitHub username. **</p>"},{"location":"Developing/Using-Git/#fork-librenms-repo","title":"Fork LibreNMS repo","text":"<p>You do this directly within GitHub, click the 'Fork' button near the top right.</p> <p>If you are associated with multiple organisations within GitHub then you might need to select which account you want to push the fork to.</p>"},{"location":"Developing/Using-Git/#prepare-your-git-environment","title":"Prepare your git environment","text":"<p>These are the defaults that are recommended.</p> <pre><code>git config branch.autosetupmerge true\ngit config --global user.name \"John Doe\"\ngit config --global user.email johndoe@example.com\n</code></pre>"},{"location":"Developing/Using-Git/#clone-the-repo","title":"Clone the repo","text":"<p>Ok so now that you have forked the repo, you now need to clone it to your local install where you can then make the changes you need and submit them back.</p> <pre><code>cd /opt/\ngit clone git@github.com:/yourusername/librenms.git\n</code></pre>"},{"location":"Developing/Using-Git/#add-upstream-repo","title":"Add Upstream repo","text":"<p>To be able to pull in changes from the master LibreNMS repo you need to have it setup on your system.</p> <pre><code>git remote add upstream https://github.com/librenms/librenms.git\n</code></pre> <p>Now you have two configured remotes:</p> <ul> <li>origin: This is your repository, you can push and pull changes here.</li> <li>upstream: This is the main LibreNMS repository and you can only pull changes.</li> </ul>"},{"location":"Developing/Using-Git/#workflow-guide","title":"Workflow guide","text":"<p>As you become more familiar you may find a better workflow that fits your needs, until then this should be a safe workflow for you to follow.</p> <p>Before you start work on a new branch / feature. Make sure you are up to date.</p> <pre><code>cd /opt/librenms\ngit checkout master\ngit pull upstream master\ngit push origin master\n</code></pre> <p>At this stage it's worth pointing out that we have some standard checks that are performed when you submit a pull request, you can run these checks yourself to be sure no issues are present in your  pull request.</p> <p>Now, create a new branch to do you work on. It's important that you do this as you are then able to work on more than one feature at a time and submit them as pull requests individually. If you did all your work in the master branch then it gets a bit messy!</p> <p>You need to give your branch a name. If an issue is open (or closed on GitHub) then you can use that, in this example if the issue number is 123 then we will use issue-123. If a post exists on the community forum then you can use the post id like community-123. You're also welcome to use any arbitrary name for your branch but try and make it relevant to what the branch is.</p> <pre><code>git checkout -b issue-123\n</code></pre> <p>Now, code away. Make the changes you need, test, change and test again :) When you are ready to submit the updates as a pull request then commit away.</p> <pre><code>git add path/to/new/files/or/folders\ngit commit -a -m 'Added feature to do X, Y and Z'\ngit push origin issue-123\n</code></pre> <p>If you need to rebase against master then you can do this with:</p> <pre><code>git pull upstream master\ngit push origin issue-123\n</code></pre> <p>If after do this you get some merge conflicts then you need to resolve these before carrying on.</p> <p>Please try to squash all commits into one, this isn't essential as we can do this when we merge but it would be helpful to do this before you submit your pull request.</p> <p>Now you will be ready to submit a pull request from within GitHub. To do this, go to your GitHub page for the LibreNMS repo. Now select the branch you have just been working on (issue-123) from the drop down to the left and then click 'Pull Request'. Fill in the details to describe the work you have done and click 'Create pull request'.</p> <p>Thanks for your first pull request :)</p> <p>Ok, that should get you started on the contributing path. If you have any other questions then stop by our Discord Server</p>"},{"location":"Developing/Using-Git/#hints-and-tips","title":"Hints and tips","text":"<p>Undo last commit</p> <p><code>git reset --soft 'HEAD^'</code></p> <p>Remove specific commit</p> <p><code>git revert &lt;HASH&gt;</code></p> <p>Restore deleted file</p> <p><code>git checkout $(git rev-list -n 1 HEAD -- \"$file\")^ -- \"$file\"</code></p> <p>Merge last two commits</p> <p><code>git rebase --interactive HEAD~2</code></p> <p>In the text file that opens, change the last commit to squash from pick then save an exit.</p> <p>For more tips take a look at Oh shit, git!</p>"},{"location":"Developing/Validating-Code/","title":"Validating Code","text":""},{"location":"Developing/Validating-Code/#validating-code","title":"Validating Code","text":"<p>As part of the pull request process with GitHub we run some automated build tests to ensure that  the code is error free, standards compliant and our test suite builds successfully.</p> <p>Rather than submit a pull request and wait for the results, you can run these checks yourself to ensure  a more seamless merge.</p> <p>All of these commands should be run from within the librenms directory and can be run as the librenms user  unless otherwise noted.</p> <p>Install composer (you can skip this if composer is already installed).</p> <p><code>curl -sS https://getcomposer.org/installer | php</code></p> <p>Composer will now be installed into /opt/librenms/composer.phar.</p> <p>Now install the dependencies we require:</p> <p><code>./composer.phar install</code></p> <p>Once composer is installed you can now run the code validation script:</p> <p><code>./lnms dev:check</code></p> <p>If you see <code>Tests ok, submit away :)</code> then all is well. If you see other output then it should contain  what you need to resolve the issues and re-test.</p>"},{"location":"Developing/Validating-Code/#git-hooks","title":"Git Hooks","text":"<p>Git has a hook system which you can use to trigger checks at various stages. Utilising the <code>./lnms dev:check</code>  you can make this part of your commit process.</p> <p>Add <code>./lnms dev:check</code> to your <code>.git/hooks/pre-commit</code>:</p> <pre><code>echo \"/opt/librenms/lnms dev:check\" &gt;&gt; /opt/librenms/.git/hooks/pre-commit\nchmod +x /opt/librenms/.git/hooks/pre-commit\n</code></pre>"},{"location":"Developing/os/Custom-Graphs/","title":"Custom Graphs","text":"<p>First we define our graphs in <code>includes/definitions.inc.php</code> to share our work and contribute in the development of LibreNMS. :-) (or place in <code>config.php</code> if you don't plan to contribute)</p> <pre><code>// Pulse Secure Graphs\n$config['graph_types']['device']['pulse_sessions'] = ['section' =&gt; 'firewall', 'order' =&gt; 0, 'descr' =&gt; 'Active Sessions'];\n$config['graph_types']['device']['pulse_users'] = ['section' =&gt; 'firewall', 'order' =&gt; 0, 'descr' =&gt; 'Active Users'];\n</code></pre>"},{"location":"Developing/os/Custom-Graphs/#polling-os","title":"Polling OS","text":"<p>OS polling is not necessarily where custom polling should be done, please speak to one of the core devs in Discord for guidance.</p> <p>Let's update our example file to add additional polling:</p> <pre><code>includes/polling/os/pulse.inc.php\n</code></pre> <p>We declare two specific graphs for users and sessions numbers. Theses two graphs will be displayed on the firewall section of the graphs tab as it was written in the definition include file.</p> <pre><code>&lt;?php\n\nuse LibreNMS\\RRD\\RrdDefinition;\n\n$users = snmp_get($device, 'iveConcurrentUsers.0', '-OQv', 'PULSESECURE-PSG-MIB');\n\nif (is_numeric($users)) {\n    $rrd_def = RrdDefinition::make()-&gt;addDataset('users', 'GAUGE', 0);\n\n    $fields = array(\n        'users' =&gt; $users,\n    );\n\n    $tags = compact('rrd_def');\n    data_update($device, 'pulse_users', $tags, $fields);\n    $os-&gt;enableGraph('pulse_users');\n}\n\n$sessions = snmp_get($device, 'iveConcurrentUsers.0', '-OQv', 'PULSESECURE-PSG-MIB');\n\nif (is_numeric($sessions)) {\n    $rrd_def = RrdDefinition::make()-&gt;addDataset('sessions', 'GAUGE', 0);\n\n    $fields = array(\n        'sessions' =&gt; $sessions,\n    );\n\n    $tags = compact('rrd_def');\n    data_update($device, 'pulse_sessions', $tags, $fields);\n    $os-&gt;enableGraph('pulse_sessions');\n}\n</code></pre>"},{"location":"Developing/os/Custom-Graphs/#displaying","title":"Displaying","text":"<p>The specific graphs are not displayed automatically so we need to write the following PHP code:</p> <p>Pulse Sessions</p> <pre><code>includes/html/graphs/device/pulse_sessions.inc.php\n</code></pre> <pre><code>&lt;?php\n\n$rrd_filename = Rrd::name($device['hostname'], 'pulse_sessions');\n\nrequire 'includes/html/graphs/common.inc.php';\n\n$ds = 'sessions';\n\n$colour_area = '9999cc';\n$colour_line = '0000cc';\n\n$colour_area_max = '9999cc';\n\n$graph_max = 1;\n\n$unit_text = 'Sessions';\n\nrequire 'includes/graphs/generic_simplex.inc.php';\n</code></pre> <p>Pulse Users</p> <pre><code>includes/html/graphs/device/pulse_users.inc.php\n</code></pre> <pre><code>&lt;?php\n\n$rrd_filename = Rrd::name($device['hostname'], 'pulse_users');\n\nrequire 'includes/html/graphs/common.inc.php';\n\n$ds = 'users';\n\n$colour_area = '9999cc';\n$colour_line = '0000cc';\n\n$colour_area_max = '9999cc';\n\n$graph_max = 1;\n\n$unit_text = 'Users';\n\nrequire 'includes/html/graphs/generic_simplex.inc.php';\n</code></pre> <p>That should be it, after data has started to be collected graphs should appear in the WebUI.</p>"},{"location":"Developing/os/Health-Information/","title":"Health Information","text":""},{"location":"Developing/os/Health-Information/#sensors","title":"Sensors","text":"<p>This document will guide you through adding health / sensor information for your new device.</p> <p>Currently, we have support for the following health metrics along with the values we expect to see the data in:</p> Class Measurement airflow cfm ber ratio charge % chromatic_dispersion ps/nm cooling W count # current A dbm dBm delay s eer eer fanspeed rpm frequency Hz humidity % load % loss % power W power_consumed kWh power_factor ratio pressure kPa quality_factor dB runtime Min signal dBm snr SNR state # temperature C tv_signal dBmV bitrate bps voltage V waterflow l/m percent %"},{"location":"Developing/os/Health-Information/#simple-health-discovery","title":"Simple health discovery","text":"<p>We have support for defining health / sensor discovery using YAML files so that you don't need to know how to write PHP.</p> <p>Please note that DISPLAY-HINTS are disabled so ensure you use the correct divisor / multiplier if applicable.</p> <p>All yaml files are located in <code>includes/definitions/discovery/$os.yaml</code>. Defining the information here is not always possible and is heavily reliant on vendors being sensible with the MIBs they generate. Only snmp walks are supported, and you must provide a sane table that can be traversed and contains all the data you need. We will use netbotz as an example here.</p> <p><code>includes/definitions/discovery/netbotz.yaml</code></p> <pre><code>mib: NETBOTZV2-MIB\nmodules:\n    sensors:\n        airflow:\n            options:\n                skip_value_lt: 0\n            data:\n                -\n                    oid: airFlowSensorTable\n                    value: airFlowSensorValue\n                    divisor: 10\n                    num_oid: '.1.3.6.1.4.1.5528.100.4.1.5.1.2.{{ $index }}'\n                    descr: '{{ $airFlowSensorLabel }}'\n                    index: 'airFlowSensorValue.{{ $index }}'\n</code></pre> <p>At the top you can define one or more mibs to be used in the lookup of data:</p> <p><code>mib: NETBOTZV2-MIB</code> For use of multiple MIB files separate them with a colon: <code>mib: NETBOTZV2-MIB:SECOND-MIB</code></p> <p>For <code>data:</code> you have the following options:</p> <p>The only sensor we have defined here is airflow. The available options are as follows:</p> <ul> <li><code>oid</code> (required): This is the name of the table you want to snmp walk for data.</li> <li><code>value</code> (optional): This is the key within the table that contains   the value. If not provided will use <code>oid</code></li> <li><code>num_oid</code> (required for PullRequests): If not provided, this parameter should be computed   automatically by discovery process. This parameter is still required to   submit a pull request. This is the numerical OID that contains   <code>value</code>. This should usually include <code>{{ $index }}</code>.   In case the index is a string, <code>{{ $str_index_as_numeric }}</code> can be used instead and will convert the string to the equivalent OID representation.</li> <li><code>divisor</code> (optional): This is the divisor to use against the returned <code>value</code>.</li> <li><code>multiplier</code> (optional): This is the multiplier to use against the returned <code>value</code>.</li> <li><code>low_limit</code> (optional): This is the critical low threshold that   <code>value</code> should be (used in alerting). If an OID is specified then   divisor / multiplier are used.</li> <li><code>low_warn_limit</code> (optional): This is the warning low threshold that   <code>value</code> should be (used in alerting). If an OID is specified then   divisor / multiplier are used.</li> <li><code>warn_limit</code> (optional): This is the warning high threshold that   <code>value</code> should be (used in alerting). If an OID is specified then   divisor / multiplier are used.</li> <li><code>high_limit</code> (optional): This is the critical high threshold that   <code>value</code> should be (used in alerting). If an OID is specified then   divisor / multiplier are used.</li> <li><code>descr</code> (required): The visible label for this sensor. It can be a   key with in the table or a static string, optionally using <code>{{ index }}</code>.</li> <li><code>group</code> (optional): Groups sensors together under in the webui,   displaying this text. Not specifying this will put the sensors in   the default group.</li> <li><code>index</code> (optional): This is the index value we use to uniquely   identify this sensor. <code>{{ $index }}</code> will be replaced by the <code>index</code>   from the snmp walk.</li> <li><code>skip_values</code> (optional): This is an array of values we should skip   over (see note below).</li> <li><code>skip_value_lt</code> (optional): If sensor value is less than this, skip the discovery.</li> <li><code>skip_value_gt</code> (optional): If sensor value is greater than this, skip the discovery.</li> <li><code>entPhysicalIndex</code> and <code>entPhysicalIndex_measured</code> (optional) : If the   sensor belongs to a physical entity then you can link them here. The currently   supported variants are :<ul> <li><code>entPhysicalIndex</code> contains the entPhysicalIndex from entPhysical table, and <code>entPhysicalIndex_measured</code> is NULL</li> <li><code>entPhysicalIndex</code> contains \"ifIndex\" value of the linked port and <code>entPhysicalIndex_measured</code> contains \"ports\"</li> </ul> </li> <li><code>user_func</code> (optional): You can provide a function name for the   sensors value to be processed through (i.e. Convert fahrenheit to   celsius use <code>fahrenheit_to_celsius</code>)</li> <li><code>snmp_flags</code> (optional): this sets the flags to be sent to snmpwalk, it    overrides flags set on the sensor type and os.  The default is <code>'-OQUb'</code>.   A common issue is dealing with string indexes, setting <code>'-OQUsbe'</code> will change them to    numeric oids. Setting <code>['-OQUsbe', '-Pu']</code> will also allow _ in oid names. You can find more   in the Man Page</li> <li><code>rrd_type</code> (optional): You can change the type of the RRD file that will be created to   store the data. By default, type GAUGE is used. More details can be found here:   https://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html</li> </ul> <p>For <code>options:</code> you have the following available:</p> <ul> <li><code>divisor</code>: This is the divisor to use against the returned <code>value</code>.</li> <li><code>multiplier</code>: This is the multiplier to use against the returned <code>value</code>.</li> <li><code>skip_values</code>: This is an array of values we should skip over (see note below).</li> <li><code>skip_value_lt</code>: If sensor value is less than this, skip the discovery.</li> <li><code>skip_value_gt</code>: If sensor value is greater than this, skip the discovery.</li> </ul> <p>Multiple variables can be used in the sensor's definition. The syntax is <code>{{ $variable }}</code>. Any oid in the current table can be used, as well as pre_cached data. The index ($index) and the sub_indexes (in case the oid is indexed multiple times) are also available: if $index=\"1.20\", then $subindex0=\"1\" and $subindex1=\"20\".</p> <p>When referencing an oid in another table the full index will be used to match the other table. If this is undesirable, you may use a single sub index by appending the sub index after a colon to the variable name.  Example <code>{{ $ifName:2 }}</code></p> <p><code>skip_values</code> can also compare items within the OID table against values. The index of the sensor is used to retrieve the value from the OID, unless a target index is appended to the OID. Additionally, you may check fields from the device. Comparisons behave on a logical OR basis when chained, so only one of them needs to be matched for that particular sensor to be skipped during discovery. An example of this is below:</p> <pre><code>                    skip_values:\n                    -\n                      oid: sensUnit\n                      op: '!='\n                      value: 4\n                    -\n                      oid: sensConfig.0\n                      op: '!='\n                      value: 1\n                    -\n                      device: hardware\n                      op: 'contains'\n                      value: 'rev2'\n</code></pre> <p><code>op</code> can be any of the following operators :</p> <p>=, !=, ==, !==, &lt;=, &gt;=, &lt;, &gt;, starts, ends, contains, regex, in_array, not_starts, not_ends, not_contains, not_regex, not_in_array, exists</p> <p>Example:</p> <pre><code>                    skip_values:\n                    -\n                      oid: sensorName\n                      op: 'not_in_array'\n                      value: ['sensor1', 'sensor2']\n</code></pre> <pre><code>                    skip_values:\n                    -\n                      oid: sensorOptionalOID\n                      op: 'exists'\n                      value: false\n</code></pre> <pre><code>        temperature:\n            data:\n                -\n                    oid: hwOpticalModuleInfoTable\n                    value: hwEntityOpticalTemperature\n                    descr: '{{ $entPhysicalName }}'\n                    index: '{{ $index }}'\n                    skip_values:\n                        -\n                            oid: hwEntityOpticalMode\n                            op: '='\n                            value: '1'\n</code></pre> <p>If you aren't able to use yaml to perform the sensor discovery, you will most likely need to use Advanced health discovery.</p>"},{"location":"Developing/os/Health-Information/#advanced-health-discovery","title":"Advanced health discovery","text":"<p>If you can't use the yaml files as above, then you will need to create the discovery code in php. If it is possible to create via yaml, php discovery will likely be rejected due to the much higher chance of later problems, so it is highly suggested to use yaml.</p> <p>The directory structure for sensor information is <code>includes/discovery/sensors/$class/$os.inc.php</code>. The format of all the sensors follows the same code format which is to collect sensor information via SNMP and then call the <code>discover_sensor()</code> function; except state sensors which requires additional code. Sensor information is commonly found in an ENTITY mib supplied by device's vendor in the form of a table. Other mib tables may be used as well. Sensor information is first collected by <code>includes/discovery/sensors/pre_cache/$os.inc.php</code>. This program will pull in data from mib tables into a <code>$pre_cache</code> array that can then be used in <code>includes/discovery/sensors/$class/$os.inc.php</code> to extract specific values which are then passed to <code>discover_sensor()</code>.</p> <p><code>discover_sensor()</code> Accepts the following arguments:</p> <ul> <li>&amp;$valid = This is always $valid['sensor'], do not pass any other values.</li> <li>$class = Required. This is the sensor class from the table above (i.e humidity).</li> <li>$device = Required. This is the $device array.</li> <li>$oid = Required. This must be the numerical OID for where the data   can be found, i.e .1.2.3.4.5.6.7.0</li> <li>$index = Required. This must be unique for this sensor class, device   and type. Typically it's the index from the table being walked, or it   could be the name of the OID if it's a single value.</li> <li>$type = Required. This should be the OS name, i.e. pulse.</li> <li>$descr = Required. This is a descriptive value for the sensor. Some   devices will provide names to use.</li> <li>$divisor = Defaults to 1. This is used to divide the returned value.</li> <li>$multiplier = Defaults to 1. This is used to multiply the returned value.</li> <li>$low_limit = Defaults to null. Sets the low threshold limit for the   sensor, used in alerting to report out range sensors.</li> <li>$low_warn_limit = Defaults to null. Sets the low warning limit for   the sensor, used in alerting to report near out of range sensors.</li> <li>$warn_limit = Defaults to null. Sets the high warning limit for the   sensor, used in alerting to report near out of range sensors.</li> <li>$high_limit = Defaults to null. Sets the high limit for the sensor,   used in alerting to report out range sensors.</li> <li>$current = Defaults to null. Can be used to set the current value on   discovery. Poller will update this on the next poll cycle anyway.</li> <li>$poller_type = Defaults to snmp. Things like the unix-agent can set   different values but for the most part this should be left as snmp.</li> <li>$entPhysicalIndex = Defaults to null. Sets the entPhysicalIndex to   be used to look up further hardware if available.</li> <li>$entPhysicalIndex_measured = Defaults to null. Sets the type of   entPhysicalIndex used, i.e ports.</li> <li>$user_func = Defaults to null. You can provide a function name for   the sensors value to be processed through (i.e. Convert fahrenheit   to celsius use <code>fahrenheit_to_celsius</code>)</li> <li>$group = Defaults to null. Groups sensors together under in the   webui, displaying this text.</li> <li>$rrd_type = Default to 'GAUGE'. Allows to change the type of the RRD   file created for this sensor. More details can be found here in the   RRD documentation: https://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html</li> </ul> <p>For the majority of devices, this is all that's required to add support for a sensor. Polling is done based on the data gathered using <code>discover_sensor()</code>. If custom polling is needed then the file format is similar to discovery: <code>includes/polling/sensors/$class/$os.inc.php</code>. Whilst it's possible to perform additional  snmp queries within polling this should be avoided where possible. The value for the OID is already available as <code>$sensor_value</code>.</p> <p>Graphing is performed automatically for sensors, no custom graphing is required or supported.</p>"},{"location":"Developing/os/Health-Information/#adding-a-new-sensor-class","title":"Adding a new sensor class","text":"<p>You will need to add code for your new sensor class in the following existing files:</p> <ul> <li><code>app/Models/Sensor.php</code>: add a free icon from Font Awesome in the $icons array.</li> <li><code>doc/Developing/os/Health-Information.md</code>: documentation for every sensor class is mandatory.</li> <li><code>includes/discovery/sensors.inc.php</code>: add the sensor class to the $run_sensors array.</li> <li><code>includes/discovery/functions.inc.php</code>: optional - if sensible low_limit and high_limit values are guessable when a SNMP-retrievable threshold is not available, add a case for the sensor class to the sensor_limit() and/or sensor_low_limit() functions.</li> <li><code>LibreNMS/Util/ObjectCache.php</code>: optional - choose menu grouping for the sensor class.</li> <li><code>includes/html/pages/device/health.inc.php</code>: add a dbFetchCell(), $datas[], and $type_text[] entry for the sensor class.</li> <li><code>includes/html/pages/device/overview.inc.php</code>: add <code>require 'overview/sensors/$class.inc.php'</code> in the desired order for the device overview page.</li> <li><code>includes/html/pages/health.inc.php</code>: add a $type_text[] entry for the sensor class.</li> <li><code>lang/en/sensors.php</code>: add human-readable names and units for the sensor class in English, feel free to do so for other languages as well.</li> </ul> <p>Create and populate new files for the sensor class in the following places:</p> <ul> <li><code>includes/discovery/sensors/$class/</code>: create the folder where advanced php-based discovery files are stored. Not used for yaml discovery. =======</li> <li><code>includes/html/pages/device/health.inc.php</code>: add a dbFetchCell(), $datas[], and $type_text[] entry for the sensor class.</li> <li><code>includes/html/pages/device/overview.inc.php</code>: add <code>require 'overview/sensors/$class.inc.php'</code> in the desired order for the device overview page.</li> <li><code>includes/html/pages/health.inc.php</code>: add a $type_text[] entry for the sensor class.</li> <li><code>lang/en/sensors.php</code>: add human-readable names and units for the sensor class in English, feel free to do so for other languages as well.</li> </ul> <p>Create and populate new files for the sensor class in the following places:</p> <ul> <li><code>includes/discovery/sensors/$class/</code>: create the folder where advanced php-based discovery files are stored. Not used for yaml discovery.</li> <li><code>includes/html/graphs/device/$class.inc.php</code>: define unit names used in RRDtool graphs.</li> <li><code>includes/html/graphs/sensor/$class.inc.php</code>: define various parameters for RRDtool graphs.</li> <li><code>includes/html/pages/device/health/$class.inc.php</code></li> <li><code>includes/html/pages/device/overview/sensors/$class.inc.php</code></li> <li><code>includes/html/pages/health/$class.inc.php</code></li> </ul>"},{"location":"Developing/os/Health-Information/#advanced-health-sensor-example","title":"Advanced health sensor example","text":"<p>This example shows how to build sensors using the advanced method. In this example we will be collecting optical power level (dBm) from Adva FSP150CC family MetroE devices. This example will assume an understanding of SNMP and MIBs.</p> <p>First we setup <code>includes/discovery/sensors/pre_cache/adva_fsp150.inc</code> as shown below. The first line walks the cmEntityObject table to get information about the chassis and line cards. From this information we extract the model type which will identify which tables in the CM-Facility-Mib the ports are populated in. The program then reads the appropriate table into the <code>$pre_cache</code> array <code>adva_fsp150_ports</code>. This array will have OID indexies for each port, which we will use later to identify our sensor OIDs.</p> <pre><code>$pre_cache['adva_fsp150'] = snmpwalk_cache_multi_oid($device, 'cmEntityObjects', [], 'CM-ENTITY-MIB', null, '-OQUbs');\n$neType = $pre_cache['adva_fsp150'][1]['neType'];\n\nif ($neType == 'ccxg116pro') {\n    $pre_cache['adva_fsp150_ports'] = snmpwalk_cache_multi_oid($device, 'cmEthernetTrafficPortTable', $pre_cache['adva_fsp150_ports'], 'CM-FACILITY-MIB', null, '-OQUbs');\n} else {\n    $pre_cache['adva_fsp150_ports'] = snmpwalk_cache_multi_oid($device, 'cmEthernetNetPortTable', $pre_cache['adva_fsp150_ports'], 'CM-FACILITY-MIB', null, '-OQUbs');\n    $pre_cache['adva_fsp150_ports'] = snmpwalk_cache_multi_oid($device, 'cmEthernetAccPortTable', $pre_cache['adva_fsp150_ports'], 'CM-FACILITY-MIB', null, '-OQUbs');\n}\n</code></pre> <p>Next we are going to build our sensor discovery code. These are optical readings, so the file will be created as the dBm sensor type in <code>includes/discover/sensors/dbm/adva_fsp150.inc.php</code>. Below is a snippet of the code:</p> <pre><code>foreach ($pre_cache['adva_fsp150_ports'] as $index =&gt; $entry) {\n    if ($entry['cmEthernetTrafficPortMediaType'] == 'fiber') {\n        //Discover received power level\n        $oidRx = '.1.3.6.1.4.1.2544.1.12.5.1.21.1.34.' . $index . '.3';\n        $oidTx = '.1.3.6.1.4.1.2544.1.12.5.1.21.1.33.' . $index . '.3';\n        $currentRx = snmp_get($device, $oidRx, '-Oqv', 'CM-PERFORMANCE-MIB', '/opt/librenms/mibs/adva');\n        $currentTx = snmp_get($device, $oidTx, '-Oqv', 'CM-PERFORMANCE-MIB', '/opt/librenms/mibs/adva');\n        if ($currentRx != 0 || $currentTx != 0) {\n            $entPhysicalIndex = $entry['cmEthernetTrafficPortIfIndex'];\n            $entPhysicalIndex_measured = 'ports';\n            $descrRx = dbFetchCell('SELECT `ifName` FROM `ports` WHERE `ifIndex`= ? AND `device_id` = ?', [$entry['cmEthernetTrafficPortIfIndex'], $device['device_id']]) . ' Rx Power';\n\n            discover_sensor(\n                $valid['sensor'],\n                'dbm',\n                $device,\n                $oidRx,\n                'cmEthernetTrafficPortStatsOPR.' . $index,\n                'adva_fsp150',\n                $descrRx,\n                $divisor,\n                $multiplier,\n                null,\n                null,\n                null,\n                null,\n                $currentRx,\n                'snmp',\n                $entPhysicalIndex,\n                $entPhysicalIndex_measured\n            );\n\n            $descrTx = dbFetchCell('SELECT `ifName` FROM `ports` WHERE `ifIndex`= ? AND `device_id` = ?', [$entry['cmEthernetTrafficPortIfIndex'], $device['device_id']]) . ' Tx Power';\n\n            discover_sensor(\n                $valid['sensor'],\n                'dbm',\n                $device,\n                $oidTx,\n                'cmEthernetTrafficPortStatsOPT.' . $index,\n                'adva_fsp150',\n                $descrTx,\n                $divisor,\n                $multiplier,\n                null,\n                null,\n                null,\n                null,\n                $currentTx,\n                'snmp',\n                $entPhysicalIndex,\n                $entPhysicalIndex_measured\n            );\n        }\n    }\n}\n</code></pre> <p>First the program will loop through each port's index value. In the case of Advas, the ports are names Ethernet 1-1-1-1, 1-1-1-2, etc, and they are indexed as oid.1.1.1.1, oid.1.1.1.2, etc in the mib.</p> <p>Next the program checks which table the port exists in and that the connector type is 'fiber'. There are other port tables in the full code that were ommitted from the example for brevity. Copper media won't have optical readings, so if the media type isn't fiber we skip discovery for that port.</p> <p>The next two lines build the OIDs for getting the optical receive and transmit values using the <code>$index</code> for the port. Using the OIDs the program gets the current receive and transmit values ($currentRx and $currentTx repectively) to verify the values are not 0. Not all SFPs collect digital optical monitoring (DOM) data, in the case of Adva the value of both transmit and recieve will be 0 if DOM is not available. While 0 is a valid value for optical power, its extremely unlikely that both will be 0 if DOM is present. If DOM is not available, then the program stops discovery for that port. Note that while this is the case with Adva, other vendors may differ in how they handle optics that do not supply DOM. Please check your vendor's mibs.</p> <p>Next the program assigns the values of $entPhysicalIndex and $entPhysicalIndex_measured. In this case $entPhysicalIndex is set to the value of the <code>cmEthernetTrafficPortIfIndex</code> so that it is associated with port. This will also allow the sensor graphs to show up on the associated port's page in the GUI in addition to the Health page.</p> <p>Following that the program uses a database call to get the description of the port which will be used as the title for the graph in the GUI.</p> <p>Lastly the program calls <code>discover_sensor()</code> and passes the information collected in the previous steps. The <code>null</code> values are for low, low warning, high, and high warning values, which are not collected in the Adva's MIB.</p> <p>You can manually run discovery to verify the code works by running <code>./discovery.php -h $device_id -m sensors</code>. You can use <code>-v</code> to see what calls are being used during discovery and <code>-d</code> to see debug output. In the output under <code>#### Load disco module sensors ####</code> you can see a list of sensors types. If there is a <code>+</code> a sensor is added, if there is a <code>-</code> one was deleted, and a <code>.</code> means no change. If there is nothing next to the sensor type then the sensor was not discovered. There is is also information about changes to the database and RRD files at the bottom.</p> <pre><code>[librenms@nms-test ~]$ ./discovery.php -h 2 -m sensors\nLibreNMS Discovery\n164.113.194.250 2 adva_fsp150\n\n#### Load disco module core ####\n\n&gt;&gt; Runtime for discovery module 'core': 0.0240 seconds with 66536 bytes\n&gt;&gt; SNMP: [2/0.06s] MySQL: [3/0.00s] RRD: [0/0.00s]\n#### Unload disco module core ####\n\n\n#### Load disco module sensors ####\nPre-cache adva_fsp150:\n ENTITY-SENSOR: Caching OIDs: entPhysicalDescr entPhysicalName entPhySensorType entPhySensorScale entPhySensorPrecision entPhySensorValue entPhySensorOperStatus\nAirflow:\nCurrent: .\nCharge:\nDbm: Adva FSP-150 dBm..\nFanspeed:\nFrequency:\nHumidity:\nLoad:\nPower:\nPower_consumed:\nPower_factor:\nRuntime:\nSignal:\nState:\nCount:\nTemperature: ..\nTv_signal:\nBitrate:\nVoltage: .\nSnr:\nPressure:\nCooling:\nDelay:\nQuality_factor:\nChromatic_dispersion:\nBer:\nEer:\nWaterflow:\nPercent:\n\n&gt;&gt; Runtime for discovery module 'sensors': 3.9340 seconds with 190024 bytes\n&gt;&gt; SNMP: [16/3.89s] MySQL: [36/0.03s] RRD: [0/0.00s]\n#### Unload disco module sensors ####\n\nDiscovered in 5.521 seconds\n\nSNMP [18/3.96s]: Get[8/0.81s] Getnext[0/0.00s] Walk[10/3.15s]\nMySQL [41/0.03s]: Cell[10/0.01s] Row[-4/-0.00s] Rows[31/0.02s] Column[0/0.00s] Update[2/0.00s] Insert[2/0.00s] Delete[0/0.00s]\nRRD [0/0.00s]: Update[0/0.00s] Create [0/0.00s] Other[0/0.00s]\n</code></pre>"},{"location":"Developing/os/Initial-Detection/","title":"Initial Detection","text":"<p>This document will provide the information you should need to add basic detection for a new OS.</p>"},{"location":"Developing/os/Initial-Detection/#discovery","title":"Discovery","text":"<p>OS discovery is how LibreNMS detects which OS should be used for a device. Generally detection should use sysObjectID or sysDescr, but you can also snmpget an oid and check for a value.  snmpget is discouraged because it slows down all os detections, not just the added os.</p> <p>To begin, create the new OS file which should be called <code>includes/definitions/pulse.yaml</code>. Here is a working example:</p> <pre><code>os: pulse\ntext: 'Pulse Secure'\ntype: firewall\nicon: pulse\nover:\n    - { graph: device_bits, text: 'Device Traffic' }\n    - { graph: device_processor, text: 'CPU Usage' }\n    - { graph: device_mempool, text: 'Memory Usage' }\ndiscovery:\n    - sysObjectID:\n        - .1.3.6.1.4.1.12532.\n</code></pre> <p><code>over</code>: This is a list of the graphs which will be shown within the device header bar (mini graphs top right).</p> <p><code>discovery</code>: Here we are detecting this new OS using sysObjectID, this is the preferred method for detection.  Other options are available:</p> <ul> <li><code>sysObjectID</code> The preferred operator. Checks if the sysObjectID   starts with one of the strings under this item</li> <li><code>sysDescr</code> Use this in addition to sysObjectID if required. Check   that the sysDescr contains one of the strings under this item</li> <li><code>sysObjectID_regex</code> Please avoid use of this. Checks if the   sysObjectID matches one of the regex statements under this item</li> <li><code>sysDescr_regex</code> Please avoid use of this. Checks if the sysDescr   matches one of the regex statements under this item</li> <li><code>snmpget</code> Do not use this unless none of the other methods   work. Fetch an oid and compare it against a value. <pre><code>discovery:\n    -\n      snmpget:\n        - oid: &lt;someoid&gt;\n        - op: &lt;[\"=\",\"!=\",\"==\",\"!==\",\"&lt;=\",\"&gt;=\",\"&lt;\",\"&gt;\",\"starts\",\"ends\",\"contains\",\"regex\",\"not_starts\",\"not_ends\",\"not_contains\",\"not_regex\",\"in_array\",\"not_in_array\",\"exists\"]&gt;\n        - value: &lt;'string' | boolean&gt;\n</code></pre></li> <li><code>_except</code> You can add this to any of the above to exclude that   element. As an example:</li> </ul> <pre><code>discovery:\n    -\n      sysObjectID:\n          - .1.3.6.1.4.1.12532.\n      sysDescr_except:\n          - 'Not some pulse'\n</code></pre> <p><code>group</code>: You can group certain OS' together by using group, for instance ios, nx-os, iosxr are all within a group called cisco.</p> <p><code>bad_ifXEntry</code>: This is a list of models for which to tell LibreNMS that the device doesn't support ifXEntry and to ignore it:</p> <pre><code> bad_ifXEntry:\n     - cisco1941\n     - cisco886Va\n     - cisco2811\n</code></pre> <p><code>mib_dir</code>: You can use this to specify an additional directory to look in for MIBs. An array is not accepted, only one directory may be specified.</p> <pre><code>mib_dir: juniper\n</code></pre> <p><code>poller_modules</code>: This is a list of poller modules to either enable (1) or disable (0). Check <code>misc/config_definitions.json</code> to see which modules are enabled/disabled by default.</p> <pre><code>poller_modules:\n    cisco-ace-serverfarms: false\n    cisco-ace-loadbalancer: false\n</code></pre> <p><code>discovery_modules</code>: This is the list of discovery modules to either enable (1) or disable (0). Check <code>misc/config_definitions.json</code> to see which modules are enabled/disabled by default.</p> <pre><code>discovery_modules:\n     cisco-cef: true\n     slas: true\n     cisco-mac-accounting: false\n</code></pre>"},{"location":"Developing/os/Initial-Detection/#discovery-logic","title":"Discovery Logic","text":"<p>YAML is converted to an array in PHP.  Consider the following YAML:</p> <pre><code>discovery:\n  - sysObjectID: foo\n  -\n    sysDescr: [ snafu, exodar ]\n    sysObjectID: bar\n</code></pre> <p>This is how the discovery array would look in PHP:</p> <pre><code>[\n     [\n       \"sysObjectID\" =&gt; \"foo\",\n     ],\n     [\n       \"sysDescr\" =&gt; [\n         \"snafu\",\n         \"exodar\",\n       ],\n       \"sysObjectID\" =&gt; \"bar\",\n     ]\n]\n</code></pre> <p>The logic for the discovery is as follows:</p> <ol> <li>One of the first level items must match</li> <li>ALL of the second level items must match (sysObjectID, sysDescr)</li> <li>One of the third level items (foo, [snafu,exodar], bar) must match</li> </ol> <p>So, considering the example:</p> <ul> <li><code>sysObjectID: foo, sysDescr: ANYTHING</code> matches</li> <li><code>sysObjectID: bar, sysDescr: ANYTHING</code> does not match</li> <li><code>sysObjectID: bar, sysDescr: exodar</code> matches</li> <li><code>sysObjectID: bar, sysDescr: snafu</code> matches</li> </ul>"},{"location":"Developing/os/Initial-Detection/#os-discovery","title":"OS discovery","text":"<p>OS discovery collects additional standardized data about the OS.  These are specified in the discovery yaml <code>includes/definitions/discovery/&lt;os&gt;.yaml</code> or <code>LibreNMS/OS/&lt;os&gt;.php</code> if more complex collection is required.</p> <ul> <li><code>version</code> The version of the OS running on the device.</li> <li><code>hardware</code> The hardware version for the device. For example: 'WS-C3560X-24T-S'</li> <li><code>features</code> Features for the device, for example a list of enabled software features.</li> <li><code>serial</code> The main serial number of the device.</li> </ul>"},{"location":"Developing/os/Initial-Detection/#yaml-based-os-discovery","title":"Yaml based OS discovery","text":"<ul> <li><code>sysDescr_regex</code> apply a regex or list of regexes to the sysDescr to extract named groups, this data has the lowest precedence</li> <li><code>&lt;field&gt;</code> specify an oid or list of oids to attempt to pull the data from, the first non-empty response will be used</li> <li><code>&lt;field&gt;_regex</code> parse the value out of the returned oid data, must use a named group</li> <li><code>&lt;field&gt;_template</code> combine multiple oid results together to create a final string value.  The result is trimmed.</li> <li><code>&lt;field&gt;_replace</code> An array of replacements ['search regex', 'replace'] or regex to remove</li> <li><code>hardware_mib</code> MIB used to translate sysObjectID to get hardware. hardware_regex can process the result.</li> </ul> <pre><code>modules:\n    os:\n        sysDescr_regex: '/(?&lt;hardware&gt;MSM\\S+) .* Serial number (?&lt;serial&gt;\\S+) - Firmware version (?&lt;version&gt;\\S+)/'\n        features: UPS-MIB::upsIdentAttachedDevices.0\n        hardware:\n            - ENTITY-MIB::entPhysicalName.1\n            - ENTITY-MIB::entPhysicalHardwareRev.1\n        hardware_template: '{{ ENTITY-MIB::entPhysicalName.1 }} {{ ENTITY-MIB::entPhysicalHardwareRev.1 }}'\n        serial: ENTITY-MIB::entPhysicalSerialNum.1\n        version: ENTITY-MIB::entPhysicalSoftwareRev.1\n        version_regex: '/V(?&lt;version&gt;.*)/'\n</code></pre>"},{"location":"Developing/os/Initial-Detection/#php-based-os-discovery","title":"PHP based OS discovery","text":"<pre><code>public function discoverOS(\\App\\Models\\Device $device): void\n{\n    $info = snmp_getnext_multi($this-&gt;getDeviceArray(), ['enclosureModel', 'enclosureSerialNum', 'entPhysicalFirmwareRev'], '-OQUs', 'NAS-MIB:ENTITY-MIB');\n    $device-&gt;version = $info['entPhysicalFirmwareRev'];\n    $device-&gt;hardware = $info['enclosureModel'];\n    $device-&gt;serial = $info['enclosureSerialNum'];\n}\n</code></pre>"},{"location":"Developing/os/Initial-Detection/#mibs","title":"MIBs","text":"<p>If the device has MIBs available and you use it in the detection then you can add these in. It is highly recommended that you add mibs to a vendor specific directory. For instance HP mibs are in <code>mibs/hp</code>. Please  ensure that these directories are specified in the yaml detection file, see <code>mib_dir</code> above.</p>"},{"location":"Developing/os/Initial-Detection/#icon-and-logo","title":"Icon and Logo","text":"<p>It is highly recommended to use SVG images where possible, these scale and provide a nice visual image for users with HiDPI screens. If you can't find SVG images then please use png.</p> <p>Create an SVG image of the icon and logo.  Legacy PNG bitmaps are also supported but look bad on HiDPI.</p> <ul> <li>A vector image should not contain padding.</li> <li>The file should not be larger than 20 Kb. Simplify paths to reduce large files.</li> <li>Use plain SVG without gzip compression.</li> <li>The SVG root element must not contain length and width attributes, only viewBox.</li> </ul>"},{"location":"Developing/os/Initial-Detection/#icon","title":"Icon","text":"<ul> <li>Save the icon SVG to <code>html/images/os/$os.svg</code>.</li> <li>Icons should look good when viewed at 32x32 px.</li> <li>Square icons are preferred to full logos with text.</li> <li>Remove small ornaments that are almost not visible when displayed with 32px width (e.g. \u00ae or \u2122).</li> </ul>"},{"location":"Developing/os/Initial-Detection/#logo","title":"Logo","text":"<ul> <li>Save the logo SVG to <code>html/images/logos/$os.svg</code>.</li> <li>Logos can be any dimension, but often are wide and contain the company name.</li> <li>If a logo is not present, the icon will be used.</li> </ul>"},{"location":"Developing/os/Initial-Detection/#hints","title":"Hints","text":"<p>Hints for Inkscape:</p> <ul> <li>You can open a PDF or EPS to extract the logo.</li> <li>Ungroup elements to isolate the logo.</li> <li>Use <code>Path -&gt; Simplify</code> to simplify paths of large files.</li> <li>Use <code>File -&gt; Document Properties\u2026 -&gt; Resize page to content\u2026</code> to remove padding.</li> <li>Use <code>File -&gt; Clean up document</code> to remove unused gradients, patterns, or markers.</li> <li>Use <code>File -&gt; Save As -&gt; Plain SVG</code> to save the final image.</li> </ul> <p>By optimizing the SVG you can shrink the file size in some cases to less than 20 %. SVG Optimizer does a great job. There is also an online version.</p>"},{"location":"Developing/os/Initial-Detection/#the-final-check","title":"The final check","text":"<p>Discovery</p> <pre><code>./discovery.php -d -h HOSTNAME\n</code></pre> <p>Polling</p> <pre><code>lnms device:poll HOSTNAME\n</code></pre> <p>At this step we should see all the values retrieved in LibreNMS.</p> <p>Note: If you have made a number of changes to either the OS's Discovery files, it's possible earlier edits have been cached. As such, if you do not get expected behaviour when completing the final check above, try removing the cache file first:</p> <pre><code>rm -f cache/os_defs.cache\n</code></pre>"},{"location":"Developing/os/Mem-CPU-Information/","title":"Mem/CPU Information","text":"<p>This document will guide you through adding detection for Memory / Processor for your new device.</p>"},{"location":"Developing/os/Mem-CPU-Information/#memory","title":"Memory","text":"<p>LibreNMS will attempt to detect memory statistics using the standard HOST-RESOURCES-MIB and UCD-SNMP-MIB MIBs. To detect non-standard MIBs, they can be defined via Yaml.</p>"},{"location":"Developing/os/Mem-CPU-Information/#yaml","title":"YAML","text":"<p>In order to successfully detect memory amount and usage, two of the for keys below are required.  Some OS only provide a usage percentage, which will work, but a total RAM amount will not be displayed.</p> <ul> <li>total</li> <li>used</li> <li>free</li> <li>percent_used</li> </ul> <p><code>includes/definitions/discovery/mempools/arubaos.yaml</code></p> <pre><code>mempools:\n    data:\n        -\n            total: WLSX-SWITCH-MIB::sysXMemorySize\n            used: WLSX-SWITCH-MIB::sysXMemoryUsed\n            precision: 1024\n</code></pre> <p>The code can also interpret table based OIDs and supports many of the same features as Health Sensors including {{ }} parsing, skip_values, and precache.</p> <p>Valid data entry keys:</p> <ul> <li><code>oid</code> oid to walk to collect processor data</li> <li><code>total</code> oid or integer total memory size in bytes (or precision)</li> <li><code>used</code> oid memory used in bytes (or precision)</li> <li><code>free</code> oid memory free in bytes (or precision)</li> <li><code>percent_used</code> oid of percentage of used memory</li> <li><code>descr</code> A visible description of the memory measurement defaults to \"Memory\"</li> <li><code>warn_percent</code> Usage percentage to used for alert purposes</li> <li><code>precision</code> precision for all byte values, typically a power of 2 (1024 for example)</li> <li><code>class</code>used to generate rrd filename, defaults to system.  If system, buffers, and cached exist they will be combined to calculate available memory.</li> <li><code>type</code> used to generate rrd filename, defaults to the os name</li> <li><code>index</code> used to generate rrd filename, defaults to the oid index</li> <li><code>skip_values</code> skip values see Health Sensors for specification</li> <li><code>snmp_flags</code> additional net-snmp flags</li> </ul>"},{"location":"Developing/os/Mem-CPU-Information/#custom-processor-discovery-and-polling","title":"Custom Processor Discovery and Polling","text":"<p>If you need to implement custom discovery or polling you can implement the MempoolsDiscovery interface and the MempoolsPolling interface in the OS class. MempoolsPolling is optional, standard polling will be used based on OIDs stored in the database.</p> <p>OS Class files reside under <code>LibreNMS\\OS</code></p> <pre><code>&lt;?php\n\nnamespace LibreNMS\\OS;\n\nuse LibreNMS\\Interfaces\\Discovery\\MempoolsDiscovery;\nuse LibreNMS\\Interfaces\\Polling\\MempoolsPolling;\n\nclass Example extends \\LibreNMS\\OS implements MempoolsDiscovery, MempoolsPolling\n{\n    /**\n     * Discover a Collection of Mempool models.\n     * Will be keyed by mempool_type and mempool_index\n     *\n     * @return \\Illuminate\\Support\\Collection \\App\\Models\\Mempool\n     */\n    public function discoverMempools()\n    {\n        // TODO: Implement discoverMempools() method.\n    }\n\n    /**\n     * @param \\Illuminate\\Support\\Collection $mempools \\App\\Models\\Mempool\n     * @return \\Illuminate\\Support\\Collection \\App\\Models\\Mempool\n     */\n    public function pollMempools($mempools)\n    {\n        // TODO: Implement pollMempools() method.\n    }\n}\n</code></pre>"},{"location":"Developing/os/Mem-CPU-Information/#processor","title":"Processor","text":"<p>Detection for processors is done via a yaml file unless custom processing of data is required.</p>"},{"location":"Developing/os/Mem-CPU-Information/#yaml_1","title":"YAML","text":"<p><code>includes/definitions/discovery/pulse.yaml</code></p> <pre><code>mib: PULSESECURE-PSG-MIB\nmodules:\n    processors:\n          data:\n              -\n                  oid: iveCpuUtil\n                  num_oid: '.1.3.6.1.4.1.12532.10.{{ $index }}'\n                  type: pulse\n</code></pre> <p>Available yaml data keys:</p> Key Default Description oid required The string based oid to fetch data, could be a table or a single value num_oid optional The numerical oid to fetch data from when polling, usually should be appended by {{ $index }}. Computed by discovery process if not provided. value optional Oid to retrieve data from, primarily used for tables precision 1 The multiplier to multiply the data by. If this is negative, the data will be multiplied then subtracted from 100. descr Processor Description of this processor, may be an oid or plain string.  Helpful values {{ $index }} and {{$count}} type Name of this sensor. This is used with the index to generate a unique id for this sensor. index {{ $index }} The index of this sensor, defaults to the index of the oid. skip_values optional Do not detect this sensor if the value matches <p>Accessing values within yaml:</p> {{ $index }} The index after the given oid {{ $count }} The count of entries (starting with 1) {{ $<code>oid</code> }} Any oid in the table or pre-fetched"},{"location":"Developing/os/Mem-CPU-Information/#custom-processor-discovery-and-polling_1","title":"Custom Processor Discovery and Polling","text":"<p>If you need to implement custom discovery or polling you can implement the ProcessorDiscovery interface and the ProcessorPolling interface in the OS class.</p> <p>OS Class files reside under <code>LibreNMS\\OS</code></p> <pre><code>&lt;?php\nnamespace LibreNMS\\OS;\n\nuse LibreNMS\\Device\\Processor;\nuse LibreNMS\\Interfaces\\Discovery\\ProcessorDiscovery;\nuse LibreNMS\\Interfaces\\Polling\\ProcessorPolling;\nuse LibreNMS\\OS;\n\nclass ExampleOS extends OS implements ProcessorDiscovery, ProcessorPolling\n{\n    /**\n     * Discover processors.\n     * Returns an array of LibreNMS\\Device\\Processor objects that have been discovered\n     *\n     * @return array Processors\n     */\n    public function discoverProcessors()\n    {\n        // discovery code here\n    }\n\n    /**\n     * Poll processor data.  This can be implemented if custom polling is needed.\n     *\n     * @param array $processors Array of processor entries from the database that need to be polled\n     * @return array of polled data\n     */\n    public function pollProcessors(array $processors)\n    {\n        // polling code here\n    }\n}\n</code></pre>"},{"location":"Developing/os/Settings/","title":"Optional OS Settings","text":"<p>This page documents settings that can be set in the os yaml files or in config.php. All settings listed here are optional. If they are not set, the global default will be used.</p>"},{"location":"Developing/os/Settings/#user-override-in-configphp","title":"User override in config.php","text":"<p>Users can override these settings in their config.php.</p> <p>For example, to set an alternate icon for ios:</p> <pre><code>$config['os']['ios']['icon'] = 'fuzzybunny';\n</code></pre>"},{"location":"Developing/os/Settings/#ignoring-sensors","title":"Ignoring Sensors","text":"<p>It is possible to filter some sensors from the configuration:</p> <ul> <li>Filter all 'current' sensors for Operating System 'vrp'.</li> </ul> <pre><code>$config['os']['vrp']['disabled_sensors']['current'] = true;\n</code></pre> <ul> <li>Filter all sensors with description matching regexp <code>'/PEM Iout/'</code> for Operating System iosxe.</li> </ul> <pre><code>$config['os']['iosxe']['disabled_sensors_regex'][] = '/PEM Iout/';\n</code></pre> <ul> <li>Filter all 'power' sensors with description matching regexp <code>'/ Power [TR]x /'</code> for Operating System iosxr.</li> </ul> <pre><code>$config['os']['iosxr']['disabled_sensors_regex']['power'][] = '/ Power [TR]x /';\n</code></pre> <ul> <li>Ignore all temperature sensors</li> </ul> <pre><code>$config['disabled_sensors']['temperature'] = true;\n</code></pre> <ul> <li>Filter all sensors matching with description regexp <code>'/PEM Iout/'</code>.</li> </ul> <pre><code>$config['disabled_sensors_regex'][] = '/PEM Iout/';\n</code></pre>"},{"location":"Developing/os/Settings/#ignoring-interfaces","title":"Ignoring Interfaces","text":"<p>See also: Global Ignoring Interfaces Config</p> <p>These settings are merged with the global settings, so you can only undo global ones with good_if</p> <pre><code>empty_ifdescr: false # allow empty ifDescr\nbad_if: # ifDescr (substring, case insensitive)\n    - lp0\nbad_if_regexp: # ifDescr (regex, case insensitive)\n    - \"/^ng[0-9]+$/\"\nbad_ifname_regexp: # ifName (regex, case insensitive)\n    - \"/^xdsl_channel /\"\nbad_ifalias_regexp: # ifAlias (regex, case insensitive)\n    - \"/^vlan/\"\nbad_iftype: # ifType (substring)\n    - sonet\ngood_if: # ignore all other bad_if settings ifDescr (substring, case insensitive)\n    - virtual\nbad_ifoperstatus # IfOperStatus (substring, case insensitive)\n    - notPresent\n</code></pre>"},{"location":"Developing/os/Settings/#controlling-interface-labels","title":"Controlling interface labels","text":"<p>By default we use ifDescr to label ports/interfaces. Setting either <code>ifname</code> or <code>ifalias</code> will override that.  Only set one of these.  ifAlias is user supplied. <code>ifindex</code> will append the ifindex to the port label.</p> <pre><code>ifname: true\nifalias: true\n\nifindex: true\n</code></pre>"},{"location":"Developing/os/Settings/#poller-and-discovery-modules","title":"Poller and Discovery Modules","text":"<p>The various discovery and poller modules can be enabled or disabled per OS.  The defaults are usually reasonable, so likely you won't want to change more than a few. These modules can be enabled or disabled per-device in the webui and per os or globally in config.php. Usually, a poller module will not work if it's corresponding discovery module is not enabled.</p> <p>You should avoid setting these to false in the OS definitions unless it has a significant negative impact on polling.  Setting modules in the definition reduces user control of modules.</p> <pre><code>poller_modules:\n    bgp-peers: true\ndiscovery_modules:\n    arp-table: false\n</code></pre>"},{"location":"Developing/os/Settings/#snmp-settings","title":"SNMP Settings","text":""},{"location":"Developing/os/Settings/#disable-snmpbulkwalk","title":"Disable snmpbulkwalk","text":"<p>Some devices have buggy snmp implementations and don't respond well to the more efficient snmpbulkwalk. To disable snmpbulkwalk and only use snmpwalk for an OS set the following.</p> <pre><code>snmp_bulk: false\n</code></pre> <p>If only some specific OIDs fail with snmpbulkwalk. You can disable just those OIDs. This needs to match exactly the OID being walked by LibreNMS. MIB::oid is preferred to prevent name collisions.</p> <pre><code>oids:\n    no_bulk:\n        - UCD-SNMP-MIB::laLoadInt\n</code></pre>"},{"location":"Developing/os/Settings/#limit-the-oids-per-snmpget","title":"Limit the oids per snmpget","text":"<pre><code>snmp_max_oid: 8\n</code></pre>"},{"location":"Developing/os/Settings/#storage-settings","title":"Storage Settings","text":"<p>See also: Global Storage Config</p> <pre><code>ignore_mount_array: # exact match\n    - /var/run\nignore_mount_string: # substring\n    - run\nignore_mount_regexp: # regex\n    - \"/^\\/var/\"\n</code></pre>"},{"location":"Developing/os/Test-Units/","title":"Tests","text":"<p>Tests ensure LibreNMS works as expected, now and in the future.  New OS should provide as much test data as needed and added test data for existing OS is welcome.</p> <p>Saved snmp data can be found in <code>tests/snmpsim/*.snmprec</code> and saved database data can be found in <code>tests/data/*.json</code>. Please review this for any sensitive data before submitting.  When replacing data, make sure it is modified in a consistent manner.</p> <p>We utilise snmpsim to do unit testing. For OS discovery, we can mock snmpsim, but for other tests you will need it installed and functioning.  We run snmpsim during our integration tests, but not by default when running <code>lnms dev:check</code>.  You can install snmpsim with the command <code>pip3 install snmpsim</code>.</p>"},{"location":"Developing/os/Test-Units/#capturing-test-data","title":"Capturing test data","text":"If test data already exists <p>If test data already exists, but is for a different device/configuration with the same OS. Then you should use the <code>--variant (-v)</code> option to specify a different variant of the OS, this will be tested completely separate from other variants. If there is only one variant, please do not specify one.</p>"},{"location":"Developing/os/Test-Units/#1-collect-snmp-data","title":"1. Collect SNMP data","text":"<p><code>./scripts/collect-snmp-data.php</code> is provided to make it easy to collect data for tests.  Running collect-snmp-data.php with the <code>--hostname (-h)</code> allows you to capture all data used to discover and poll a device already added to LibreNMS.  Make sure to re-run the script if you add additional support. Check the command-line help for more options.</p>"},{"location":"Developing/os/Test-Units/#2-save-test-data","title":"2. Save test data","text":"<p>After you have collected snmp data, run <code>./scripts/save-test-data.php</code> with the <code>--os (-o)</code> option to dump the post discovery and post poll database entries to json files. This step requires snmpsim, if you are having issues, the maintainers may help you generate it from the snmprec you created in the previous step.</p> <p>Generally, you will only need to collect data once. After you have the data you need in the snmprec file, you can just use save-test-data.php to update the database dump (json) after that.</p>"},{"location":"Developing/os/Test-Units/#running-tests","title":"Running tests","text":"<p>Note: To run tests, ensure you have executed <code>./scripts/composer_wrapper.php install</code> from your LibreNMS root directory. This will read composer.json and install any dependencies required.</p> <p>After you have saved your test data, you should run <code>lnms dev:check</code> verify they pass.</p> <p>To run the full suite of tests enable database and snmpsim reliant tests: <code>lnms dev:check unit --db --snmpsim</code></p>"},{"location":"Developing/os/Test-Units/#specific-os","title":"Specific OS","text":"<p><code>lnms dev:check unit -o osname</code></p>"},{"location":"Developing/os/Test-Units/#specific-module","title":"Specific Module","text":"<p><code>lnms dev:check unit -m modulename</code></p>"},{"location":"Developing/os/Test-Units/#using-snmpsim-for-testing","title":"Using snmpsim for testing","text":"<p>You can run snmpsim to access test data by running</p> <pre><code>lnms dev:simulate\n</code></pre> <p>You may then run snmp queries against it using the os (and variant) as the community and 127.1.6.1:1161 as the host.</p> <pre><code>snmpget -v 2c -c ios_c3560e 127.1.6.1:1161 sysDescr.0\n</code></pre>"},{"location":"Developing/os/Test-Units/#snmprec-format","title":"Snmprec format","text":"<p>Snmprec files are simple files that store the snmp data. The data format is simple with three columns: numeric oid, type code, and data. Here is an example snippet.</p> <pre><code>1.3.6.1.2.1.1.1.0|4|Pulse Secure,LLC,MAG-2600,8.0R14 (build 41869)\n1.3.6.1.2.1.1.2.0|6|1.3.6.1.4.1.12532.254.1.1\n</code></pre> <p>During testing LibreNMS will use any info in the snmprec file for snmp calls.  This one provides sysDescr (<code>.1.3.6.1.2.1.1.1.0</code>, 4 = Octet String) and sysObjectID (<code>.1.3.6.1.2.1.1.2.0</code>, 6 = Object Identifier), which is the minimum that should be provided for new snmprec files.</p> <p>To look up the numeric OID and type of an string OID with snmptranslate:</p> <pre><code>snmptranslate -On -Td SNMPv2-MIB::sysDescr.0\n</code></pre> <p>List of SNMP data types:</p> Type Value OCTET STRING 4 HEX STRING 4x Integer32 2 NULL 5 OBJECT IDENTIFIER 6 IpAddress 64 Counter32 65 Gauge32 66 TimeTicks 67 Opaque 68 Counter64 70 <p>Hex encoded strings (4x) should be used for any strings that contain line returns.</p>"},{"location":"Developing/os/Test-Units/#new-discoverypoller-modules","title":"New discovery/poller modules","text":"<p>New discovery or poller modules should define database capture parameters in <code>/tests/module_tables.yaml</code>.</p>"},{"location":"Developing/os/Test-Units/#example-workflow","title":"Example workflow","text":"<p>If the base os (.snmprec) already contains test data for the module you are testing or that data conflicts with your new data, you must use a variant to store your test data (-v)."},{"location":"Developing/os/Test-Units/#add-initial-detection","title":"Add initial detection","text":"<ol> <li>Add device to LibreNMS. It is generic and device_id = 42</li> <li>Run <code>./scripts/collect-snmp-data.php -h 42</code>, initial snmprec will be created</li> <li>Add initial detection for <code>example-os</code></li> <li>Run discovery to make sure it detects properly <code>./discovery.php -h 42</code></li> <li>Add any additional os items like version, hardware, features, or serial.</li> <li>If there is additional snmp data required, run    <code>./scripts/collect-snmp-data.php -h 42</code></li> <li>Run <code>./scripts/save-test-data.php -o example-os</code> to update the    dumped database data.</li> <li>Review data. If you modified the snmprec or code (don't modify json    manually) run <code>./scripts/save-test-data.php -o example-os -m os</code></li> <li>Run <code>lnms dev:check unit --db --snmpsim</code></li> <li>If the tests succeed submit a pull request</li> </ol>"},{"location":"Developing/os/Test-Units/#additional-module-support-or-test-data","title":"Additional module support or test data","text":"<ol> <li>Add code to support module or support already exists.</li> <li><code>./scripts/collect-snmp-data.php -h 42 -m &lt;module&gt;</code>, this will add    more data to the snmprec file</li> <li>Review data. If you modified the snmprec (don't modify json    manually) run <code>./scripts/save-test-data.php -o example-os -m &lt;module&gt;</code></li> <li>Run <code>lnms dev:check unit --db --snmpsim</code></li> <li>If the tests succeed submit a pull request</li> </ol>"},{"location":"Developing/os/Test-Units/#json-application-test-writing-using-scriptsjson-app-toolphp","title":"JSON Application Test Writing Using ./scripts/json-app-tool.php","text":"<ol> <li>First you will need a good example JSON output produced via SNMP    extend in question.</li> <li>Read the help via <code>./scripts/json-app-tool.php -h</code>.</li> <li>Generate the SNMPrec data via <code>./scripts/json-app-tool.php -a    appName -s &gt; ./tests/snmpsim/linux_appName-v1.snmprec</code>. If the    SNMP extend name OID different than the application name, then you    will need to pass  the -S flag for over riding that.</li> <li>Generate the test JSON data via <code>./scripts/json-app-tool.php -a    appName -t &gt; ./tests/data/linux_appName-v1.json</code>.</li> <li>Update the generated './tests/data/linux_appName-v1.json' making    sure that all the expected metrics are present. This assumes that    everything under .data in the JSON will be collapsed and used.</li> </ol> <p>During test runs if it does not appear to be detecting the app and it has a different app name and SNMP extend name OID, make sure that -S is set properly and that 'includes/discovery/applications.inc.php' has been updated.</p>"},{"location":"Developing/os/Wireless-Sensors/","title":"Wireless Sensors","text":"<p>This document will guide you through adding wireless sensors for your new wireless device.</p> <p>Currently we have support for the following wireless metrics along with the values we expect to see the data in:</p> Type Measurement Interface Description ap-count % WirelessApCountDiscovery The number of APs attached to this controller capacity % WirelessCapacityDiscovery The % of operating rate vs theoretical max ccq % WirelessCcqDiscovery The Client Connection Quality channel count WirelessChannelDiscovery The channel, use of frequency is preferred cell count WirelessCellDiscovery The cell in a multicell technology clients count WirelessClientsDiscovery The number of clients connected to/managed by this device distance km WirelessDistanceDiscovery The distance of a radio link in Kilometers error-rate bps WirelessErrorRateDiscovery The rate of errored packets or bits, etc error-ratio % WirelessErrorRatioDiscovery The percent of errored packets or bits, etc errors count WirelessErrorsDiscovery The total bits of errored packets or bits, etc frequency MHz WirelessFrequencyDiscovery The frequency of the radio in MHz, channels can be converted mse dB WirelessMseDiscovery The Mean Square Error noise-floor dBm WirelessNoiseFloorDiscovery The amount of noise received by the radio power dBm WirelessPowerDiscovery The power of transmit or receive, including signal level quality % WirelessQualityDiscovery The % of quality of the link, 100% = perfect link rate bps WirelessRateDiscovery The negotiated rate of the connection (not data transfer) rssi dBm WirelessRssiDiscovery The Received Signal Strength Indicator snr dB WirelessSnrDiscovery The Signal to Noise ratio, which is signal - noise floor sinr dB WirelessSinrDiscovery The Signal-to-Interference-plus-Noise Ratio rsrq dB WirelessRsrqDiscovery The Reference Signal Received Quality rsrp dBm WirelessRsrpDiscovery The Reference Signals Received Power xpi dBm WirelessXpiDiscovery The Cross Polar Interference values ssr dB WirelessSsrDiscovery The Signal strength ratio, the ratio(or difference) of Vertical rx power to Horizontal rx power utilization % WirelessUtilizationDiscovery The % of utilization compared to the current rate <p>You will need to create a new OS class for your os if one doesn't exist under <code>LibreNMS/OS</code>.  The name of this file should be the os name in camel case for example <code>airos -&gt; Airos</code>, <code>ios-wlc -&gt; IosWlc</code>.</p> <p>Your new OS class should extend LibreNMS\\OS and implement the interfaces for the sensors your os supports.</p> <pre><code>namespace LibreNMS\\OS;\n\nuse LibreNMS\\Device\\WirelessSensor;\nuse LibreNMS\\Interfaces\\Discovery\\Sensors\\WirelessClientsDiscovery;\nuse LibreNMS\\OS;\n\nclass Airos extends OS implements WirelessClientsDiscovery\n{\n    public function discoverWirelessClients()\n    {\n        $oid = '.1.3.6.1.4.1.41112.1.4.5.1.15.1'; //UBNT-AirMAX-MIB::ubntWlStatStaCount.1\n        return array(\n            new WirelessSensor('clients', $this-&gt;getDeviceId(), $oid, 'airos', 1, 'Clients')\n        );\n    }\n}\n</code></pre> <p>All discovery interfaces will require you to return an array of WirelessSensor objects.</p> <p><code>new WirelessSensor()</code> Accepts the following arguments:</p> <ul> <li><code>$type =</code> Required. This is the sensor class from the table above (i.e humidity).</li> <li><code>$device_id =</code> Required. You can get this value with $this-&gt;getDeviceId()</li> <li><code>$oids =</code> Required. This must be the numerical OID for where the data   can be found, i.e .1.2.3.4.5.6.7.0. If this is an array of oids, you   should probably specify an $aggregator.</li> <li><code>$subtype =</code> Required. This should be the OS name, i.e airos.</li> <li><code>$index =</code> Required. This must be unique for this sensor type, device and subtype.   Typically it's the index from the table being walked or it could be   the name of the OID if it's a single value.</li> <li><code>$description =</code> Required. This is a descriptive value for the sensor.   Shown to the user, if this is a per-ssid statistic, using <code>SSID:   $ssid</code> here is appropriate</li> <li><code>$current =</code> Defaults to null. Can be used to set the current value on discovery.   If this is null the values will be polled right away and if they do   not return valid value(s), the sensor will not be   discovered. Supplying a value here implies you have already verified   this sensor is valid.</li> <li><code>$multiplier =</code> Defaults to 1. This is used to multiply the returned value.</li> <li><code>$divisor =</code> Defaults to 1. This is used to divided the returned value.</li> <li>$aggregator = Defaults to sum. Valid values: sum, avg. This will   combine multiple values from multiple oids into one.</li> <li><code>$access_point_id =</code> Defaults to null. If this is a wireless   controller, you can link sensors to entries in the access_points table.</li> <li><code>$high_limit =</code> Defaults to null. Sets the high limit for the sensor,   used in alerting to report out range sensors.</li> <li><code>$low_limit =</code> Defaults to null. Sets the low threshold limit for the   sensor, used in alerting to report out range sensors.</li> <li><code>$high_warn =</code> Defaults to null. Sets the high warning limit for the   sensor, used in alerting to report near out of range sensors.</li> <li><code>$low_warn =</code> Defaults to null. Sets the low warning limit for the   sensor, used in alerting to report near out of range sensors.</li> <li><code>$entPhysicalIndex =</code> Defaults to null. Sets the entPhysicalIndex to   be used to look up further hardware if available.</li> <li><code>$entPhysicalIndexMeasured =</code> Defaults to null. Sets the type of   entPhysicalIndex used, i.e ports.</li> </ul> <p>Polling is done automatically based on the discovered data.  If for some reason you need to override polling, you can implement the required polling interface in <code>LibreNMS/Interfaces/Polling/Sensors</code>. Using the polling interfaces should be avoided if possible.</p> <p>Graphing is performed automatically for wireless sensors, no custom graphing is required or supported.</p>"},{"location":"Extensions/Agent-Setup/","title":"Check_MK Setup","text":"<p>The agent can be used to gather data from remote systems you can use LibreNMS in combination with check_mk (found here). The agent can be extended to include data about applications on the remote system.</p>"},{"location":"Extensions/Agent-Setup/#installation","title":"Installation","text":""},{"location":"Extensions/Agent-Setup/#linux-bsd","title":"Linux / BSD","text":"<p>Make sure that systemd or xinetd is installed on the host you want to run the agent on.</p> <p>The agent uses TCP-Port 6556, please allow access from the LibreNMS host and poller nodes if you're using the Distributed Polling setup.</p> <p>On each of the hosts you would like to use the agent on, you need to do the following:</p> <p>1: Clone the <code>librenms-agent</code> repository:</p> <pre><code>cd /opt/\ngit clone https://github.com/librenms/librenms-agent.git\ncd librenms-agent\n</code></pre> <p>2: Copy the relevant check_mk_agent to <code>/usr/bin</code>:</p> linux freebsd <code>cp check_mk_agent /usr/bin/check_mk_agent</code> <code>cp check_mk_agent_freebsd /usr/bin/check_mk_agent</code> <pre><code>chmod +x /usr/bin/check_mk_agent\n</code></pre> <p>3: Copy the service file(s) into place.</p> xinetd systemd <code>cp check_mk_xinetd /etc/xinetd.d/check_mk</code> <code>cp check_mk@.service check_mk.socket /etc/systemd/system</code> <p>4: Create the relevant directories.</p> <pre><code>mkdir -p /usr/lib/check_mk_agent/plugins /usr/lib/check_mk_agent/local\n</code></pre> <p>5: Copy each of the scripts from <code>agent-local/</code> into <code>/usr/lib/check_mk_agent/local</code> that you require to be graphed.  You can find detail setup instructions for specific applications above.</p> <p>6: Make each one executable that you want to use with <code>chmod +x /usr/lib/check_mk_agent/local/$script</code></p> <p>7: Enable the check_mk service</p> xinetd systemd <code>/etc/init.d/xinetd restart</code> <code>systemctl enable check_mk.socket &amp;&amp; systemctl start check_mk.socket</code> <p>8: Login to the LibreNMS web interface and edit the device you want to monitor. Under the modules section, ensure that unix-agent is enabled.</p> <p>9: Then under Applications, enable the apps that you plan to monitor.</p> <p>10: Wait for around 10 minutes and you should start seeing data in your graphs under Apps for the device.</p>"},{"location":"Extensions/Agent-Setup/#restrict-the-devices-on-which-the-agent-listens-linux-systemd","title":"Restrict the devices on which the agent listens: Linux systemd","text":"<p>If you want to restrict which network adapter the agent listens on, do the following:</p> <p>1: Edit <code>/etc/systemd/system/check_mk.socket</code></p> <p>2: Under the <code>[Socket]</code> section, add a new line <code>BindToDevice=</code> and the name of your network adapter.</p> <p>3: If the script has already been enabled in systemd, you may need to issue a <code>systemctl daemon-reload</code> and then <code>systemctl restart check_mk.socket</code></p>"},{"location":"Extensions/Agent-Setup/#windows","title":"Windows","text":"<ol> <li>Grab version 1.2.6b5 of the check_mk agent from the check_mk github repo (exe/msi or compile it yourself depending on your usage): https://github.com/tribe29/checkmk/tree/v1.2.6b5/agents/windows</li> <li>Run the msi / exe</li> <li>Make sure your LibreNMS instance can reach TCP port 6556 on your target.</li> </ol>"},{"location":"Extensions/Applications/","title":"Applications","text":"<p>You can use Application support to graph performance statistics of many applications.</p> <p>Different applications support a variety of ways to collect data: </p> <ol> <li>By direct connection to the application</li> <li>snmpd extend</li> <li>The agent.</li> </ol> <p>The monitoring of applications could be added before or after the hosts have been added to LibreNMS.</p> <p>If multiple methods of collection are listed you only need to enable one.</p>"},{"location":"Extensions/Applications/#snmp-extend","title":"SNMP Extend","text":"<p>When using the snmp extend method, the application discovery module will pick up which applications you have set up for monitoring automatically, even if the device is already in LibreNMS. The application discovery module is enabled by default for most *nix operating systems, but in some cases you will need to manually enable the application discovery module.</p>"},{"location":"Extensions/Applications/#sudo","title":"SUDO","text":"<p>One major thing to keep in mind when using SNMP extend is these run as the snmpd user that can be an unprivileged user. In these situations you need to use sudo.</p> <p>To test if you need sudo, first check the user snmpd is running as. Then test if you can run the extend script as that user without issue. For example if snmpd is running as 'Debian-snmp' and we want to run the extend for proxmox, we check that the following run without error:</p> <pre><code>sudo -u Debian-snmp /usr/local/bin/proxmox\n</code></pre> <p>If it doesn't work, then you will need to use sudo with the extend command. For the example above, that would mean adding the line below to the sudoers file:</p> <pre><code>Debian-snmp ALL = NOPASSWD: /usr/local/bin/proxmox\n</code></pre> <p>Finally we would need to add sudo to the extend command, which would look like that for proxmox:</p> <pre><code>extend proxmox /usr/bin/sudo /usr/local/bin/proxmox\n</code></pre>"},{"location":"Extensions/Applications/#json-return-optimization-using-librenms_return_optimizer","title":"JSON Return Optimization Using librenms_return_optimizer","text":"<p>While the json_app_get does allow for more complex and larger data to be easily returned by a extend and the data to then be worked with, this can also sometimes result in large returns that occasionally don't play nice with SNMP on some networks.</p> <p><code>librenms_return_optimizer</code> fixes this via taking the extend output piped to it, gzipping it, and then converting it to base64. The later is needed as net-snmp does not play that nice with binary data, converting most of the non-printable characters to <code>.</code>. This does add a bit of additional overhead to the gzipped data, but still tends to be result in a return that is usually a third of the size for JSONs items.</p> <p>The change required is fairly simply. So for the portactivity example below...</p> <pre><code>extend portactivity /etc/snmp/extends/portactivity smtps,http,imap,imaps,postgresql,https,ldap,ldaps,nfsd,syslog-conn,ssh,matrix,gitea\n</code></pre> <p>Would become this...</p> <pre><code>extend portactivity /usr/local/bin/lnms_return_optimizer -- /etc/snmp/extends/portactivity smtps,http,imap,imaps,postgresql,https,ldap,ldaps,nfsd,syslog-conn,ssh,matrix,gitea\n</code></pre> <p>The requirements for this are Perl, MIME::Base64, and Gzip::Faster.</p> <p>Installing on FreeBSD...</p> <pre><code>pkg install p5-MIME-Base64 p5-Gzip-Faster wget\nwget https://raw.githubusercontent.com/librenms/librenms-agent/master/utils/librenms_return_optimizer -O /usr/local/bin/librenms_return_optimizer\nchmod +x /usr/local/bin/librenms_return_optimizer\n</code></pre> <p>Installing on Debian...</p> <pre><code>apt-get install zlib1g-dev cpanminus wget\ncpanm Gzip::Faster\ncpanm MIME::Base64\nwget https://raw.githubusercontent.com/librenms/librenms-agent/master/utils/librenms_return_optimizer -O /usr/local/bin/librenms_return_optimizer\nchmod +x /usr/local/bin/librenms_return_optimizer\n</code></pre> <p>Currently supported applications as are below.</p> <ul> <li>backupninja</li> <li>certificate</li> <li>chronyd</li> <li>dhcp-stats</li> <li>docker</li> <li>fail2ban</li> <li>fbsd-nfs-client</li> <li>fbsd-nfs-server</li> <li>gpsd</li> <li>mailcow-postfix</li> <li>mdadm</li> <li>ntp-client</li> <li>ntp-server</li> <li>portactivity</li> <li>powerdns</li> <li>powermon</li> <li>puppet-agent</li> <li>pureftpd</li> <li>redis</li> <li>seafile</li> <li>supervisord</li> <li>ups-apcups</li> <li>zfs</li> </ul> <p>The following apps have extends that have native support for this, if congiured to do so.</p> <ul> <li>suricata</li> </ul>"},{"location":"Extensions/Applications/#enable-the-application-discovery-module","title":"Enable the application discovery module","text":"<ol> <li>Edit the device for which you want to add this support</li> <li>Click on the Modules tab and enable the <code>applications</code> module.</li> <li>This will be automatically saved, and you should get a green    confirmation pop-up message.</li> </ol> <p>After you have enabled the application module, it would be wise to then also enable which applications you want to monitor, in the rare case where LibreNMS does not automatically detect it.</p> <p>Note: Only do this if an application was not auto-discovered by LibreNMS during discovery and polling.</p>"},{"location":"Extensions/Applications/#enable-the-applications-to-be-discovered","title":"Enable the application(s) to be discovered","text":"<ol> <li>Go to the device you have just enabled the application module for.</li> <li>Click on the Applications tab and select the applications you    want to monitor.</li> <li>This will also be automatically saved, and you should get a green    confirmation pop-up message.</li> </ol>"},{"location":"Extensions/Applications/#agent","title":"Agent","text":"<p>The unix-agent does not have a discovery module, only a poller module. That poller module is always disabled by default. It needs to be manually enabled if using the agent. Some applications will be automatically enabled by the unix-agent poller module. It is better to ensure that your application is enabled for monitoring. You can check by following the steps under the <code>SNMP Extend</code> heading.</p>"},{"location":"Extensions/Applications/#apache","title":"Apache","text":"<p>Either use SNMP extend or use the agent.</p> <p>Note that you need to install and configure the Apache mod_status module before trying the script.</p>"},{"location":"Extensions/Applications/#snmp-extend_1","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host (the host must be added to LibreNMS devices) <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/apache-stats.py -O /etc/snmp/apache-stats.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/apache-stats.py\n</code></pre></p> </li> <li> <p>Create the cache directory, '/var/cache/librenms/' and make sure that it is owned by the user running the SNMP daemon. <pre><code>mkdir -p /var/cache/librenms/\n</code></pre></p> </li> <li> <p>Verify it is working by running /etc/snmp/apache-stats.py Package <code>urllib3</code> for python3 needs to be installed. In Debian-based systems for example you can achieve this by issuing: <pre><code>apt-get install python3-urllib3\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend apache /etc/snmp/apache-stats.py\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> <li> <p>Test by running <pre><code>snmpwalk &lt;various options depending on your setup&gt; localhost NET-SNMP-EXTEND-MIB::nsExtendOutput2Table\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#agent_1","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>apache</code> script to <code>/usr/lib/check_mk_agent/local/</code></p> <ol> <li> <p>Verify it is working by running /usr/lib/check_mk_agent/local/apache (If you get error like \"Can't locate LWP/Simple.pm\". libwww-perl needs to be installed: apt-get install libwww-perl)</p> </li> <li> <p>Create the cache directory, '/var/cache/librenms/' and make sure that it is owned by the user running the SNMP daemon. <pre><code>mkdir -p /var/cache/librenms/\n</code></pre></p> </li> <li> <p>On the device page in Librenms, edit your host and check the <code>Apache</code> under the Applications tab.</p> </li> </ol>"},{"location":"Extensions/Applications/#asterisk","title":"Asterisk","text":"<p>A small shell script that reports various Asterisk call status.</p>"},{"location":"Extensions/Applications/#snmp-extend_2","title":"SNMP Extend","text":"<ol> <li> <p>Download the asterisk script to <code>/etc/snmp/</code> on your asterisk server. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/asterisk -O /etc/snmp/asterisk\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/asterisk\n</code></pre></p> </li> <li> <p>Configure <code>ASCLI</code> in the script.</p> </li> <li> <p>Verify it is working by running <code>/etc/snmp/asterisk</code></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend asterisk /etc/snmp/asterisk\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#backupninja","title":"backupninja","text":"<p>A small shell script that reports status of last backupninja backup.</p>"},{"location":"Extensions/Applications/#snmp-extend_3","title":"SNMP Extend","text":"<ol> <li>Download the backupninja script to <code>/etc/snmp/backupninja.py</code> on your backuped server. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/backupninja.py -O /etc/snmp/backupninja.py`\n</code></pre></li> <li> <p>Make the script executable: <pre><code>chmod +x /etc/snmp/backupninja.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend backupninja /etc/snmp/backupninja.py\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol>"},{"location":"Extensions/Applications/#bind9-aka-named","title":"BIND9 aka named","text":"<ol> <li> <p>Create stats file with appropriate permissions: <pre><code>touch /var/cache/bind/stats\nchown bind:bind /var/cache/bind/stats\n</code></pre> Change <code>user:group</code> to the user and group that's running bind/named.</p> </li> <li> <p>Bind/named configuration: <pre><code>options {\n    ...\n    statistics-file \"/var/cache/bind/stats\";\n    zone-statistics yes;\n    ...\n};\n</code></pre></p> </li> <li> <p>Restart your bind9/named after changing the configuration.</p> </li> <li> <p>Verify that everything works by executing <code>rndc stats &amp;&amp; cat /var/cache/bind/stats</code>. In case you get a <code>Permission Denied</code> error, make sure you changed the ownership correctly.</p> </li> <li> <p>Also be aware that this file is appended to each time <code>rndc stats</code> is called. Given this it is suggested you setup file rotation for it. Alternatively you can also set zero_stats to 1 in the config.</p> </li> <li> <p>The script for this also requires the Perl module <code>File::ReadBackwards</code>. <pre><code>FreeBSD       =&gt; p5-File-ReadBackwards\nCentOS/RedHat =&gt; perl-File-ReadBackwards\nDebian/Ubuntu =&gt; libfile-readbackwards-perl\n</code></pre></p> </li> </ol> <p>If it is not available, it can be installed by <code>cpan -i File::ReadBackwards</code>.</p> <ol> <li>You may possibly need to configure the agent/extend script as well.</li> </ol> <p>The config file's path defaults to the same path as the script, but with .config appended. So if the script is located at <code>/etc/snmp/bind</code>, the config file will be <code>/etc/snmp/bind.config</code>. Alternatively you can also specify a config via <code>-c $file</code>.</p> <p>Anything starting with a # is comment. The format for variables are $variable=$value. Empty lines are ignored. Spaces and tabs at either the start or end of a line are ignored.</p> <p>Content of an example /etc/snmp/bind.config . Please edit with your own settings.</p> <pre><code>rndc = The path to rndc. Default: /usr/bin/env rndc\ncall_rndc = A 0/1 boolean on whether or not to call rndc stats.\n    Suggest to set to 0 if using netdata. Default: 1\nstats_file = The path to the named stats file. Default: /var/cache/bind/stats\nagent = A 0/1 boolean for if this is being used as a LibreNMS\n    agent or not. Default: 0\nzero_stats = A 0/1 boolean for if the stats file should be zeroed\n    first. Default: 0 (1 if guessed)\n</code></pre> <p>If you want to guess at the configuration, call the script with <code>-g</code> and it will print out what it thinks it should be.</p>"},{"location":"Extensions/Applications/#snmp-extend_4","title":"SNMP Extend","text":"<ol> <li> <p>Copy the bind shell script, to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/bind -O /etc/snmp/bind\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/bind\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend bind /etc/snmp/bind\n</code></pre></p> </li> <li> <p>Restart snmpd on the host in question.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_2","title":"Agent","text":"<ol> <li> <p>Install the agent on this device if it isn't already and copy the script to <code>/usr/lib/check_mk_agent/local/bind</code> via <code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/bind -O /usr/lib/check_mk_agent/local/bind</code></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /usr/lib/check_mk_agent/local/bind\n</code></pre></p> </li> <li> <p>Set the variable 'agent' to '1' in the config.</p> </li> </ol>"},{"location":"Extensions/Applications/#bird2","title":"BIRD2","text":"<p>The BIRD Internet Routing Daemon (BGP) </p> <p>Due to the lack of SNMP support in the BIRD daemon, this application extracts all configured BGP protocols and parses it into LibreNMS. This application supports both IPv4 and IPv6 Peer processing.</p>"},{"location":"Extensions/Applications/#snmp-extend_5","title":"SNMP Extend","text":"<ol> <li>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</li> </ol> <pre><code>extend bird2 '/usr/bin/sudo /usr/sbin/birdc -r show protocols all'\n</code></pre> <ol> <li>Edit your sudo users (usually <code>visudo</code>) and add at the bottom:</li> </ol> <pre><code>Debian-snmp ALL=(ALL) NOPASSWD: /usr/sbin/birdc\n</code></pre> <p>If your snmp daemon is running on a user that isnt <code>Debian-snmp</code> make sure that user has the correct permission to execute <code>birdc</code></p> <ol> <li>Verify the time format for bird2 is defined. Otherwise <code>iso short    ms</code> (hh:mm:ss) is the default value that will be used. Which is not    compatible with the datetime parsing logic used to parse the output    from the bird show command. <code>timeformat protocol</code> is the one    important to be defibned for the bird2 app parsing logic to work.</li> </ol> <p>Example starting point using Bird2 shorthand <code>iso long</code> (YYYY-MM-DD hh:mm:ss):</p> <pre><code>timeformat base iso long;\ntimeformat log iso long;\ntimeformat protocol iso long;\ntimeformat route iso long;\n</code></pre> <p>Timezone can be manually specified, example \"%F %T %z\" (YYYY-MM-DD hh:mm:ss +11:45). See the Bird 2 docs for more information</p> <ol> <li>Restart snmpd on your host</li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#certificate","title":"Certificate","text":"<p>A small python3 script that checks age and remaining validity of certificates</p> <p>This script needs following packages on Debian/Ubuntu Systems:</p> <ul> <li>python3</li> <li>python3-openssl</li> </ul> <p>Content of an example /etc/snmp/certificate.json . Please edit with your own settings. <pre><code>{\"domains\": [\n    {\"fqdn\": \"www.mydomain.com\"},\n    {\"fqdn\": \"some.otherdomain.org\",\n     \"port\": 8443},\n    {\"fqdn\": \"personal.domain.net\"},\n    {\"fqdn\": \"selfsignedcert_host.domain.com\",\n     \"cert_location\": \"/etc/pki/tls/certs/localhost.pem\"}\n]\n}\n</code></pre> a. (Required): Key 'domains' contains a list of domains to check. b. (Optional): You can define a port. By default it checks on port 443. c. (Optional): You may define a certificate location for self-signed certificates.</p>"},{"location":"Extensions/Applications/#snmp-extend_6","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script to the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/certificate.py -O /etc/snmp/certificate.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/certificate.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend certificate /etc/snmp/certificate.py\n</code></pre></p> </li> <li>Restart snmpd on your host</li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#borgbackup","title":"BorgBackup","text":""},{"location":"Extensions/Applications/#snmp-extend_7","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script to the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/borgbackup -O /etc/snmp/borgbackup\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/borgbackup\n</code></pre></p> </li> <li> <p>Install depends. <pre><code># FreeBSD\npkg p5-Config-Tiny p5-JSON p5-File-Slurp p5-MIME-Base64 p5-String-ShellQuote\n# Debian\napt-get install libconfig-tiny-perl libjson-perl libfile-slurp-perl libmime-base64-perl libstring-shellquote-perl\n# generic cpanm\ncpanm Config::Tiny File::Slurp JSON MIME::Base64 String::ShellQuote\n</code></pre></p> </li> <li> <p>Set it up in cron. <pre><code>*/5 * * * /etc/snmp/borgbackup 2&gt; /dev/null &gt; /dev/null\n</code></pre></p> </li> <li> <p>Configure it. See further down below or <code>/etc/snmp/borgbackup    --help</code>.</p> </li> <li> <p>Add the following to the SNMPD config. <pre><code>extend borgbackup /bin/cat /var/cache/borgbackup_extend/extend_return\n</code></pre></p> </li> <li> <p>Restart SNMPD and wait for the device to rediscover or tell it to    manually.</p> </li> </ol>"},{"location":"Extensions/Applications/#config","title":"Config","text":"<p>The config file is a ini file and handled by Config::Tiny.</p> <pre><code>- mode :: single or multi, for if this is a single repo or for\n        multiple repos.\n    - Default :: single\n\n- repo :: Directory for the borg backup repo.\n    - Default :: undef\n\n- passphrase :: Passphrase for the borg backup repo.\n    - Default :: undef\n\n- passcommand :: Passcommand for the borg backup repo.\n    - Default :: undef\n</code></pre> <p>For single repos all those variables are in the root section of the config, so lets the repo is at '/backup/borg' with a passphrase of '1234abc'.</p> <pre><code>repo=/backup/borg\nrepo=1234abc\n</code></pre> <p>For multi, each section outside of the root represents a repo. So if there is '/backup/borg1' with a passphrase of 'foobar' and '/backup/derp' with a passcommand of 'pass show backup' it would be like below.</p> <pre><code>mode=multi\n\n[borg1]\nrepo=/backup/borg1\npassphrase=foobar\n\n[derp]\nrepo=/backup/derp\npasscommand=pass show backup\n</code></pre> <p>If 'passphrase' and 'passcommand' are both specified, then passcommand is used.</p>"},{"location":"Extensions/Applications/#metrics","title":"Metrics","text":"<p>The metrics are all from <code>.data.totals</code> in the extend return.</p> Value Type Description errored repos Total number of repos that info could not be fetched for. locked repos Total number of locked repos locked_for seconds Longest time any repo has been locked. time_since_last_modified seconds Largest time - mtime for the repo nonce total_chunks chunks Total number of chunks total_csize bytes Total compressed size of all archives in all repos. total_size byes Total uncompressed size of all archives in all repos. total_unique_chunks chunks Total number of unique chuckes in all repos. unique_csize bytes Total deduplicated size of all archives in all repos. unique_size chunks Total number of chunks in all repos."},{"location":"Extensions/Applications/#capev2","title":"CAPEv2","text":"<ol> <li> <p>Copy the shell script to the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/cape -O /etc/snmp/cape\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/cape\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend cape /etc/snmp/cape\n</code></pre></p> </li> <li> <p>Install the required packages. <pre><code>apt-get install libfile-readbackwards-perl libjson-perl libconfig-tiny-perl libdbi-perl libfile-slurp-perl libstatistics-lite-perl\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#chip","title":"C.H.I.P","text":"<p>C.H.I.P. is a $9 R8 based tiny computer ideal for small projects. Further details: https://getchip.com/pages/chip</p> <ol> <li> <p>Copy the shell script to the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/chip.sh -O /etc/snmp/power-stat.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/power-stat.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend power-stat /etc/snmp/power-stat.sh\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#docker-stats","title":"Docker Stats","text":"<p>It gathers metrics about the docker containers, including: - cpu percentage  - memory usage  - container size - uptime  - Totals per status</p> <p>This script requires python3 and the pip module python-dateutil </p>"},{"location":"Extensions/Applications/#snmp-extend_8","title":"SNMP Extend","text":"<ol> <li> <p>Install pip module <pre><code>pip3 install python-dateutil\n</code></pre></p> </li> <li> <p>Copy the shell script to the desired host. By default, it will only show the status for containers that are running. To include all containers modify the constant in the script at the top of the file and change it to <code>ONLY_RUNNING_CONTAINERS = False</code> <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/docker-stats.py -O /etc/snmp/docker-stats.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/docker-stats.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend docker /etc/snmp/docker-stats.py\n</code></pre></p> </li> <li> <p>If your run Debian, you need to add the Debian-snmp user to the docker group <pre><code>usermod -a -G docker Debian-snmp\n</code></pre></p> </li> <li> <p>Restart snmpd on your host <pre><code>systemctl restart snmpd\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#entropy","title":"Entropy","text":"<p>A small shell script that checks your system's available random entropy.</p>"},{"location":"Extensions/Applications/#snmp-extend_9","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/entropy.sh -O /etc/snmp/entropy.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/entropy.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend entropy /etc/snmp/entropy.sh\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#exim-stats","title":"EXIM Stats","text":"<p>SNMP extend script to get your exim stats data into your host.</p>"},{"location":"Extensions/Applications/#snmp-extend_10","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/exim-stats.sh -O /etc/snmp/exim-stats.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/exim-stats.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend exim-stats /etc/snmp/exim-stats.sh\n</code></pre></p> </li> <li> <p>If you are using sudo edit your sudo users (usually <code>visudo</code>) and add at the bottom: <pre><code>snmp ALL=(ALL) NOPASSWD: /etc/snmp/exim-stats.sh, /usr/bin/exim*\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#fail2ban","title":"Fail2ban","text":""},{"location":"Extensions/Applications/#snmp-extend_11","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, fail2ban, to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/fail2ban -O /etc/snmp/fail2ban\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/fail2ban\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend fail2ban /etc/snmp/fail2ban\n</code></pre></p> <ol> <li> <p>If you want to use the cache, it is as below, by using the -c switch. <pre><code>extend fail2ban /etc/snmp/fail2ban -c\n</code></pre></p> </li> <li> <p>If you want to use the cache and update it if needed, this can by using the -c and -U switches. <pre><code>extend fail2ban /etc/snmp/fail2ban -c -U\n</code></pre></p> </li> <li> <p>If you need to specify a custom location for the fail2ban-client, that can be done via the -f switch. <pre><code>extend fail2ban /etc/snmp/fail2ban -f /foo/bin/fail2ban-client\n</code></pre> If not specified, \"/usr/bin/env fail2ban-client\" is used.</p> </li> </ol> </li> <li> <p>Restart snmpd on your host</p> </li> <li> <p>If you wish to use caching, add the following to /etc/crontab and restart cron. <pre><code>*/3    *    *    *    *    root    /etc/snmp/fail2ban -u\n</code></pre></p> </li> <li> <p>Restart or reload cron on your system.</p> </li> </ol> <p>If you have more than a few jails configured, you may need to use caching as each jail needs to be polled and fail2ban-client can't do so in a timely manner for than a few. This can result in failure of other SNMP information being polled.</p> <p>For additional details of the switches, please see the POD in the script it self at the top.</p>"},{"location":"Extensions/Applications/#freebsd-nfs-client","title":"FreeBSD NFS Client","text":""},{"location":"Extensions/Applications/#snmp-extend_12","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, fbsdnfsserver, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsclient -O /etc/snmp/fbsdnfsclient\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/fbsdnfsclient\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend fbsdnfsclient /etc/snmp/fbsdnfsclient\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#freebsd-nfs-server","title":"FreeBSD NFS Server","text":""},{"location":"Extensions/Applications/#snmp-extend_13","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, fbsdnfsserver, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsserver -O /etc/snmp/fbsdnfsserver\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/fbsdnfsserver\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend fbsdnfsserver /etc/snmp/fbsdnfsserver\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#freeradius","title":"FreeRADIUS","text":"<p>The FreeRADIUS application extension requires that status_server be enabled in your FreeRADIUS config.  For more information see: https://wiki.freeradius.org/config/Status</p> <p>You should note that status requests increment the FreeRADIUS request stats.  So LibreNMS polls will ultimately be reflected in your stats/charts.</p> <ol> <li> <p>Go to your FreeRADIUS configuration directory (usually /etc/raddb or /etc/freeradius).</p> </li> <li> <p><code>cd sites-enabled</code></p> </li> <li> <p><code>ln -s ../sites-available/status status</code></p> </li> <li> <p>Restart FreeRADIUS.</p> </li> <li> <p>You should be able to test with the radclient as follows... <pre><code>echo \"Message-Authenticator = 0x00, FreeRADIUS-Statistics-Type = 31, Response-Packet-Type = Access-Accept\" | \\\nradclient -x localhost:18121 status adminsecret\n</code></pre></p> </li> </ol> <p>Note that adminsecret is the default secret key in status_server. Change if you've modified this.</p>"},{"location":"Extensions/Applications/#snmp-extend_14","title":"SNMP Extend","text":"<ol> <li> <p>Copy the freeradius shell script, to the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/freeradius.sh -O /etc/snmp/freeradius.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/freeradius.sh\n</code></pre></p> </li> <li> <p>If you've made any changes to the FreeRADIUS status_server config (secret key, port, etc.) edit freeradius.sh and adjust the config variable accordingly.</p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend freeradius /etc/snmp/freeradius.sh\n</code></pre></p> </li> <li> <p>Restart snmpd on the host in question.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_3","title":"Agent","text":"<ol> <li> <p>Install the script to your agent <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/freeradius.sh -O /usr/lib/check_mk_agent/local/freeradius.sh`\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /usr/lib/check_mk_agent/local/freeradius.sh\n</code></pre></p> </li> <li> <p>If you've made any changes to the FreeRADIUS status_server config (secret key, port, etc.) edit freeradius.sh and adjust the config variable accordingly.</p> </li> <li> <p>Edit the freeradius.sh script and set the variable 'AGENT' to '1' in the config.</p> </li> </ol>"},{"location":"Extensions/Applications/#freeswitch","title":"Freeswitch","text":"<p>A small shell script that reports various Freeswitch call status.</p>"},{"location":"Extensions/Applications/#agent_4","title":"Agent","text":"<ol> <li> <p>Install the agent on this device if it isn't already and copy the <code>freeswitch</code> script to <code>/usr/lib/check_mk_agent/local/</code> <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/freeswitch -O /usr/lib/check_mk_agent/local/freeswitch`\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /usr/lib/check_mk_agent/local/freeswitch\n</code></pre></p> </li> <li> <p>Configure <code>FSCLI</code> in the script. You may also have to create an <code>/etc/fs_cli.conf</code> file if your <code>fs_cli</code> command requires authentication.</p> </li> <li> <p>Verify it is working by running <code>/usr/lib/check_mk_agent/local/freeswitch</code></p> </li> </ol>"},{"location":"Extensions/Applications/#snmp-extend_15","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/agent-local/freeswitch -O /etc/snmp/freeswitch\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/freeswitch\n</code></pre></p> </li> <li> <p>Configure <code>FSCLI</code> in the script. You may also have to create an <code>/etc/fs_cli.conf</code> file if your <code>fs_cli</code> command requires authentication.</p> </li> <li> <p>Verify it is working by running <code>/etc/snmp/freeswitch</code></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend freeswitch /etc/snmp/freeswitch\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#gpsd","title":"GPSD","text":""},{"location":"Extensions/Applications/#snmp-extend_16","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/gpsd -O /etc/snmp/gpsd\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/gpsd\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend gpsd /etc/snmp/gpsd\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading at the top of the page.</p>"},{"location":"Extensions/Applications/#agent_5","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>gpsd</code> script to <code>/usr/lib/check_mk_agent/local/</code></p> <p>You may need to configure <code>$server</code> or <code>$port</code>.</p> <p>Verify it is working by running <code>/usr/lib/check_mk_agent/local/gpsd</code></p>"},{"location":"Extensions/Applications/#hv-monitor","title":"HV Monitor","text":"<p>HV Monitor provides a generic way to monitor hypervisors. Currently CBSD+bhyve on FreeBSD and Libvirt+QEMU on Linux are support.</p> <p>For more information see HV::Monitor on Github or MetaCPAN.</p>"},{"location":"Extensions/Applications/#snmp-extend_17","title":"SNMP Extend","text":"<ol> <li>Install the SNMP Extend.</li> </ol> <p>For Debian based systems this is as below.</p> <pre><code>apt-get install zlib1g-dev cpanminus libjson-perl\ncpanm HV::Monitor\n</code></pre> <p>And on FreeBSD as below.</p> <pre><code>pkg install p5-App-cpanminus p5-JSON p5-MIME-Base64 p5-Gzip-Faster\ncpanm HV::Monitor\n</code></pre> <ol> <li>Set it up to be be ran by cron by root. Yes, you can directly call    this script from SNMPD, but be aware, especially with Libvirt,    there is a very real possibility of the snmpget timing out,    especially if a VM is spinning up/down as virsh domstats can block    for a few seconds or so then.</li> </ol> <pre><code>*/5 * * * * /usr/local/bin/hv_monitor &gt; /var/cache/hv_monitor.json -c 2&gt; /dev/null\n</code></pre> <ol> <li>Setup snmpd.conf as below.</li> </ol> <pre><code>extend hv-monitor /bin/cat\n/var/cache/hv_monitor.json\n</code></pre> <ol> <li> <p>Restart SNMPD.</p> </li> <li> <p>Either wait for it to be re-discovered or manually enable it.</p> </li> </ol>"},{"location":"Extensions/Applications/#icecast","title":"Icecast","text":"<p>Shell script that reports load average/memory/open-files stats of Icecast</p>"},{"location":"Extensions/Applications/#snmp-extend_18","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, icecast-stats.sh, to the desired host (the host must be added to LibreNMS devices) <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/icecast-stats.sh -O /etc/snmp/icecast-stats.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/icecast-stats.sh\n</code></pre></p> </li> <li> <p>Verify it is working by running <code>/etc/snmp/icecast-stats.sh</code></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/icecast-stats.sh</code>) and add: <pre><code>extend icecast /etc/snmp/icecast-stats.sh\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#isc-dhcp-stats","title":"ISC DHCP Stats","text":"<p>A small python3 script that reports current DHCP leases stats and pool usage of ISC DHCP Server.</p> <p>Also you have to install the dhcpd-pools and the required Perl modules. Under Ubuntu/Debian just run <code>apt install cpanminus ; cpanm Net::ISC::DHCPd::Leases Mime::Base64 File::Slurp</code> or under FreeBSD <code>pkg install p5-JSON p5-MIME-Base64 p5-App-cpanminus p5-File-Slurp ; cpanm Net::ISC::DHCPd::Leases</code>.</p>"},{"location":"Extensions/Applications/#snmp-extend_19","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/dhcp -O /etc/snmp/dhcp\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/dhcp\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code># without using cron\nextend dhcpstats /etc/snmp/dhcp -Z\n# using cron\nextend dhcpstats /bin/cat /var/cache/dhcp_extend\n</code></pre></p> </li> <li> <p>If on a slow system running it via cron may be needed. <pre><code>*/5 * * * * /etc/snmp/dhcp -Z -w /var/cache/dhcp_extend\n</code></pre></p> </li> </ol> <p>The following options are also supported.</p> Option Description <code>-c $file</code> Path to dhcpd.conf. <code>-l $file</code> Path to lease file. <code>-Z</code> Enable GZip+Base64 compression. <code>-d</code> Do not de-dup. <code>-w $file</code> File to write it out to. <ol> <li>Restart snmpd on your host</li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#logsize","title":"Logsize","text":""},{"location":"Extensions/Applications/#snmp-extend_20","title":"SNMP Extend","text":"<ol> <li>Download the script and make it executable.</li> </ol> <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/logsize -O /etc/snmp/logsize\nchmod +x /etc/snmp/logsize\n</code></pre> <ol> <li>Install the requirements.</li> </ol> <pre><code># FreeBSD\npkg install p5-File-Find-Rule p5-JSON p5-TOML p5-Time-Piece p5-MIME-Base64 p5-File-Slurp p5-Statistics-Lite\n# Debian\napt-get install cpanminus\ncpanm File::Find::Rule JSON TOML Time::Piece MIME::Base64 File::Slurp Statistics::Lite\n</code></pre> <ol> <li>Configure the config at <code>/usr/local/etc/logsize.conf</code>. You can find    the documentation for the config file in the extend. Below is a    small example.</li> </ol> <pre><code># monitor log sizes of logs directly udner /var/log\n[sets.var_log]\ndir=\"/var/log/\"\n\n# monitor remote logs from network devices\n[sets.remote_network]\ndir=\"/var/log/remote/network/\"\n\n# monitor remote logs from windows sources\n[sets.remote_windows]\ndir=\"/var/log/remote/windows/\"\n\n# monitor suricata flows logs sizes\n[sets.suricata_flows]\ndir=\"/var/log/suricata/flows/current\"\n</code></pre> <ol> <li>If the directories all readable via SNMPD, this script can be ran    via snmpd. Otherwise it needs setup in cron. Similarly is    processing a large number of files, it may also need setup in cron    if it takes the script awhile to run.</li> </ol> <pre><code>*/5 * * * * /etc/snmp/logsize -b 2&gt; /dev/null &gt; /dev/null\n</code></pre> <ol> <li>Make sure that <code>/var/cache/logsize_extend</code> exists and is writable    by the user running the extend.</li> </ol> <pre><code>mkdir -p /var/cache/logsize_extend\n</code></pre> <ol> <li>Configure it in the SNMPD config.</li> </ol> <pre><code># if not using cron\nextend logsize  /etc/snmp/logsize -b\n# if using cron\nextend logsize /bin/cat /var/cache/logsize_extend/extend_return\n</code></pre>"},{"location":"Extensions/Applications/#linux_config_files","title":"linux_config_files","text":"<p>linux_config_files is an application intended to monitor a Linux distribution's configuration files via that distribution's configuration management tool/system.  At this time, ONLY RPM-based (Fedora/RHEL) SYSTEMS ARE SUPPORTED utilizing the rpmconf tool.  The linux_config_files application collects and graphs the total count of configuration files that are out of sync and graphs that number.</p> <p>Fedora/RHEL: Rpmconf is a utility that analyzes rpm configuration files using the RPM Package Manager.  Rpmconf reports when a new configuration file standard has been issued for an upgraded/downgraded piece of software.  Typically, rpmconf is used to provide a diff of the current configuration file versus the new, standard configuration file.  The administrator can then choose to install the new configuration file or keep the old one.</p>"},{"location":"Extensions/Applications/#snmp-extend_21","title":"SNMP Extend","text":"<ol> <li> <p>Copy the python script, linux_config_files.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/linux_config_files.py -O /etc/snmp/linux_config_files.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/linux_config_files.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend linux_config_files /etc/snmp/linux_config_files.py\n</code></pre></p> </li> <li> <p>(Optional on an RPM-based distribution) Create a /etc/snmp/linux_config_files.json file and specify the following:</p> <ol> <li>\"pkg_system\" - String designating the distribution name of the system.  At the moment only \"rpm\" is supported [\"rpm\"]</li> <li>\"pkg_tool_cmd\" - String path to the package tool binary [\"/sbin/rpmconf\"] <pre><code>{\n    \"pkg_system\": \"rpm\",\n    \"pkg_tool_cmd\": \"/bin/rpmconf\",\n}\n</code></pre></li> </ol> </li> <li> <p>Restart snmpd.</p> </li> </ol>"},{"location":"Extensions/Applications/#linux-softnet-stat","title":"Linux Softnet Stat","text":""},{"location":"Extensions/Applications/#snmp-extend_22","title":"SNMP Extend","text":"<p>1: Install the depends, which on a Debian based system would be as below. <pre><code>apt-get install -y cpanminus zlib1g-dev\ncpanm File::Slurp MIME::Base64 JSON Gzip::Faster\n</code></pre></p> <ol> <li> <p>Download the script into the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/linux_softnet_stat -O /etc/snmp/linux_softnet_stat\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/linux_softnet_stat\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend linux_softnet_stat /etc/snmp/linux_softnet_stat -b\n</code></pre></p> </li> </ol> <p>Then either enable the application Linux Softnet Stat or wait for it to be re-discovered.</p>"},{"location":"Extensions/Applications/#mailcow-dockerized-postfix","title":"mailcow-dockerized postfix","text":""},{"location":"Extensions/Applications/#snmp-extend_23","title":"SNMP Extend","text":"<ol> <li> <p>Download the script into the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/mailcow-dockerized-postfix -O /etc/snmp/mailcow-dockerized-postfix\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/mailcow-dockerized-postfix\n</code></pre></p> <p>Maybe you will need to install <code>pflogsumm</code> on debian based OS. Please check if you have package installed.</p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend mailcow-postfix /etc/snmp/mailcow-dockerized-postfix\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#mailscanner","title":"Mailscanner","text":""},{"location":"Extensions/Applications/#snmp-extend_24","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/mailscanner.php -O /etc/snmp/mailscanner.php\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/mailscanner.php\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend mailscanner /etc/snmp/mailscanner.php\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#mdadm","title":"Mdadm","text":"<p>It allows you to checks mdadm health and array data</p> <p>This script require: jq</p>"},{"location":"Extensions/Applications/#snmp-extend_25","title":"SNMP Extend","text":"<ol> <li> <p>Install jq <pre><code>sudo apt install jq\n</code></pre></p> </li> <li> <p>Download the script onto the desired host. <pre><code>sudo wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/mdadm -O /etc/snmp/mdadm\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>sudo chmod +x /etc/snmp/mdadm\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend mdadm /etc/snmp/mdadm\n</code></pre></p> </li> <li> <p>Verify it is working by running <pre><code>sudo /etc/snmp/mdadm\n</code></pre></p> </li> <li> <p>Restart snmpd on your host <pre><code>sudo service snmpd restart\n</code></pre></p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#megaraid","title":"MegaRAID","text":"<p>This software from Broadcom/LSI let you monitor MegaRAID controller.</p> <ol> <li> <p>Download the external software and follow the included install instructions.</p> </li> <li> <p>Add the following line to your snmpd.conf file (usually /etc/snmp/snmpd.conf) <pre><code>pass .1.3.6.1.4.1.3582 /usr/sbin/lsi_mrdsnmpmain\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol>"},{"location":"Extensions/Applications/#memcached","title":"Memcached","text":""},{"location":"Extensions/Applications/#snmp-extend_26","title":"SNMP Extend","text":"<ol> <li> <p>Copy the memcached    script    to <code>/etc/snmp/</code> on your remote server. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/memcached -O /etc/snmp/memcached\n</code></pre></p> </li> <li> <p>Make the script executable: <pre><code>chmod +x /etc/snmp/memcached\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend memcached /etc/snmp/memcached\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#mojo-cape-submit","title":"Mojo CAPE Submit","text":""},{"location":"Extensions/Applications/#snmp","title":"SNMP","text":"<p>This assumes you've already configured mojo_cape_submit from CAPE::Utils.</p> <ol> <li>Add the following to <code>snmpd.conf</code> and restarted SNMPD <pre><code>extend mojo_cape_submit /usr/local/bin/mojo_cape_submit_extend\n</code></pre></li> </ol> <p>Then just wait for the machine in question to be rediscovered or enabled it in the device settings app page.</p>"},{"location":"Extensions/Applications/#munin","title":"Munin","text":""},{"location":"Extensions/Applications/#agent_6","title":"Agent","text":"<ol> <li> <p>Install the script to your agent: <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/munin -O /usr/lib/check_mk_agent/local/munin\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /usr/lib/check_mk_agent/local/munin\n</code></pre></p> </li> <li> <p>Create the munin scripts dir: <pre><code>mkdir -p /usr/share/munin/munin-scripts\n</code></pre></p> </li> <li> <p>Install your munin scripts into the above directory.</p> </li> </ol> <p>To create your own custom munin scripts, please see this example:</p> <pre><code>#!/bin/bash\nif [ \"$1\" = \"config\" ]; then\n    echo 'graph_title Some title'\n    echo 'graph_args --base 1000 -l 0' #not required\n    echo 'graph_vlabel Some label'\n    echo 'graph_scale no' #not required, can be yes/no\n    echo 'graph_category system' #Choose something meaningful, can be anything\n    echo 'graph_info This graph shows something awesome.' #Short desc\n    echo 'foobar.label Label for your unit' # Repeat these two lines as much as you like\n    echo 'foobar.info Desc for your unit.'\n    exit 0\nfi\necho -n \"foobar.value \" $(date +%s) #Populate a value, here unix-timestamp\n</code></pre>"},{"location":"Extensions/Applications/#mysql","title":"MySQL","text":"<p>Create the cache directory, '/var/cache/librenms/' and make sure that it is owned by the user running the SNMP daemon. <pre><code>mkdir -p /var/cache/librenms/\n</code></pre></p> <p>The MySQL script requires PHP-CLI and the PHP MySQL extension, so please verify those are installed.</p> <p>CentOS (May vary based on PHP version) <pre><code>yum install php-cli php-mysql\n</code></pre></p> <p>Debian (May vary based on PHP version) <pre><code>apt-get install php-cli php-mysql\n</code></pre></p> <p>Unlike most other scripts, the MySQL script requires a configuration file <code>mysql.cnf</code> in the same directory as the extend or agent script with following content:</p> <pre><code>&lt;?php\n$mysql_user = 'root';\n$mysql_pass = 'toor';\n$mysql_host = 'localhost';\n$mysql_port = 3306;\n</code></pre> <p>Note that depending on your MySQL installation (chrooted install for example), you may have to specify 127.0.0.1 instead of localhost. Localhost make a MySQL connection via the mysql socket, while 127.0.0.1 make a standard IP connection to mysql.</p> <p>Note also if you get a mysql error <code>Uncaught TypeError: mysqli_num_rows(): Argument #1</code>, this is because you are using a newer mysql version which doesnt support <code>UNBLOCKING</code> for slave statuses, so you need to also include the line <code>$chk_options['slave'] = false;</code> into <code>mysql.cnf</code> to skip checking slave statuses</p>"},{"location":"Extensions/Applications/#agent_7","title":"Agent","text":"<p>Install the agent on this device if it isn't already</p> <p>and copy the <code>mysql</code> script to <code>/usr/lib/check_mk_agent/local/</code></p> <p>Verify it is working by running <code>/usr/lib/check_mk_agent/local/mysql</code></p>"},{"location":"Extensions/Applications/#snmp-extend_27","title":"SNMP extend","text":"<ol> <li> <p>Copy the mysql script to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/mysql -O /etc/snmp/mysql\n</code></pre></p> </li> <li> <p>Make the file executable <pre><code>chmod +x /etc/snmp/mysql\n</code></pre></p> </li> <li> <p>Edit /etc/snmp/mysql to set your MySQL connection constants or declare them in /etc/snmp/mysql.cnf (new file)</p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend mysql /etc/snmp/mysql\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#nginx","title":"NGINX","text":"<p>NGINX is a free, open-source, high-performance HTTP server: https://www.nginx.org/</p> <p>It's required to have the following directive in your nginx configuration responsible for the localhost server: <pre><code>location /nginx-status {\n    stub_status on;\n    access_log  off;\n    allow 127.0.0.1;\n    allow ::1;\n    deny  all;\n}\n</code></pre></p>"},{"location":"Extensions/Applications/#snmp-extend_28","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/nginx -O /etc/snmp/nginx\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/nginx\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend nginx /etc/snmp/nginx\n</code></pre></p> </li> <li> <p>(Optional) If you have SELinux in Enforcing mode, you must add a module so the script can request /nginx-status: <pre><code>cat &lt;&lt; EOF &gt; snmpd_nginx.te\nmodule snmpd_nginx 1.0;\n\nrequire {\n        type httpd_t;\n        type http_port_t;\n        type snmpd_t;\n        class tcp_socket name_connect;\n}\n\n#============= snmpd_t ==============\n\nallow snmpd_t http_port_t:tcp_socket name_connect;\nEOF\ncheckmodule -M -m -o snmpd_nginx.mod snmpd_nginx.te\nsemodule_package -o snmpd_nginx.pp -m snmpd_nginx.mod\nsemodule -i snmpd_nginx.pp\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_8","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>nginx</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>"},{"location":"Extensions/Applications/#nfs-server","title":"NFS Server","text":"<p>Export the NFS stats from as server.</p>"},{"location":"Extensions/Applications/#snmp-extend_29","title":"SNMP Extend","text":"<ol> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add : <pre><code>extend nfs-server /bin/cat /proc/net/rpc/nfsd\n</code></pre></p> <p>find out where cat is located using : <code>which cat</code></p> </li> <li> <p>reload snmpd service to activate the configuration</p> </li> </ol>"},{"location":"Extensions/Applications/#ntp-client","title":"NTP Client","text":"<p>A shell script that gets stats from ntp client.</p>"},{"location":"Extensions/Applications/#snmp-extend_30","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-client -O /etc/snmp/ntp-client\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/ntp-client\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend ntp-client /etc/snmp/ntp-client\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#ntp-server-aka-ntpd","title":"NTP Server aka NTPD","text":"<p>A shell script that gets stats from ntp server (ntpd).</p>"},{"location":"Extensions/Applications/#snmp-extend_31","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-server.sh -O /etc/snmp/ntp-server.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/ntp-server.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend ntp-server /etc/snmp/ntp-server.sh\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#chronyd","title":"Chronyd","text":"<p>A shell script that gets the stats from chronyd and exports them with SNMP Extend.</p>"},{"location":"Extensions/Applications/#snmp-extend_32","title":"SNMP Extend","text":"<ol> <li> <p>Download the shell script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/chrony -O /etc/snmp/chrony\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/chrony\n</code></pre></p> </li> <li> <p>Edit the snmpd.conf file to include the extend by adding the following line to the end of the config file: <pre><code>extend chronyd /etc/snmp/chrony\n</code></pre></p> </li> </ol> <p>Note: Some distributions need sudo-permissions for the script to work with SNMP Extend. See the instructions on the section SUDO for more information.</p> <ol> <li>Restart snmpd service on the host</li> </ol> <p>Application should be auto-discovered and its stats presented on the Apps-page on the host. Note: Applications module needs to be enabled on the host or globally for the statistics to work as intended.</p>"},{"location":"Extensions/Applications/#nvidia-gpu","title":"Nvidia GPU","text":""},{"location":"Extensions/Applications/#snmp-extend_33","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, nvidia, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/nvidia -O /etc/snmp/nvidia\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/nvidia\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend nvidia /etc/snmp/nvidia\n</code></pre></p> </li> <li> <p>Restart snmpd on your host.</p> </li> <li> <p>Verify you have nvidia-smi installed, which it generally should be if you have the driver from Nvida installed.</p> </li> </ol> <p>The GPU numbering on the graphs will correspond to how the nvidia-smi sees them as being.</p> <p>For questions about what the various values are/mean, please see the nvidia-smi man file under the section covering dmon.</p>"},{"location":"Extensions/Applications/#opensearchelasticsearch","title":"Opensearch\\Elasticsearch","text":""},{"location":"Extensions/Applications/#snmp-extend_34","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/opensearch -O /etc/snmp/opensearch\n</code></pre></p> </li> <li> <p>Make it executable <pre><code>chmod +x /etc/snmp/opensearch\n</code></pre></p> </li> <li> <p>Install the required Perl dependencies. <pre><code># FreeBSD\npkg install p5-JSON p5-libwww\n# Debian/Ubuntu\napt-get install libjson-perl libwww-perl\n# cpanm\ncpanm JSON Libwww\n</code></pre></p> </li> <li> <p>Update your snmpd.conf. <pre><code>extend opensearch /bin/cat /var/cache/opensearch.json\n</code></pre></p> </li> <li> <p>Update root crontab with. This is required as it will this will likely time out otherwise. Use <code>*/1</code> if you want to have the most recent stats when polled or to <code>*/5</code> if you just want at exactly a 5 minute interval. <pre><code>*/5 * * * * /etc/snmp/opensearch &gt; /var/cache/opensearch.json\n</code></pre></p> </li> <li> <p>Enable it or wait for the device to be re-disocvered.</p> </li> </ol>"},{"location":"Extensions/Applications/#open-grid-scheduler","title":"Open Grid Scheduler","text":"<p>Shell script to track the OGS/GE jobs running on clusters.</p>"},{"location":"Extensions/Applications/#snmp-extend_35","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/rocks.sh -O /etc/snmp/rocks.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/rocks.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend ogs /etc/snmp/rocks.sh\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#opensips","title":"Opensips","text":"<p>Script that reports load-average/memory/open-files stats of Opensips</p>"},{"location":"Extensions/Applications/#snmp-extend_36","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/opensips-stats.sh -O /etc/snmp/opensips-stats.sh\n</code></pre></p> </li> <li> <p>Make the script executable: <pre><code>chmod +x /etc/snmp/opensips-stats.sh\n</code></pre></p> </li> <li> <p>Verify it is working by running <code>/etc/snmp/opensips-stats.sh</code></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend opensips /etc/snmp/opensips-stats.sh\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#os-updates","title":"OS Updates","text":"<p>A small shell script that checks your system package manager for any available updates. Supports apt-get/pacman/yum/zypper package managers.</p> <p>For pacman users automatically refreshing the database, it is recommended you use an alternative database location <code>--dbpath=/var/lib/pacman/checkupdate</code></p>"},{"location":"Extensions/Applications/#snmp-extend_37","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host. <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/osupdate -O /etc/snmp/osupdate\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/osupdate\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend osupdate /etc/snmp/osupdate\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>Note: apt-get depends on an updated package index. There are several ways to have your system run <code>apt-get update</code> automatically. The easiest is to create <code>/etc/apt/apt.conf.d/10periodic</code> and pasting the following in it: <code>APT::Periodic::Update-Package-Lists \"1\";</code>. If you have apticron, cron-apt or apt-listchanges installed and configured, chances are that packages are already updated periodically .</p> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_9","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>osupdate</code> script to <code>/usr/lib/check_mk_agent/local/</code></p> <p>Then uncomment the line towards the top marked to be uncommented if using it as a agent.</p>"},{"location":"Extensions/Applications/#php-fpm","title":"PHP-FPM","text":""},{"location":"Extensions/Applications/#snmp-extend_38","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, phpfpmsp, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/phpfpmsp -O /etc/snmp/phpfpmsp\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/phpfpmsp\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend phpfpmsp /etc/snmp/phpfpmsp\n</code></pre></p> </li> <li> <p>Edit /etc/snmp/phpfpmsp to include the status URL for the PHP-FPM    pool you are monitoring.</p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>It is worth noting that this only monitors a single pool. If you want to monitor multiple pools, this won't do it.</p> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_10","title":"Agent","text":"<p>Install the agent on this device if it isn't already  and copy the <code>phpfpmsp</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>"},{"location":"Extensions/Applications/#pi-hole","title":"Pi-hole","text":""},{"location":"Extensions/Applications/#snmp-extend_39","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, pi-hole, to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/pi-hole -O /etc/snmp/pi-hole\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/pi-hole\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend pi-hole /etc/snmp/pi-hole\n</code></pre></p> </li> <li> <p>To get all data you must get your API auth token from Pi-hole server and change the API_AUTH_KEY entry inside the snmp script.</p> </li> <li> <p>Restard snmpd.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#portactivity","title":"Portactivity","text":""},{"location":"Extensions/Applications/#snmp-extend_40","title":"SNMP Extend","text":"<ol> <li> <p>Install missing packages - Ubuntu is shown below. <pre><code>apt install libparse-netstat-perl\napt install libjson-perl\n</code></pre></p> </li> <li> <p>Copy the Perl script to the desired host (the host must be added to LibreNMS devices) <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/portactivity -O /etc/snmp/portactivity\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/portactivity\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend portactivity /etc/snmp/portactivity -p http,ldap,imap\n</code></pre></p> <p>Will monitor HTTP, LDAP, and IMAP. The -p switch specifies what ports to use. This is a comma seperated list.</p> <p>These must be found in '/etc/services' or where ever NSS is set to fetch it from. If not, it will throw an error.</p> <p>If you want to JSON returned by it to be printed in a pretty format use the -P flag.</p> </li> <li> <p>Restart snmpd on your host.</p> </li> </ol> <p>Please note that for only TCP[46] services are supported.</p>"},{"location":"Extensions/Applications/#postfix","title":"Postfix","text":""},{"location":"Extensions/Applications/#snmp-extend_41","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, postfix-queues, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfix-queues -O /etc/snmp/postfix-queues\n</code></pre></p> </li> <li> <p>Copy the Perl script, postfixdetailed, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfixdetailed -O /etc/snmp/postfixdetailed\n</code></pre></p> </li> <li> <p>Make both scripts executable <pre><code>chmod +x /etc/snmp/postfixdetailed /etc/snmp/postfix-queues\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend mailq /etc/snmp/postfix-queues\nextend postfixdetailed /etc/snmp/postfixdetailed\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> <li> <p>Install pflogsumm for your OS.</p> </li> <li> <p>Make sure the cache file in /etc/snmp/postfixdetailed is some place that snmpd can write too. This file is used for tracking changes between various values between each time it is called by snmpd. Also make sure the path for pflogsumm is correct.</p> </li> <li> <p>Run /etc/snmp/postfixdetailed to create the initial cache file so you don't end up with some crazy initial starting value. Please note that each time /etc/snmp/postfixdetailed is ran, the cache file is updated, so if this happens in between LibreNMS doing it then the values will be thrown off for that polling period.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p> <p>NOTE: If using RHEL for your postfix server, qshape must be installed manually as it is not officially supported. CentOs 6 rpms seem to work without issues.</p>"},{"location":"Extensions/Applications/#postgres","title":"Postgres","text":""},{"location":"Extensions/Applications/#snmp-extend_42","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, postgres, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/postgres -O /etc/snmp/postgres\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/postgres\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend postgres /etc/snmp/postgres\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> <li> <p>Install the Nagios check check_postgres.pl on your system: https://github.com/bucardo/check_postgres</p> </li> <li> <p>Verify the path to check_postgres.pl in /etc/snmp/postgres is correct.</p> </li> <li> <p>(Optional) If you wish to change the DB username (default: pgsql), enable the postgres DB in totalling (e.g. set ignorePG to 0, default: 1), or set a hostname for check_postgres.pl to connect to (default: the Unix Socket postgresql is running on), then create the file /etc/snmp/postgres.config with the following contents (note that not all of them need be defined, just whichever you'd like to change): <pre><code>DBuser=monitoring\nignorePG=0\nDBhost=localhost\n</code></pre></p> </li> </ol> <p>Note that if you are using netdata or the like, you may wish to set ignorePG to 1 or otherwise that total will be very skewed on systems with light or moderate usage.</p> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#powerdns","title":"PowerDNS","text":"<p>An authoritative DNS server: https://www.powerdns.com/auth.html</p>"},{"location":"Extensions/Applications/#snmp-extend_43","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, powerdns.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns.py -O /etc/snmp/powerdns.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/powerdns.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend powerdns /etc/snmp/powerdns.py\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_11","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>powerdns</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>"},{"location":"Extensions/Applications/#powerdns-recursor","title":"PowerDNS Recursor","text":"<p>A recursive DNS server: https://www.powerdns.com/recursor.html</p>"},{"location":"Extensions/Applications/#direct","title":"Direct","text":"<p>The LibreNMS polling host must be able to connect to port 8082 on the monitored device. The web-server must be enabled, see the Recursor docs: https://doc.powerdns.com/md/recursor/settings/#webserver</p>"},{"location":"Extensions/Applications/#variables","title":"Variables","text":"<p><code>$config['apps']['powerdns-recursor']['api-key']</code> required, this is defined in the Recursor config</p> <p><code>$config['apps']['powerdns-recursor']['port']</code> numeric, defines the port to connect to PowerDNS Recursor on.  The default is 8082</p> <p><code>$config['apps']['powerdns-recursor']['https']</code> true or false, defaults to use http.</p>"},{"location":"Extensions/Applications/#snmp-extend_44","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, powerdns-recursor, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-recursor -O /etc/snmp/powerdns-recursor\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/powerdns-recursor\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend powerdns-recursor /etc/snmp/powerdns-recursor\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#agent_12","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>powerdns-recursor</code> script to <code>/usr/lib/check_mk_agent/local/</code></p> <p>This script uses <code>rec_control get-all</code> to collect stats.</p>"},{"location":"Extensions/Applications/#powerdns-dnsdist","title":"PowerDNS-dnsdist","text":""},{"location":"Extensions/Applications/#snmp-extend_45","title":"SNMP Extend","text":"<ol> <li> <p>Copy the BASH script to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-dnsdist -O /etc/snmp/powerdns-dnsdist\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/powerdns-dnsdist\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend powerdns-dnsdist /etc/snmp/powerdns-dnsdist\n</code></pre></p> </li> <li> <p>Restart snmpd on your host.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#powermon","title":"PowerMon","text":"<p>PowerMon tracks the power usage on your host and can report on both consumption and cost, using a python script installed on the host.</p> <p>PowerMon consumption graph</p> <p>Currently the script uses one of two methods to determine current power usage:</p> <ul> <li> <p>ACPI via libsensors</p> </li> <li> <p>HP-Health (HP Proliant servers only)</p> </li> </ul> <p>The ACPI method is quite unreliable as it is usually only implemented by battery-powered devices, e.g. laptops. YMMV. However, it's possible to support any method as long as it can return a power value, usually in Watts.</p> <p>TIP: You can achieve this by adding a method and a function for that method to the script. It should be called by getData() and return a dictionary.</p> <p>Because the methods are unreliable for all hardware, you need to declare to the script which method to use. The are several options to assist with testing, see <code>--help</code>.</p>"},{"location":"Extensions/Applications/#snmp-extend_46","title":"SNMP Extend","text":""},{"location":"Extensions/Applications/#initial-setup","title":"Initial setup","text":"<ol> <li> <p>Download the python script onto the host: <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/powermon-snmp.py -O /usr/local/bin/powermon-snmp.py\n</code></pre></p> </li> <li> <p>Make the script executable: <pre><code>chmod +x /usr/local/bin/powermon-snmp.py\n</code></pre></p> </li> <li> <p>Edit the script and set the cost per kWh for your supply. You must uncomment this line for the script to work: <pre><code>vi /usr/local/bin/powermon-snmp.py\n#costPerkWh = 0.15\n</code></pre></p> </li> <li> <p>Choose you method below:</p> Method 1. sensorsMethod 2. hpasmcli <ul> <li> <p>Install dependencies: <pre><code>dnf install lm_sensors\npip install PySensors\n</code></pre></p> </li> <li> <p>Test the script from the command-line. For example: <pre><code>$ /usr/local/bin/powermon-snmp.py -m sensors -n -p\n{\n  \"meter\": {\n    \"0\": {\n      \"reading\": 0.0\n    }\n  },\n  \"psu\": {},\n  \"supply\": {\n    \"rate\": 0.15\n  },\n  \"reading\": \"0.0\"\n}\n</code></pre></p> </li> </ul> <p>If you see a reading of <code>0.0</code> it is likely this method is not supported for your system. If not, continue.</p> <ul> <li> <p>Obtain the hp-health package for your system. Generally there are three options:</p> <ul> <li>Standalone package from HPE Support</li> <li>From the HP Management Component Pack (MCP).</li> <li>Included in the HP Service Pack for Proliant (SPP)</li> </ul> </li> <li> <p>If you've downloaded the standalone package, install it. For example: <pre><code>rpm -ivh hp-health-10.91-1878.11.rhel8.x86_64.rpm\n</code></pre></p> </li> <li> <p>Check the service is running: <pre><code>systemctl status hp-health\n</code></pre></p> </li> <li> <p>Test the script from the command-line. For example: <pre><code>$ /usr/local/bin/powermon-snmp.py -m hpasmcli -n -p\n{\n  \"meter\": {\n    \"1\": {\n      \"reading\": 338.0\n    }\n  },\n  \"psu\": {\n    \"1\": {\n      \"present\": \"Yes\",\n      \"redundant\": \"No\",\n      \"condition\": \"Ok\",\n      \"hotplug\": \"Supported\",\n      \"reading\": 315.0\n    },\n    \"2\": {\n      \"present\": \"Yes\",\n      \"redundant\": \"No\",\n      \"condition\": \"FAILED\",\n      \"hotplug\": \"Supported\"\n    }\n  },\n  \"supply\": {\n    \"rate\": 0.224931\n  },\n  \"reading\": 338.0\n}\n</code></pre></p> </li> </ul> <p>If you see a reading of <code>0.0</code> it is likely this method is not supported for your system. If not, continue.</p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add the following: <pre><code>extend  powermon   /usr/local/bin/powermon-snmp.py -m hpasmcli\n</code></pre></p> <p>NOTE: Avoid using other script options in the snmpd config as the results may not be interpreted correctly by LibreNMS.</p> </li> <li> <p>Reload your snmpd service: <pre><code>systemctl reload snmpd\n</code></pre></p> </li> <li> <p>You're now ready to enable the application in LibreNMS.</p> </li> </ol>"},{"location":"Extensions/Applications/#finishing-up","title":"Finishing Up","text":""},{"location":"Extensions/Applications/#privoxy","title":"Privoxy","text":"<p>For this to work, the following log items need enabled for Privoxy.</p> <pre><code>debug     2 # show each connection status\ndebug   512 # Common Log Format\ndebug  1024 # Log the destination for requests Privoxy didn't let through, and the reason why.\ndebug  4096 # Startup banner and warnings\ndebug  8192 # Non-fatal errors\n</code></pre>"},{"location":"Extensions/Applications/#snmp-extend_47","title":"SNMP Extend","text":"<ol> <li> <p>Download the extend and make sure it is executable. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/privoxy -O /etc/snmp/privoxy\nchmod +x /etc/snmp/privoxy\n</code></pre></p> </li> <li> <p>Install the depdenencies. <pre><code># FreeBSD\npkg install p5-File-ReadBackwards p5-Time-Piece p5-JSON p5-IPC-Run3 p5-Gzip-Faster p5-MIME-Base64\n# Debian\napt-get install cpanminus zlib1g\ncpanm File::ReadBackwards Time::Piece JSON IPC::Run3 MIME::Base64 Gzip::Faster\n</code></pre></p> </li> <li> <p>Add the extend to snmpd.conf and restart snmpd. <pre><code>extend privoxy /etc/snmp/privoxy\n</code></pre></p> </li> </ol> <p>If your logfile is not at <code>/var/log/privoxy/logfile</code>, that may be changed via the <code>-f</code> option.</p> <p>If <code>privoxy-log-parser.pl</code> is not found in your standard <code>$PATH</code> setting, you may will need up call the extend via <code>/usr/bin/env</code> with a <code>$PATH</code> set to something that includes it.</p> <p>Once that is done, just wait for the server to be rediscovered or just enable it manually.</p>"},{"location":"Extensions/Applications/#pwrstatd","title":"Pwrstatd","text":"<p>Pwrstatd (commonly known as powerpanel) is an application/service available from CyberPower to monitor their PSUs over USB.  It is currently capable of reading the status of only one PSU connected via USB at a time.  The powerpanel software is available here: https://www.cyberpowersystems.com/products/software/power-panel-personal/</p>"},{"location":"Extensions/Applications/#snmp-extend_48","title":"SNMP Extend","text":"<ol> <li> <p>Copy the python script, pwrstatd.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/pwrstatd.py -O /etc/snmp/pwrstatd.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/pwrstatd.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend pwrstatd /etc/snmp/pwrstatd.py\n</code></pre></p> </li> <li> <p>(Optional) Create a /etc/snmp/pwrstatd.json file and specify the path to the pwrstat executable [the default path is /sbin/pwrstat]: <pre><code>{\n    \"pwrstat_cmd\": \"/sbin/pwrstat\"\n}\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> </ol>"},{"location":"Extensions/Applications/#proxmox","title":"Proxmox","text":"<ol> <li> <p>For Proxmox 4.4+ install the libpve-apiclient-perl package <pre><code>apt install libpve-apiclient-perl\n</code></pre></p> </li> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/proxmox -O /usr/local/bin/proxmox\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /usr/local/bin/proxmox\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend proxmox /usr/local/bin/proxmox\n</code></pre></p> </li> <li> <p>Note: if your snmpd doesn't run as root, you might have to invoke    the script using sudo and modify the \"extend\" line</p> </li> </ol> <pre><code>extend proxmox /usr/bin/sudo /usr/local/bin/proxmox\n</code></pre> <p>after, edit your sudo users (usually <code>visudo</code>) and add at the bottom:</p> <pre><code>Debian-snmp ALL=(ALL) NOPASSWD: /usr/local/bin/proxmox\n</code></pre> <ol> <li>Restart snmpd on your host</li> </ol>"},{"location":"Extensions/Applications/#puppet-agent","title":"Puppet Agent","text":"<p>SNMP extend script to get your Puppet Agent data into your host.</p>"},{"location":"Extensions/Applications/#snmp-extend_49","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/puppet_agent.py -O /etc/snmp/puppet_agent.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/puppet_agent.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend puppet-agent /etc/snmp/puppet_agent.py\n</code></pre></p> </li> </ol> <p>The Script needs <code>python3-yaml</code> package to be installed.</p> <p>Per default script searches for on of this files:</p> <ul> <li>/var/cache/puppet/state/last_run_summary.yaml</li> <li>/opt/puppetlabs/puppet/cache/state/last_run_summary.yaml</li> </ul> <p>optionally you can add a specific summary file with creating <code>/etc/snmp/puppet.json</code> <pre><code>{\n     \"agent\": {\n        \"summary_file\": \"/my/custom/path/to/summary_file\"\n     }\n}\n</code></pre> custom summary file has highest priority</p> <ol> <li>Restart snmpd on the host</li> </ol>"},{"location":"Extensions/Applications/#pureftpd","title":"PureFTPd","text":"<p>SNMP extend script to monitor PureFTPd.</p>"},{"location":"Extensions/Applications/#snmp-extend_50","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/pureftpd.py -O /etc/snmp/pureftpd.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/pureftpd.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend pureftpd sudo /etc/snmp/pureftpd.py\n</code></pre></p> </li> <li> <p>Edit your sudo users (usually <code>visudo</code>) and add at the bottom: <pre><code>snmp ALL=(ALL) NOPASSWD: /etc/snmp/pureftpd.py\n</code></pre> or the path where your pure-ftpwho is located</p> </li> <li> <p>If pure-ftpwho is not located in /usr/sbin</p> </li> </ol> <p>you will also need to create a config file, which is named</p> <p>pureftpd.json. The file has to be located in /etc/snmp/.</p> <pre><code>{\"pureftpwho_cmd\": \"/usr/sbin/pure-ftpwho\"\n}\n</code></pre> <ol> <li>Restart snmpd on your host</li> </ol>"},{"location":"Extensions/Applications/#raspberry-pi","title":"Raspberry PI","text":"<p>SNMP extend script to get your PI data into your host.</p>"},{"location":"Extensions/Applications/#snmp-extend_51","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/raspberry.sh -O /etc/snmp/raspberry.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/raspberry.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend raspberry /usr/bin/sudo /bin/sh /etc/snmp/raspberry.sh\n</code></pre></p> </li> <li> <p>Edit your sudo users (usually <code>visudo</code>) and add at the bottom: <pre><code>snmp ALL=(ALL) NOPASSWD: /bin/sh /etc/snmp/raspberry.sh\n</code></pre></p> </li> </ol> <p>Note: If you are using Raspian, the default user is <code>Debian-snmp</code>. Change <code>snmp</code> above to <code>Debian-snmp</code>. You can verify the user snmpd is using with <code>ps aux | grep snmpd</code></p> <ol> <li>Restart snmpd on PI host</li> </ol>"},{"location":"Extensions/Applications/#raspberry-pi-gpio-monitor","title":"Raspberry Pi GPIO Monitor","text":"<p>SNMP extend script to monitor your IO pins or sensor modules connected to your GPIO header.</p>"},{"location":"Extensions/Applications/#snmp-extend_52","title":"SNMP Extend","text":"<p>1: Make sure you have wiringpi installed on your Raspberry Pi. In Debian-based systems for example you can achieve this by issuing:</p> <pre><code>apt-get install wiringpi\n</code></pre> <p>2: Download the script to your Raspberry Pi. <code>wget    https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/rpigpiomonitor.php    -O /etc/snmp/rpigpiomonitor.php</code></p> <p>3: (optional) Download the example configuration to your Raspberry Pi. <code>wget    https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/rpigpiomonitor.ini    -O /etc/snmp/rpigpiomonitor.ini</code></p> <p>4: Make the script executable: <code>chmod +x /etc/snmp/rpigpiomonitor.php</code></p> <p>5: Create or edit your rpigpiomonitor.ini file according to your needs.</p> <p>6: Check your configuration with <code>rpigpiomonitor.php -validate</code></p> <p>7: Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add:</p> <pre><code>extend rpigpiomonitor /etc/snmp/rpigpiomonitor.php\n</code></pre> <p>8: Restart snmpd on your Raspberry Pi and, if your Raspberry Pi is already present in LibreNMS, perform a manual rediscover.</p>"},{"location":"Extensions/Applications/#redis","title":"Redis","text":"<p>Script to monitor your Redis Server</p>"},{"location":"Extensions/Applications/#snmp-extend_53","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/redis.py -O /etc/snmp/redis.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/redis.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend redis /etc/snmp/redis.py\n</code></pre></p> </li> <li> <p>(Optional) If you have SELinux in Enforcing mode, you must add a module so the script can get redis informations and write them: <pre><code>cat &lt;&lt; EOF &gt; snmpd_redis.te\nmodule snmpd_redis 1.0;\n\nrequire {\n        type tmp_t;\n        type redis_port_t;\n        type snmpd_t;\n        class tcp_socket name_connect;\n        class dir { add_name write };\n}\n\n#============= snmpd_t ==============\n\nallow snmpd_t redis_port_t:tcp_socket name_connect;\nallow snmpd_t tmp_t:dir { write add_name };\nEOF\ncheckmodule -M -m -o snmpd_redis.mod snmpd_redis.te\nsemodule_package -o snmpd_redis.pp -m snmpd_redis.mod\nsemodule -i snmpd_redis.pp\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#agent_13","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>redis</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>"},{"location":"Extensions/Applications/#rrdcached","title":"RRDCached","text":"<p>Install/Setup: For Install/Setup Local Librenms RRDCached: Please see RRDCached</p> <p>Will collect stats by: 1. Connecting directly to the associated device on port 42217 2. Monitor thru snmp with SNMP extend, as outlined below 3. Connecting to the rrdcached server specified by the <code>rrdcached</code> setting</p> <p>SNMP extend script to monitor your (remote) RRDCached via snmp</p>"},{"location":"Extensions/Applications/#snmp-extend_54","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/rrdcached -O /etc/snmp/rrdcached\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/rrdcached\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add: <pre><code>extend rrdcached /etc/snmp/rrdcached\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#sdfs-info","title":"SDFS info","text":"<p>A small shell script that exportfs SDFS volume info.</p>"},{"location":"Extensions/Applications/#snmp-extend_55","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/sdfsinfo -O /etc/snmp/sdfsinfo\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/sdfsinfo\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend sdfsinfo /etc/snmp/sdfsinfo\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#seafile","title":"Seafile","text":"<p>SNMP extend script to monitor your Seafile Server</p>"},{"location":"Extensions/Applications/#snmp-extend_56","title":"SNMP Extend","text":"<ol> <li>Copy the Python script, seafile.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/seafile.py -O /etc/snmp/seafile.py\n</code></pre></li> </ol> <p>Also you have to install the requests Package for Python3. Under Ubuntu/Debian just run <code>apt install python3-requests</code></p> <ol> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/seafile.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend seafile /etc/snmp/seafile.py\n</code></pre></p> </li> <li> <p>You will also need to create the config file, which is named seafile.json . The script has to be located at /etc/snmp/. <pre><code>{\"url\": \"https://seafile.mydomain.org\",\n \"username\": \"some_admin_login@mail.address\",\n \"password\": \"password\",\n \"account_identifier\": \"name\"\n \"hide_monitoring_account\": true\n}\n</code></pre></p> </li> </ol> <p>The variables are as below.</p> <pre><code>url = Url how to get access to Seafile Server\nusername = Login to Seafile Server.\n           It is important that used Login has admin privileges.\n           Otherwise most API calls will be denied.\npassword = Password to the configured login.\naccount_identifier = Defines how user accounts are listed in RRD Graph.\n                     Options are: name, email\nhide_monitoring_account = With this Boolean you can hide the Account which you\n                          use to access Seafile API\n</code></pre> <p>Note:It is recommended to use a dedicated Administrator account for monitoring.</p>"},{"location":"Extensions/Applications/#smart","title":"SMART","text":""},{"location":"Extensions/Applications/#snmp-extend_57","title":"SNMP Extend","text":"<ol> <li> <p>Copy the Perl script, smart, to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/smart-v1 -O /etc/snmp/smart\n</code></pre></p> </li> <li> <p>Install the depends. <pre><code># FreeBSD\npkg install p5-JSON p5-MIME-Base64 smartmontools\n# Debian\napt-get install cpanminus smartmontools\ncpanm MIME::Base64 JSON\n# CentOS\ndnf install smartmontools perl-JSON perl-MIME-Base64\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/smart\n</code></pre></p> </li> <li> <p>Setup a cronjob to run it. This ensures slow to poll disks won't    result in errors.</p> </li> </ol> <pre><code> */5 * * * * /etc/snmp/smart -u -Z\n</code></pre> <ol> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend smart /bin/cat /var/cache/smart\n</code></pre></p> </li> <li> <p>You will also need to create the config file, which defaults to the same path as the script, but with .config appended. So if the script is located at /etc/snmp/smart, the config file will be <code>/etc/snmp/smart.config</code>. Alternatively you can also specific a config via <code>-c</code>.</p> </li> </ol> <p>Anything starting with a # is comment. The format for variables is $variable=$value. Empty lines are ignored. Spaces and tabes at either the start or end of a line are ignored. Any line with out a matched variable or # are treated as a disk.</p> <pre><code>#This is a comment\ncache=/var/cache/smart\nsmartctl=/usr/bin/env smartctl\nuseSN=1\nada0\nada1\nda5 /dev/da5 -d sat\ntwl0,0 /dev/twl0 -d 3ware,0\ntwl0,1 /dev/twl0 -d 3ware,1\ntwl0,2 /dev/twl0 -d 3ware,2\n</code></pre> <p>The variables are as below.</p> <pre><code>cache = The path to the cache file to use. Default: /var/cache/smart\nsmartctl = The path to use for smartctl. Default: /usr/bin/env smartctl\nuseSN = If set to 1, it will use the disks SN for reporting instead of the device name.\n        1 is the default. 0 will use the device name.\n</code></pre> <p>A disk line is can be as simple as just a disk name under /dev/. Such as in the config above The line \"ada0\" would resolve to \"/dev/ada0\" and would be called with no special argument. If a line has a space in it, everything before the space is treated as the disk name and is what used for reporting and everything after that is used as the argument to be passed to smartctl.</p> <p>If you want to guess at the configuration, call it with -g and it will print out what it thinks it should be.</p> <ol> <li>Restart snmpd on your host</li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p> <ol> <li>Optionally setup nightly self tests for the disks. The exend will    run the specified test on all configured disks if called with the    -t flag and the name of the SMART test to run.</li> </ol> <pre><code> 0 0 * * * /etc/snmp/smart -t long\n</code></pre>"},{"location":"Extensions/Applications/#sneck","title":"Sneck","text":"<p>This is for replacing Nagios/Icinga or the LibreNMS service integration in regards to NRPE. This allows LibreNMS to query what checks were ran on the server and keep track of totals of OK, WARNING, CRITICAL, and UNKNOWN statuses.</p> <p>The big advantage over this compared to a NRPE are as below.</p> <ul> <li>It does not need to know what checks are configured on it.</li> <li>Also does not need to wait for the tests to run as sneck is meant to   be ran via cron and the then return the cache when queried via SNMP,   meaning a lot faster response time, especially if slow checks are   being performed.</li> <li>Works over proxied SNMP connections.</li> </ul> <p>Included are alert examples. Although for setting up custom ones, the metrics below are provided.</p> Metric Description ok Total OK checks warning Total WARNING checks critical Total CRITICAL checks unknown Total UNKNOWN checks errored Total checks that errored time_to_polling Differnce in seconds between when polling data was generated and when polled time_to_polling_abs The absolute value of time_to_polling. check_$CHECK Exit status of a specific check <code>$CHECK</code> is equal to the name of the check in question. So <code>foo</code> would be <code>check_foo</code> <p>The standard Nagios/Icinga style exit codes are used and those are as below.</p> Exit Meaning 0 okay 1 warning 2 critical 3+ unknown <p>To use <code>time_to_polling</code>, it will need to enabled via setting the config item below. The default is false. Unless set to true, this value will default to 0. If enabling this, one will want to make sure that NTP is in use every were or it will alert if it goes over a difference of 540s.</p> <pre><code>lnms config:set app.sneck.polling_time_diff true\n</code></pre> <p>For more information on Sneck, check it out at MetaCPAN or Github.</p> <p>For poking systems using Sneck, also check out boop_snoot if one wants to query those systems via the CLI. Docs on it at MetaCPAN and Github.</p>"},{"location":"Extensions/Applications/#snmp-extend_58","title":"SNMP Extend","text":"<ol> <li>Install the extend.</li> </ol> <pre><code># FreeBSD\npkg install p5-JSON p5-File-Slurp p5-MIME-Base64 p5-Gzip-Faster p5-App-cpanminus\ncpanm Monitoring::Sneck\n# Debian based systems\napt-get install zlib1g-dev cpanminus\ncpanm Monitoring::Sneck\n</code></pre> <ol> <li> <p>Configure any of the checks you want to run in    <code>/usr/local/etc/sneck.conf</code>. You con find it documented    here.</p> </li> <li> <p>Set it up in cron. This will mean you don't need to wait for all    the checks to complete when polled via SNMP, which for like SMART    or other long running checks will mean it timing out. Also means it    does not need called via sudo as well.</p> </li> </ol> <pre><code>*/5 * * * * /usr/bin/env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin /usr/local/bin/sneck -u 2&gt; /dev/null &gt; /dev/null\n</code></pre> <ol> <li>Set it up in the snmpd config and restart snmpd. The <code>-c</code> flag will    tell read it to read from cache instead of rerunning the checks.</li> </ol> <pre><code>extend sneck /usr/bin/env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin /usr/local/bin/sneck -c\n</code></pre> <ol> <li>In LibreNMS, enable the application for the server in question or wait for auto    discovery to find it.</li> </ol>"},{"location":"Extensions/Applications/#squid","title":"Squid","text":""},{"location":"Extensions/Applications/#snmp-proxy","title":"SNMP Proxy","text":"<ol> <li> <p>Enable SNMP for Squid like below, if you have not already, and restart it. <pre><code>acl snmppublic snmp_community public\nsnmp_port 3401\nsnmp_access allow snmppublic localhost\nsnmp_access deny all\n</code></pre></p> </li> <li> <p>Restart squid on your host.</p> </li> <li> <p>Edit your snmpd.conf file and add, making sure you have the same community, host, and port as above: <pre><code>proxy -v 2c -Cc -c public 127.0.0.1:3401 1.3.6.1.4.1.3495\n</code></pre></p> </li> </ol> <p>For more advanced information on Squid and SNMP or setting up proxying for net-snmp, please see the links below.</p> <p>http://wiki.squid-cache.org/Features/Snmp http://www.net-snmp.org/wiki/index.php/Snmpd_proxy</p>"},{"location":"Extensions/Applications/#supervisord","title":"Supervisord","text":"<p>It shows you the totals per status and also the uptime per process. That way you can add alerts for instance when there are process in state <code>FATAL</code>.</p>"},{"location":"Extensions/Applications/#snmp-extend_59","title":"SNMP Extend","text":"<ol> <li> <p>Copy the python script to the desired host. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/supervisord.py -O /etc/snmp/supervisord.py\n</code></pre> Notice that this will use the default unix socket path. Modify the <code>unix_socket_path</code> variable in the script if your path differs from the default.</p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/supervisord.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend supervisord /etc/snmp/supervisord.py\n</code></pre></p> </li> <li> <p>Restart snmpd on your host <pre><code>systemctl restart snmpd\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#sagan","title":"Sagan","text":"<p>For metrics the stats are migrated as below from the stats JSON.</p> <p><code>f_drop_percent</code> and <code>drop_percent</code> are computed based on the found data.</p> Instance Key Stats JSON Key uptime .stats.uptime total .stats.captured.total drop .stats.captured.drop ignore .stats.captured.ignore threshold .stats.captured.theshold after .stats.captured.after match .stats.captured.match bytes .stats.captured.bytes_total bytes_ignored .stats.captured.bytes_ignored max_bytes_log_line .stats.captured.max_bytes_log_line eps .stats.captured.eps f_total .stats.flow.total f_dropped .stats.flow.dropped <p>Those keys are appended with the name of the instance running with <code>_</code> between the instance name and instance metric key. So <code>uptime</code> for <code>ids</code> would be <code>ids_uptime</code>.</p> <p>The default is named 'ids' unless otherwise specified via the extend.</p> <p>There is a special instance name of <code>.total</code> which is the total of all the instances. So if you want the total eps, the metric would be <code>.total_eps</code>. Also worth noting that the alert value is the highest one found among all the instances.</p>"},{"location":"Extensions/Applications/#snmp-extend_60","title":"SNMP Extend","text":"<ol> <li> <p>Install the extend. <pre><code>cpanm Sagan::Monitoring\n</code></pre></p> </li> <li> <p>Setup cron. Below is a example. <pre><code>*/5 * * * * /usr/local/bin/sagan_stat_check &gt; /dev/null\n</code></pre></p> </li> <li> <p>Configure snmpd.conf <pre><code>extend sagan-stats /usr/bin/env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin sagan_stat_check -c\n</code></pre></p> </li> <li> <p>Restart snmpd on your system.</p> </li> </ol> <p>You will want to make sure that sagan is setup to with the values set below for stats-json processor, for a single instance setup..</p> <pre><code>enabled: yes\ntime: 300\nsubtract_old_values: true\nfilename: \"$LOG_PATH/stats.json\"\n</code></pre> <p>Any configuration of sagan_stat_check should be done in the cron setup. If the default does not work, check the docs for it at MetaCPAN for sagan_stat_check</p>"},{"location":"Extensions/Applications/#socket-statistics-ss","title":"Socket Statistics (ss)","text":"<p>The Socket Statistics application polls ss and scrapes socket statuses.  Individual sockets and address-families may be filtered out within the script's optional configuration JSON file.</p> <ol> <li> <p>The following socket types are polled directly.  Filtering a socket type will disable direct polling as-well-as indirect polling within any address-families that list the socket type as their child: <pre><code>dccp (also exists within address-families \"inet\" and \"inet6\")\nmptcp (also exists within address-families \"inet\" and \"inet6\")\nraw (also exists within address-families \"inet\" and \"inet6\")\nsctp (also exists within address-families \"inet\" and \"inet6\")\ntcp (also exists within address-families \"inet\" and \"inet6\")\nudp (also exists within address-families \"inet\" and \"inet6\")\nxdp\n</code></pre></p> </li> <li> <p>The following socket types are polled within an address-family only: <pre><code>inet6 (within address-family \"inet6\")\np_dgr (within address-family \"link\")\np_raw (within address-family \"link\")\nti_dg (within address-family \"tipc\")\nti_rd (within address-family \"tipc\")\nti_sq (within address-family \"tipc\")\nti_st (within address-family \"tipc\")\nv_dgr (within address-family \"vsock\")\nv_str (within address-family \"vsock\")\nunknown (within address-families \"inet\", \"inet6\", \"link\", \"tipc\", and \"vsock\")\n</code></pre></p> </li> <li> <p>The following address-families are polled directly and have their child socket types tab-indented below them.  Filtering a socket type (see \"1\" above) will filter it from the address-family.  Filtering an address-family will filter out all of its child socket types.  However, if those socket types are not DIRECTLY filtered out (see \"1\" above), then they will continue to be monitored either directly or within other address-families in which they exist: <pre><code>inet\n    dccp\n    mptcp\n    raw\n    sctp\n    tcp\n    udp\n    unknown\ninet6\n    dccp\n    icmp6\n    mptcp\n    raw\n    sctp\n    tcp\n    udp\n    unknown\nlink\n    p_dgr\n    p_raw\n    unknown\nnetlink\ntipc\n    ti_dg\n    ti_rd\n    ti_sq\n    ti_st\n    unknown\nunix\n    u_dgr\n    u_seq\n    u_str\nvsock\n    v_dgr\n    v_str\n    unknown\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#snmp-extend_61","title":"SNMP Extend","text":"<ol> <li> <p>Copy the python script, ss.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/ss.py -O /etc/snmp/ss.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/ss.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend ss /etc/snmp/ss.py\n</code></pre></p> </li> <li> <p>(Optional) Create a /etc/snmp/ss.json file and specify:</p> <ol> <li>\"ss_cmd\" - String path to the ss binary: [\"/sbin/ss\"]</li> <li>\"socket_types\" - A comma-delimited list of socket types to include.  The following socket types are valid: dccp, icmp6, mptcp, p_dgr, p_raw, raw, sctp, tcp, ti_dg, ti_rd, ti_sq, ti_st, u_dgr, u_seq, u_str, udp, unknown, v_dgr, v_dgr, xdp.  Please note that the \"unknown\" socket type is represented in /sbin/ss output with the netid \"???\".  Please also note that the p_dgr and p_raw socket types are specific to the \"link\" address family; the ti_dg, ti_rd, ti_sq, and ti_st socket types are specific to the \"tipc\" address family; the u_dgr, u_seq, and u_str socket types are specific to the \"unix\" address family; and the v_dgr and v_str socket types are specific to the \"vsock\" address family.  Filtering out the parent address families for the aforementioned will also filter out their specific socket types.  Specifying \"all\" includes all of the socket types.  For example: to include only tcp, udp, icmp6 sockets, you would specify \"tcp,udp,icmp6\": [\"all\"]</li> <li>\"addr_families\" - A comma-delimited list of address families to include.  The following families are valid: inet, inet6, link, netlink, tipc, unix, vsock.  As mentioned above under (b), filtering out the link, tipc, unix, or vsock address families will also filter out their respective socket types.  Specifying \"all\" includes all of the families.  For example: to include only inet and inet6 families, you would specify \"inet,inet6\": [\"all\"] <pre><code>{\n    \"ss_cmd\": \"/sbin/ss\",\n    \"socket_types\": \"all\"\n    \"addr_families\": \"all\"\n}\n</code></pre> In order to filter out uncommon/unused socket types, the following JSON configuration is recommended: <pre><code>{\n    \"ss_cmd\": \"/sbin/ss\",\n    \"socket_types\": \"icmp6,p_dgr,p_raw,raw,tcp,u_dgr,u_seq,u_str,udp\",\n    \"addr_families\": \"inet,inet6,link,netlink,unix\"\n}\n</code></pre></li> </ol> </li> <li> <p>(Optional) If SELinux is in Enforcing mode, you must add a module so the script can poll sockets: <pre><code>cat &lt;&lt; EOF &gt; snmpd_ss.te\nmodule snmp_ss 1.0;\n\nrequire {\n    type snmpd_t;\n    class netlink_tcpdiag_socket { bind create getattr nlmsg_read read setopt write };\n}\n\n#============= snmpd_t ==============\n\nallow snmpd_t self:netlink_tcpdiag_socket { bind create getattr nlmsg_read read setopt write };\nEOF\ncheckmodule -M -m -o snmpd_ss.mod snmpd_ss.te\nsemodule_package -o snmpd_ss.pp -m snmpd_ss.mod\nsemodule -i snmpd_ss.pp\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> </ol>"},{"location":"Extensions/Applications/#suricata","title":"Suricata","text":""},{"location":"Extensions/Applications/#snmp-extend_62","title":"SNMP Extend","text":"<ol> <li> <p>Install the extend. <pre><code>cpanm Suricata::Monitoring\n</code></pre></p> </li> <li> <p>Setup cron. Below is a example. <pre><code>*/5 * * * * /usr/local/bin/suricata_stat_check &gt; /dev/null\n</code></pre></p> </li> <li> <p>Configure snmpd.conf <pre><code>extend suricata-stats /usr/bin/env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin suricata_stat_check -c\n</code></pre></p> </li> </ol> <p>Or if you want to use try compressing the return via Base64+GZIP...</p> <pre><code>extend suricata-stats /usr/bin/env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin suricata_stat_check -c -b\n</code></pre> <ol> <li>Restart snmpd on your system.</li> </ol> <p>You will want to make sure Suricata is set to output the stats to the eve file once a minute. This will help make sure that it won't be to far back in the file and will make sure it is recent when the cronjob runs.</p> <p>Any configuration of suricata_stat_check should be done in the cron setup. If the default does not work, check the docs for it at MetaCPAN for suricata_stat_check</p>"},{"location":"Extensions/Applications/#suricata-extract","title":"Suricata Extract","text":""},{"location":"Extensions/Applications/#snmp_1","title":"SNMP","text":"<ol> <li>Add the following to your snmpd config and restart. Path may have to be adjusted depending on where <code>suricata_extract_submit_extend</code> is installed to. <pre><code>extend suricata_extract /usr/local/bin/suricata_extract_submit_extend\n</code></pre></li> </ol> <p>Then just wait for the system to be rediscovered or enable it manually for the server in question.</p>"},{"location":"Extensions/Applications/#systemd","title":"Systemd","text":"<p>The systemd application polls systemd and scrapes systemd units' load, activation, and sub states.</p>"},{"location":"Extensions/Applications/#snmp-extend_63","title":"SNMP Extend","text":"<ol> <li> <p>Copy the python script, systemd.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/systemd.py -O /etc/snmp/systemd.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/systemd.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend systemd /etc/snmp/systemd.py\n</code></pre></p> </li> <li> <p>(Optional) Create a /etc/snmp/systemd.json file and specify:</p> <ol> <li>\"systemctl_cmd\" - String path to the systemctl binary [Default: \"/usr/bin/systemctl\"]</li> <li>\"include_inactive_units\" - True/False string to include inactive units in results [Default: \"False\"] <pre><code>{\n    \"systemctl_cmd\": \"/bin/systemctl\",\n    \"include_inactive_units\": \"True\"\n}\n</code></pre></li> </ol> </li> <li> <p>(Optional) If you have SELinux in Enforcing mode, you must add a module so the script can access systemd state: <pre><code>cat &lt;&lt; EOF &gt; snmpd_systemctl.te\nmodule snmpd_systemctl 1.0;\n\nrequire {\n        type snmpd_t;\n        type systemd_systemctl_exec_t;\n        type init_t;\n        class file { execute execute_no_trans map open read };\n        class unix_stream_socket connectto;\n        class system status;\n}\n\n#============= snmpd_t ==============\nallow snmpd_t init_t:system status;\nallow snmpd_t init_t:unix_stream_socket connectto;\nallow snmpd_t systemd_systemctl_exec_t:file { execute execute_no_trans map open read };\nEOF\ncheckmodule -M -m -o snmpd_systemctl.mod snmpd_systemctl.te\nsemodule_package -o snmpd_systemctl.pp -m snmpd_systemctl.mod\nsemodule -i snmpd_systemctl.pp\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> </ol>"},{"location":"Extensions/Applications/#tinydns-aka-djbdns","title":"TinyDNS aka djbdns","text":""},{"location":"Extensions/Applications/#agent_14","title":"Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>tinydns</code> script to <code>/usr/lib/check_mk_agent/local/</code></p> <p>Note: We assume that you use DJB's Daemontools to start/stop tinydns. And that your tinydns instance is located in <code>/service/dns</code>, adjust this path if necessary.</p> <ol> <li> <p>Replace your log's <code>run</code> file, typically located in    <code>/service/dns/log/run</code> with: <pre><code>#!/bin/sh\nexec setuidgid dnslog tinystats ./main/tinystats/ multilog t n3 s250000 ./main/\n</code></pre></p> </li> <li> <p>Create tinystats directory and chown: <pre><code>mkdir /service/dns/log/main/tinystats\nchown dnslog:nofiles /service/dns/log/main/tinystats\n</code></pre></p> </li> <li> <p>Restart TinyDNS and Daemontools: <code>/etc/init.d/svscan restart</code> Note: Some say <code>svc -t /service/dns</code> is enough, on my install    (Gentoo) it doesn't rehook the logging and I'm forced to restart it    entirely.</p> </li> </ol>"},{"location":"Extensions/Applications/#unbound","title":"Unbound","text":"<p>Unbound configuration:</p> <pre><code># Enable extended statistics.\nserver:\n        extended-statistics: yes\n        statistics-cumulative: yes\n\nremote-control:\n        control-enable: yes\n        control-interface: 127.0.0.1\n</code></pre> <p>Restart your unbound after changing the configuration, verify it is working by running <code>unbound-control stats</code>.</p>"},{"location":"Extensions/Applications/#option-1-snmp-extend-preferred-and-easiest-method","title":"Option 1. SNMP Extend (Preferred and easiest method)","text":"<ol> <li> <p>Copy the shell script, unbound, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/unbound -O /etc/snmp/unbound\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/unbound\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend unbound /usr/bin/sudo /etc/snmp/unbound\n</code></pre></p> </li> <li> <p>Restart snmpd.</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#option-2-agent","title":"Option 2. Agent","text":"<p>Install the agent on this device if it isn't already and copy the <code>unbound.sh</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>"},{"location":"Extensions/Applications/#ups-nut","title":"UPS-nut","text":"<p>A small shell script that exports nut ups status.</p>"},{"location":"Extensions/Applications/#snmp-extend_64","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, unbound, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/ups-nut.sh -O /etc/snmp/ups-nut.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/ups-nut.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend ups-nut /etc/snmp/ups-nut.sh\n</code></pre></p> </li> <li> <p>Restart snmpd on your host</p> </li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p> <p>Optionally if you have multiple UPS or your UPS is not named APCUPS you can specify its name as an argument into <code>/etc/snmp/ups-nut.sh</code> <pre><code>extend ups-nut /etc/snmp/ups-nut.sh ups1\nextend ups-nut /etc/snmp/ups-nut.sh ups2\n</code></pre></p>"},{"location":"Extensions/Applications/#ups-apcups","title":"UPS-apcups","text":"<p>A small shell script that exports apcacess ups status.</p>"},{"location":"Extensions/Applications/#snmp-extend_65","title":"SNMP Extend","text":"<ol> <li> <p>Copy the shell script, unbound, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/ups-apcups -O /etc/snmp/ups-apcups\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/ups-apcups\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: <pre><code>extend ups-apcups /etc/snmp/ups-apcups\n</code></pre></p> </li> </ol> <p>If 'apcaccess' is not in the PATH enviromental variable snmpd is using, you may need to do something like below.</p> <pre><code>extend ups-apcups/usr/bin/env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin /etc/snmp/ups-apcups\n</code></pre> <ol> <li>Restart snmpd on your host</li> </ol> <p>The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under <code>SNMP Extend</code> heading top of page.</p>"},{"location":"Extensions/Applications/#voip-monitor","title":"Voip-monitor","text":"<p>Shell script that reports cpu-load/memory/open-files files stats of Voip Monitor</p>"},{"location":"Extensions/Applications/#snmp-extend_66","title":"SNMP Extend","text":"<ol> <li> <p>Download the script onto the desired host <pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/voipmon-stats.sh -O /etc/snmp/voipmon-stats.sh\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/voipmon-stats.sh\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file (usually <code>/etc/snmp/voipmon-stats.sh</code>) and add: <pre><code>extend voipmon /etc/snmp/voipmon-stats.sh\n</code></pre></p> </li> </ol>"},{"location":"Extensions/Applications/#wireguard","title":"Wireguard","text":"<p>The Wireguard application polls the Wireguard service and scrapes all client statistics for all interfaces configured as Wireguard interfaces.</p>"},{"location":"Extensions/Applications/#snmp-extend_67","title":"SNMP Extend","text":"<ol> <li> <p>Copy the python script, wireguard.py, to the desired host <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/wireguard.py -O /etc/snmp/wireguard.py\n</code></pre></p> </li> <li> <p>Make the script executable <pre><code>chmod +x /etc/snmp/wireguard.py\n</code></pre></p> </li> <li> <p>Edit your snmpd.conf file and add: <pre><code>extend wireguard /etc/snmp/wireguard.py\n</code></pre></p> </li> <li> <p>Create a /etc/snmp/wireguard.json file and specify:</p> <ol> <li>(optional) \"wg_cmd\" - String path to the wg binary [\"/usr/bin/wg\"]</li> <li>\"public_key_to_arbitrary_name\" - A dictionary to convert between the publickey assigned to the client (specified in the wireguard interface conf file) to an arbitrary, friendly name.  The friendly names MUST be unique within each interface.  Also note that the interface name and friendly names are used in the RRD filename, so using special characters is highly discouraged. <pre><code>{\n    \"wg_cmd\": \"/bin/wg\",\n    \"public_key_to_arbitrary_name\": {\n        \"wg0\": {\n            \"z1iSIymFEFi/PS8rR19AFBle7O4tWowMWuFzHO7oRlE=\": \"client1\",\n            \"XqWJRE21Fw1ke47mH1yPg/lyWqCCfjkIXiS6JobuhTI=\": \"server.domain.com\"\n        }\n    }\n}\n</code></pre></li> </ol> </li> <li> <p>Restart snmpd.</p> </li> </ol>"},{"location":"Extensions/Applications/#zfs","title":"ZFS","text":""},{"location":"Extensions/Applications/#snmp-extend_68","title":"SNMP Extend","text":"<p>1: Install the depends. <pre><code>### FreeBSD\npkg install p5-JSON p5-MIME-Base64 p5-Gzip-Faster p5-File-Slurp\n### Debian\napt-get install -y cpanminus zlib1g-dev\ncpanm Mime::Base64 JSON Gzip::Faster\n</code></pre></p> <p>2: Fetch the script in question and make it executable. <pre><code>wget https://github.com/librenms/librenms-agent/raw/master/snmp/zfs -O /etc/snmp/zfs\nchmod +x /etc/snmp/zfs\n</code></pre></p> <p>3: Add the following to snmpd.conf and restart snmpd. <pre><code>extend zfs /etc/snmp/zfs\n</code></pre></p>"},{"location":"Extensions/Authentication/","title":"Authentication Options","text":"<p>LibreNMS supports multiple authentication modules along with Two Factor Auth. Here we will provide configuration details for these modules. Alternatively, you can use Socialite Providers which supports a wide variety of social/OAuth/SAML authentication methods.</p>"},{"location":"Extensions/Authentication/#available-authentication-modules","title":"Available authentication modules","text":"<ul> <li> <p>MySQL: mysql</p> </li> <li> <p>Active Directory: active_directory</p> </li> <li> <p>LDAP: ldap</p> </li> <li> <p>Radius: radius</p> </li> <li> <p>HTTP Auth: http-auth,   ad_authorization,   ldap_authorization</p> </li> <li> <p>Single Sign-on: sso</p> </li> </ul> <p>\u26a0\ufe0f When enabling a new authentication module, the local users will no longer be available to log in.</p>"},{"location":"Extensions/Authentication/#enable-authentication-module","title":"Enable authentication module","text":"<p>To enable a particular authentication module you need to set this up in config.php. Please note that only ONE module can be enabled. LibreNMS doesn't support multiple authentication mechanisms at the same time.</p> <p>auth/general</p> <pre><code>lnms config:set auth_mechanism mysql\n</code></pre>"},{"location":"Extensions/Authentication/#user-levels-and-user-account-type","title":"User levels and User account type","text":"<ul> <li> <p>1: Normal User: You will need to assign device / port   permissions for users at this level.</p> </li> <li> <p>5: Global Read: Read only Administrator.</p> </li> <li> <p>10: Administrator: This is a global read/write admin account.</p> </li> <li> <p>11: Demo Account: Provides full read/write with certain   restrictions (i.e can't delete devices).</p> </li> </ul> <p>Note Oxidized configs can often contain sensitive data. Because of that only Administrator account type can see configs.</p>"},{"location":"Extensions/Authentication/#note-for-selinux-users","title":"Note for SELinux users","text":"<p>When using SELinux on the LibreNMS server, you need to allow Apache (httpd) to connect LDAP/Active Directory server, this is disabled by default. You can use SELinux Booleans to allow network access to LDAP resources with this command:</p> <pre><code>setsebool -P httpd_can_connect_ldap=1\n</code></pre>"},{"location":"Extensions/Authentication/#testing-authentication","title":"Testing authentication","text":"<p>You can test authentication with this script:</p> <pre><code>./scripts/auth_test.php\n</code></pre> <p>Enable debug output to troubleshoot issues</p>"},{"location":"Extensions/Authentication/#mysql-authentication","title":"MySQL Authentication","text":"<p>auth/general</p> <pre><code>lnms config:set auth_mechanism mysql\n</code></pre> <p>This is default option with LibreNMS so you should have already have the following configuration setup in your environment file (.env).</p> <pre><code>DB_HOST=HOSTNAME\nDB_DATABASE=DBNAME\nDB_USERNAME=DBUSER\nDB_PASSWORD=\"DBPASS\"\n</code></pre>"},{"location":"Extensions/Authentication/#active-directory-authentication","title":"Active Directory Authentication","text":"<p>auth/general</p> <pre><code>lnms config:set auth_mechanism active_directory\n</code></pre> <p>Install php-ldap  or php8.1-ldap, making sure to install the same version as PHP.</p> <p>If you have issues with secure LDAP try setting</p> <p>auth/ad</p> <pre><code>lnms config:set auth_ad_check_certificates 0\n</code></pre> <p>this will ignore certificate errors.</p>"},{"location":"Extensions/Authentication/#require-actual-membership-of-the-configured-groups","title":"Require actual membership of the configured groups","text":"<p>auth/ad</p> <pre><code>lnms config:set auth_ad_require_groupmembership 1\n</code></pre> <p>If you set <code>auth_ad_require_groupmembership</code> to 1, the authenticated user has to be a member of the specific group. Otherwise all users can authenticate, and will be either level 0 or you may set <code>auth_ad_global_read</code> to 1 and all users will have read only access unless otherwise specified.</p>"},{"location":"Extensions/Authentication/#old-account-cleanup","title":"Old account cleanup","text":"<p>Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh.</p> <p>Please ensure that you set the <code>authlog_purge</code> value to be greater than <code>active_directory.users_purge</code> otherwise old users won't be removed.</p>"},{"location":"Extensions/Authentication/#sample-configuration","title":"Sample configuration","text":"<p>auth/general</p> <pre><code>lnms config:set auth_mechanism active_directory\nlnms config:set auth_ad_url ldaps://server.example.com\nlnms config:set auth_ad_domain\nlnms config:set auth_ad_base_dn dc=example,dc=com\nlnms config:set auth_ad_check_certificates true\nlnms config:set auth_ad_binduser examplebinduser\nlnms config:set auth_ad_bindpassword examplepassword\nlnms config:set auth_ad_timeout 5\nlnms config:set auth_ad_debug false\nlnms config:set active_directory.users_purge 30\nlnms config:set auth_ad_require_groupmembership true\nlnms config:set auth_ad_groups.ad-admingroup.level 10\nlnms config:set auth_ad_groups.ad-usergroup.level 5\n</code></pre> <p>Replace <code>ad-admingroup</code> with your Active Directory admin-user group and <code>ad-usergroup</code> with your standard user group. It is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work.</p>"},{"location":"Extensions/Authentication/#active-directory-redundancy","title":"Active Directory redundancy","text":"<p>You can set two Active Directory servers by editing the <code>auth_ad_url</code> setting like this example:</p> <p>auth/ad</p> <pre><code>lnms config:set auth_ad_url \"ldaps://dc1.example.com ldaps://dc2.example.com\"\n</code></pre>"},{"location":"Extensions/Authentication/#active-directory-ldap-filters","title":"Active Directory LDAP filters","text":"<p>You can add an LDAP filter to be ANDed with the builtin user filter (<code>(sAMAccountName=$username)</code>).</p> <p>The defaults are:</p> <p>auth/ad</p> <pre><code>lnms config:set auth_ad_user_filter \"(objectclass=user)\"\nlnms config:set auth_ad_group_filter \"(objectclass=group)\"\n</code></pre> <p>This yields <code>(&amp;(objectclass=user)(sAMAccountName=$username))</code> for the user filter and <code>(&amp;(objectclass=group)(sAMAccountName=$group))</code> for the group filter.</p>"},{"location":"Extensions/Authentication/#selinux-configuration","title":"SELinux configuration","text":"<p>On RHEL / CentOS / Fedora, in order for LibreNMS to reach Active Directory, you need to allow LDAP requests in SELinux: <pre><code>setsebool -P httpd_can_connect_ldap 1\n</code></pre></p>"},{"location":"Extensions/Authentication/#ldap-authentication","title":"LDAP Authentication","text":"<p>auth/general</p> <pre><code>lnms config:set auth_mechanism ldap\n</code></pre> <p>Install php_ldap or php7.0-ldap, making sure to install the same version as PHP.</p> <p>For the below, keep in mind the auth DN is composed using a string join of <code>auth_ldap_prefix</code>, the username, and <code>auth_ldap_suffix</code>. This means it needs to include <code>=</code> in the prefix and <code>,</code> in the suffix. So lets say we have a prefix of <code>uid=</code>, the user <code>derp</code>, and the suffix of <code>,ou=users,dc=foo,dc=bar</code>, then the result is <code>uid=derp,ou=users,dc=foo,dc=bar</code>.</p>"},{"location":"Extensions/Authentication/#standard-config","title":"Standard config","text":"<p>auth/ldap</p> <pre><code>lnms config:set auth_ldap_server ldap.example.com\nlnms config:set auth_ldap_suffix ',ou=People,dc=example,dc=com'\nlnms config:set auth_ldap_groupbase 'ou=groups,dc=example,dc=com'\nlnms config:set auth_ldap_groups.admin.level 10\nlnms config:set auth_ldap_groups.pfy.level 5\nlnms config:set auth_ldap_groups.support.level 1\n</code></pre>"},{"location":"Extensions/Authentication/#additional-options-usually-not-needed","title":"Additional options (usually not needed)","text":"<p>auth/ldap</p> <pre><code>lnms config:set auth_ldap_version 3\nlnms config:set auth_ldap_port 389\nlnms config:set auth_ldap_starttls true\nlnms config:set auth_ldap_prefix 'uid='\nlnms config:set auth_ldap_group 'cn=groupname,ou=groups,dc=example,dc=com'\nlnms config:set auth_ldap_groupmemberattr memberUid\nlnms config:set auth_ldap_groupmembertype username\nlnms config:set auth_ldap_uid_attribute uidnumber\nlnms config:set auth_ldap_timeout 5\nlnms config:set auth_ldap_emailattr mail\nlnms config:set auth_ldap_attr.uid uid\nlnms config:set auth_ldap_debug false\nlnms config:set auth_ldap_userdn true\nlnms config:set auth_ldap_userlist_filter service=informatique\nlnms config:set auth_ldap_wildcard_ou false\nlnms config:set auth_ldap_cacertfile /opt/librenms/ldap-ca-cert\nlnms config:set auth_ldap_ignorecert false\n</code></pre>"},{"location":"Extensions/Authentication/#ldap-bind-user-optional","title":"LDAP bind user (optional)","text":"<p>If your ldap server does not allow anonymous bind, it is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work.</p> <p>auth/ldap</p> <pre><code>lnms config:set auth_ldap_binduser ldapbind\nlnms config:set auth_ldap_binddn 'CN=John.Smith,CN=Users,DC=MyDomain,DC=com'\nlnms config:set auth_ldap_bindpassword password\n</code></pre>"},{"location":"Extensions/Authentication/#ldap-server-redundancy","title":"LDAP server redundancy","text":"<p>You can set two LDAP servers by editing the <code>auth_ldap_server</code> like this example:</p> <p>auth/ldap</p> <pre><code>lnms config:set auth_ldap_server ldaps://dir1.example.com ldaps://dir2.example.com\n</code></pre> <p>An example config setup for use with Jumpcloud LDAP as a service is:</p> <p>auth/ldap</p> <pre><code>lnms config:set auth_mechanism ldap\nlnms config:set auth_ldap_version 3\nlnms config:set auth_ldap_server ldap.jumpcloud.com\nlnms config:set auth_ldap_port 389\nlnms config:set auth_ldap_prefix 'uid=';\nlnms config:set auth_ldap_suffix ',ou=Users,o={id},dc=jumpcloud,dc=com'\nlnms config:set auth_ldap_groupbase 'ou=Users,o={id},dc=jumpcloud,dc=com'\nlnms config:set auth_ldap_groupmemberattr member\nlnms config:set auth_ldap_groups.{group}.level 10\nlnms config:set auth_ldap_userdn true\n</code></pre> <p>Replace {id} with the unique ID provided by Jumpcloud.  Replace {group} with the unique group name created in Jumpcloud.  This field is case sensitive.</p> <p>Note: If you have multiple user groups to define individual access levels replace the <code>auth_ldap_groups</code> line with the following:</p> <p>auth/ldap</p> <pre><code>lnms config:set auth_ldap_groups.{admin_group}.level 10]\nlnms config:set auth_ldap_groups.global_readonly_group.level 5\n</code></pre>"},{"location":"Extensions/Authentication/#selinux-configuration_1","title":"SELinux configuration","text":"<p>On RHEL / CentOS / Fedora, in order for LibreNMS to reach LDAP, you need to allow LDAP requests in SELinux: <pre><code>setsebool -P httpd_can_connect_ldap 1\n</code></pre></p>"},{"location":"Extensions/Authentication/#radius-authentication","title":"Radius Authentication","text":"<p>Please note that a mysql user is created for each user the logs in successfully. Users are assigned the <code>user</code> role by default, unless radius sends a reply attribute with a role. </p> <p>You can change the default role(s) by setting</p> <p>auth/radius</p> <pre><code>lnms config:set radius.default_roles '[\"csr\"]'\n</code></pre> <p>The attribute <code>Filter-ID</code> is a standard Radius-Reply-Attribute (string) that can be assigned a specially formatted string to assign a single role to the user. </p> <p>The string to send in <code>Filter-ID</code> reply attribute must start with <code>librenms_role_</code> followed by the role name. For example to set the admin role send <code>librenms_role_admin</code>.</p> <p>The following strings correspond to the built-in roles, but any defined role can be used: - <code>librenms_role_normal</code> - Sets the normal user level. - <code>librenms_role_admin</code> - Sets the administrator level. - <code>librenms_role_global-read</code> - Sets the global read level</p> <p>LibreNMS will ignore any other strings sent in <code>Filter-ID</code> and revert to default role that is set in your config.</p> <pre><code>$config['radius']['hostname']      = 'localhost';\n$config['radius']['port']          = '1812';\n$config['radius']['secret']        = 'testing123';\n$config['radius']['timeout']       = 3;\n$config['radius']['users_purge']   = 14;  // Purge users who haven't logged in for 14 days.\n$config['radius']['default_level'] = 1;  // Set the default user level when automatically creating a user.\n</code></pre>"},{"location":"Extensions/Authentication/#radius-huntgroup","title":"Radius Huntgroup","text":"<p>Freeradius has a function called <code>Radius Huntgroup</code> which allows to send different attributes based on NAS. This may be utilized if you already use <code>Filter-ID</code> in your environment and also want to use radius with LibreNMS.</p>"},{"location":"Extensions/Authentication/#old-account-cleanup_1","title":"Old account cleanup","text":"<p>Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh.</p> <p>Please ensure that you set the <code>$config['authlog_purge']</code> value to be greater than <code>$config['radius']['users_purge']</code> otherwise old users won't be removed.</p>"},{"location":"Extensions/Authentication/#http-authentication","title":"HTTP Authentication","text":"<p>Config option: <code>http-auth</code></p> <p>LibreNMS will expect the user to have authenticated via your webservice already. At this stage it will need to assign a userlevel for that user which is done in one of two ways:</p> <ul> <li> <p>A user exists in MySQL still where the usernames match up.</p> </li> <li> <p>A global guest user (which still needs to be added into MySQL:</p> </li> </ul> <pre><code>$config['http_auth_guest'] = \"guest\";\n</code></pre> <p>This will then assign the userlevel for guest to all authenticated users.</p>"},{"location":"Extensions/Authentication/#http-authentication-ad-authorization","title":"HTTP Authentication / AD Authorization","text":"<p>Config option: <code>ad-authorization</code></p> <p>This module is a combination of http-auth and active_directory</p> <p>LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use Active Directory lookups to determine and assign the userlevel of a user. The userlevel will be calculated by using AD group membership information as the active_directory module does.</p> <p>The configuration is the same as for the active_directory module with two extra, optional options: auth_ad_binduser and auth_ad_bindpassword. These should be set to a AD user with read capabilities in your AD Domain in order to be able to perform searches. If these options are omitted, the module will attempt an anonymous bind (which then of course must be allowed by your Active Directory server(s)).</p> <p>There is also one extra option for controlling user information caching: auth_ldap_cache_ttl. This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session. The default value is 300 seconds. To disable this caching (highly discourage) set this option to 0.</p> <pre><code>$config['auth_ad_binduser']     = \"ad_binduser\";\n$config['auth_ad_bindpassword'] = \"ad_bindpassword\";\n$config['auth_ldap_cache_ttl']  = 300;\n</code></pre>"},{"location":"Extensions/Authentication/#http-authentication-ldap-authorization","title":"HTTP Authentication / LDAP Authorization","text":"<p>Config option: <code>ldap-authorization</code></p> <p>This module is a combination of http-auth and ldap</p> <p>LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use LDAP to determine and assign the userlevel of a user. The userlevel will be calculated by using LDAP group membership information as the ldap module does.</p> <p>The configuration is similar to the ldap module with one extra option: auth_ldap_cache_ttl. This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session. The default value is 300 seconds. To disabled this caching (highly discourage) set this option to 0.</p>"},{"location":"Extensions/Authentication/#standard-config_1","title":"Standard config","text":"<pre><code>$config['auth_mechanism'] = 'ldap-authorization';\n$config['auth_ldap_server'] = 'ldap.example.com';               // Set server(s), space separated. Prefix with ldaps:// for ssl\n$config['auth_ldap_suffix'] = ',ou=People,dc=example,dc=com';   // appended to usernames\n$config['auth_ldap_groupbase'] = 'ou=groups,dc=example,dc=com'; // all groups must be inside this\n$config['auth_ldap_groups']['admin']['roles'] = ['admin'];             // set admin group to admin role\n$config['auth_ldap_groups']['pfy']['roles'] = ['global-read'];                // set pfy group to global read only role\n$config['auth_ldap_groups']['support']['roles'] = ['user'];            // set support group as a normal user\n</code></pre>"},{"location":"Extensions/Authentication/#additional-options-usually-not-needed_1","title":"Additional options (usually not needed)","text":"<pre><code>$config['auth_ldap_version'] = 3; # v2 or v3\n$config['auth_ldap_port'] = 389;                    // 389 or 636 for ssl\n$config['auth_ldap_starttls'] = True;               // Enable TLS on port 389\n$config['auth_ldap_prefix'] = 'uid=';               // prepended to usernames\n$config['auth_ldap_group']  = 'cn=groupname,ou=groups,dc=example,dc=com'; // generic group with level 0\n$config['auth_ldap_groupmemberattr'] = 'memberUid'; // attribute to use to see if a user is a member of a group\n$config['auth_ldap_groupmembertype'] = 'username';  // username type to find group members by, either username (default), fulldn or puredn\n$config['auth_ldap_emailattr'] = 'mail';            // attribute for email address\n$config['auth_ldap_attr.uid'] = 'uid';              // attribute to check username against\n$config['auth_ldap_userlist_filter'] = 'service=informatique'; // Replace 'service=informatique' by your ldap filter to limit the number of responses if you have an ldap directory with thousand of users\n$config['auth_ldap_cache_ttl'] = 300;\n</code></pre>"},{"location":"Extensions/Authentication/#ldap-bind-user-optional_1","title":"LDAP bind user (optional)","text":"<p>If your ldap server does not allow anonymous bind, it is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work.</p> <pre><code>$config['auth_ldap_binduser'] = 'ldapbind'; // will use auth_ldap_prefix and auth_ldap_suffix\n#$config['auth_ldap_binddn'] = 'CN=John.Smith,CN=Users,DC=MyDomain,DC=com'; // overrides binduser\n$config['auth_ldap_bindpassword'] = 'password';\n</code></pre>"},{"location":"Extensions/Authentication/#viewembedded-graphs-without-being-logged-into-librenms","title":"View/embedded graphs without being logged into LibreNMS","text":"<p>webui/graph</p> <p>```bash lnms config:set allow_unauth_graphs_cidr ['127.0.0.1/32'] lnms config:set allow_unauth_graphs true</p> <p>```</p>"},{"location":"Extensions/Authentication/#single-sign-on","title":"Single Sign-on","text":"<p>The single sign-on mechanism is used to integrate with third party authentication providers that are managed outside of LibreNMS - such as ADFS, Shibboleth, EZProxy, BeyondCorp, and others. A large number of these methods use SAML the module has been written assuming the use of SAML, and therefore these instructions contain some SAML terminology, but it should be possible to use any software that works in a similar way.</p> <p>In order to make use of the single sign-on module, you need to have an Identity Provider up and running, and know how to configure your Relying Party to pass attributes to LibreNMS via header injection or environment variables. Setting these up is outside of the scope of this documentation.</p> <p>As this module deals with authentication, it is extremely careful about validating the configuration - if it finds that certain values in the configuration are not set, it will reject access rather than try and guess.</p>"},{"location":"Extensions/Authentication/#basic-configuration","title":"Basic Configuration","text":"<p>To get up and running, all you need to do is configure the following values:</p> <pre><code>$config['auth_mechanism']        = \"sso\";\n$config['sso']['mode']           = \"env\";\n$config['sso']['group_strategy'] = \"static\";\n$config['sso']['static_level']   = 10;\n</code></pre> <p>This, along with the defaults, sets up a basic Single Sign-on setup that:</p> <ul> <li>Reads values from environment variables</li> <li>Automatically creates users when they're first seen</li> <li>Automatically updates users with new values</li> <li>Gives everyone privilege level 10</li> </ul> <p>This happens to mimic the behaviour of http-auth, so if this is the kind of setup you want, you're probably better of just going and using that mechanism.</p>"},{"location":"Extensions/Authentication/#security","title":"Security","text":"<p>If there is a proxy involved (e.g. EZProxy, Azure AD Application Proxy, NGINX, mod_proxy) it's essential that you have some means in place to prevent headers being injected between the proxy and the end user, and also prevent end users from contacting LibreNMS directly.</p> <p>This should also apply to user connections to the proxy itself - the proxy must not be allowed to blindly pass through HTTP headers. modsecurity_ should be considered a minimum, with a full WAF being strongly recommended. This advice applies to the IDP too.</p> <p>The mechanism includes very basic protection, in the form of an IP whitelist with should contain the source addresses of your proxies:</p> <pre><code>$config['sso']['trusted_proxies'] = ['127.0.0.1/8', '::1/128', '192.0.2.0', '2001:DB8::'];\n</code></pre> <p>This configuration item should contain an array with a list of IP addresses or CIDR prefixes that are allowed to connect to LibreNMS and supply environment variables or headers.</p>"},{"location":"Extensions/Authentication/#advanced-configuration-options","title":"Advanced Configuration Options","text":""},{"location":"Extensions/Authentication/#user-attribute","title":"User Attribute","text":"<p>If for some reason your relying party doesn't store the username in REMOTE_USER, you can override this choice.</p> <pre><code>$config['sso']['user_attr'] = 'HTTP_UID';\n</code></pre> <p>Note that the user lookup is a little special - normally headers are prefixed with HTTP_, however this is not the case for remote user - it's a special case. If you're using something different you need to figure out of the HTTP_ prefix is required or not yourself.</p>"},{"location":"Extensions/Authentication/#automatic-user-createupdate","title":"Automatic User Create/Update","text":"<p>These are enabled by default:</p> <pre><code>$config['sso']['create_users'] = true;\n$config['sso']['update_users'] = true;\n</code></pre> <p>If these are not enabled, user logins will be (somewhat silently) rejected unless an administrator has created the account in advance. Note that in the case of SAML federations, unless release of the users true identity has been negotiated with the IDP, the username (probably ePTID) is not likely to be predicable.</p>"},{"location":"Extensions/Authentication/#personalisation","title":"Personalisation","text":"<p>If the attributes are being populated, you can instruct the mechanism to add additional information to the user's database entry:</p> <pre><code>$config['sso']['email_attr']    = \"mail\";\n$config['sso']['realname_attr'] = \"displayName\";\n$config['sso']['descr_attr']    = \"unscoped-affiliation\n</code></pre>"},{"location":"Extensions/Authentication/#group-strategies","title":"Group Strategies","text":""},{"location":"Extensions/Authentication/#static","title":"Static","text":"<p>As used above, static gives every single user the same privilege level. If you're working with a small team, or don't need access control, this is probably suitable.</p>"},{"location":"Extensions/Authentication/#attribute","title":"Attribute","text":"<pre><code>$config['sso']['group_strategy'] = \"attribute\";\n$config['sso']['level_attr']     = \"entitlement\";\n</code></pre> <p>If your Relying Party is capable of calculating the necessary privilege level, you can configure the module to read the privilege number straight from an attribute. sso_level_attr should contain the name of the attribute that the Relying Party exposes to LibreNMS - as long as sso_mode is correctly set, the mechanism should find the value.</p>"},{"location":"Extensions/Authentication/#group-map","title":"Group Map","text":"<p>This is the most flexible (and complex) way of assigning privileges.</p> <pre><code>$config['sso']['group_strategy']  = \"map\";\n$config['sso']['group_attr']      = \"member\";\n$config['sso']['group_level_map'] = ['librenms-admins' =&gt; 10, 'librenms-readers' =&gt; 1, 'librenms-billingcontacts' =&gt; 5];\n$config['sso']['group_delimiter'] = ';';\n</code></pre> <p>This mechanism expects to find a delimited list of groups within the attribute that sso_group_attr points to. This should be an associative array of group name keys, with privilege levels as values. The mechanism will scan the list and find the highest privilege level that the user is entitled to, and assign that value to the user.</p> <p>If there are no matches between the user's groups and the sso_group_level_map, the user will be assigned the privilege level specified in the sso_static_level variable, with a default of 0 (no access). This feature can be used to provide a default access level (such as read-only) to all authenticated users.</p> <p>Additionally, this format may be specific to Shibboleth; other relying party software may need changes to the mechanism (e.g. mod_auth_mellon may create pseudo arrays).</p> <p>There is an optional value for sites with large numbers of groups:</p> <pre><code>$config['sso']['group_filter']  = \"/librenms-(.*)/i\";\n</code></pre> <p>This filter causes the mechanism to only consider groups matching a regular expression.</p>"},{"location":"Extensions/Authentication/#logout-behaviour","title":"Logout Behaviour","text":"<p>LibreNMS has no capability to log out a user authenticated via Single Sign-On - that responsibility falls to the Relying Party.</p> <p>If your Relying Party has a magic URL that needs to be called to end a session, you can configure LibreNMS to direct the user to it:</p> <pre><code># Example for Shibboleth\n$config['auth_logout_handler'] = '/Shibboleth.sso/Logout';\n\n# Example for oauth2-proxy\n$config['auth_logout_handler'] = '/oauth2/sign_out';\n</code></pre> <p>This option functions independently of the Single Sign-on mechanism.</p>"},{"location":"Extensions/Authentication/#complete-configuration","title":"Complete Configuration","text":"<p>This configuration works on my deployment with a Shibboleth relying party, injecting environment variables, with the IDP supplying a list of groups.</p> <pre><code>$config['auth_mechanism'] = 'sso';\n$config['auth_logout_handler'] = '/Shibboleth.sso/Logout';\n$config['sso']['mode'] = 'env';\n$config['sso']['create_users'] = true;\n$config['sso']['update_users'] = true;\n$config['sso']['realname_attr'] = 'displayName';\n$config['sso']['email_attr'] = 'mail';\n$config['sso']['group_strategy'] = 'map';\n$config['sso']['group_attr'] = 'member';\n$config['sso']['group_filter'] = '/(librenms-.*)/i';\n$config['sso']['group_delimiter'] = ';';\n$config['sso']['group_level_map'] = ['librenms-demo' =&gt; 11, 'librenms-globaladmin' =&gt; 10, 'librenms-globalread' =&gt; 5, 'librenms-lowpriv'=&gt; 1];\n</code></pre>"},{"location":"Extensions/Auto-Discovery/","title":"Auto Discovery Support","text":""},{"location":"Extensions/Auto-Discovery/#getting-started","title":"Getting Started","text":"<p>LibreNMS provides the ability to automatically add devices on your network, we can do this via a few methods which will be explained below and also indicate if they are enabled by default.</p> <p>All discovery methods run when discovery runs (every 6 hours by default and within 5 minutes for new devices).</p> <p>Please note that you need at least ONE device added before auto-discovery will work.</p> <p>The first thing to do though is add the required configuration options to <code>config.php</code>.</p>"},{"location":"Extensions/Auto-Discovery/#snmp-details","title":"SNMP Details","text":"<p>To add devices automatically we need to know your snmp details, examples of SNMP v1, v2c and v3 are below:</p> <pre><code>// v1 or v2c\n$config['snmp']['community'][] = \"my_custom_community\";\n$config['snmp']['community'][] = \"another_community\";\n\n// v3\n$config['snmp']['v3'][0]['authlevel'] = 'authPriv';\n$config['snmp']['v3'][0]['authname'] = 'my_username';\n$config['snmp']['v3'][0]['authpass'] = 'my_password';\n$config['snmp']['v3'][0]['authalgo'] = 'SHA';\n$config['snmp']['v3'][0]['cryptopass'] = 'my_crypto';\n$config['snmp']['v3'][0]['cryptoalgo'] = 'AES';\n</code></pre> <p>These details will be attempted when adding devices, you can specify any mixture of these.</p>"},{"location":"Extensions/Auto-Discovery/#allowed-networks","title":"Allowed Networks","text":""},{"location":"Extensions/Auto-Discovery/#your-networks","title":"Your Networks","text":"<p>To add devices, we need to know what are your subnets so we don't go blindly attempting to add devices not under your control.</p> <p>discovery/networks</p> <pre><code>lnms config:set nets.+ '192.168.0.0/24'\nlnms config:set nets.+ '172.2.4.0/22'\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#exclusions","title":"Exclusions","text":"<p>If you have added a network as above but a single device exists within it that you can't auto add, then you can exclude this with the following:</p> <p>discovery/networks</p> <pre><code>lnms config:set autodiscovery.nets-exclude.+ '192.168.0.1/32'\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#additional-options","title":"Additional Options","text":""},{"location":"Extensions/Auto-Discovery/#discovering-devices-by-ip","title":"Discovering devices by IP","text":"<p>By default we don't add devices by IP address, we look for a reverse dns name to be found and add with that. If this fails and you would like to still add devices automatically then you will need to set <code>$config['discovery_by_ip'] = true;</code></p>"},{"location":"Extensions/Auto-Discovery/#short-hostnames","title":"Short hostnames","text":"<p>If your devices only return a short hostname such as lax-fa0-dc01 but the full name should be lax-fa0-dc01.example.com then you can set</p> <p>discovery/general</p> <pre><code>lnms config:set mydomain example.com\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#allow-duplicate-sysname","title":"Allow Duplicate sysName","text":"<p>By default we require unique sysNames when adding devices (this is returned over snmp by your devices). If you would like to allow devices to be added with duplicate sysNames then please set</p> <p>discovery/discovery_modules</p> <pre><code>lnms config:set allow_duplicate_sysName true\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#discovery-methods","title":"Discovery Methods","text":"<p>Below are the methods for auto discovering devices.  Each one can be enabled or disabled and may have additional configuration options.</p>"},{"location":"Extensions/Auto-Discovery/#arp","title":"ARP","text":"<p>Disabled by default.</p> <p>Adds devices that are listed in another device's arp table.  This module depends on the arp-table module being enabled and returning data.</p> <p>To enable, switch on globally the <code>discovery_modules.discovery-arp</code> or per device within the Modules section.</p> <p>discovery/discovery_modules</p> <pre><code>lnms config:set discovery_modules.discovery-arp true\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#xdp","title":"XDP","text":"<p>Enabled by default.</p> <p><code>$config['autodiscovery']['xdp'] = false;</code> to disable.</p> <p>This includes FDP, CDP and LLDP support based on the device type.</p> <p>The LLDP/xDP links with neighbours will always be discovered as soon as the discovery module is enabled. However, LibreNMS will only try to add the new devices discovered with LLDP/xDP if <code>$config['autodiscovery']['xdp'] = true;</code>.</p> <p>Devices may be excluded from xdp discovery by sysName and sysDescr.</p> <pre><code>//Exclude devices by name\n$config['autodiscovery']['xdp_exclude']['sysname_regexp'][] = '/host1/';\n$config['autodiscovery']['xdp_exclude']['sysname_regexp'][] = '/^dev/';\n\n//Exclude devices by description\n$config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/Vendor X/';\n$config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/Vendor Y/';\n</code></pre> <p>Devices may be excluded from cdp discovery by platform.</p> <pre><code>//Exclude devices by platform(Cisco only)\n$config['autodiscovery']['cdp_exclude']['platform_regexp'][] = '/WS-C3750G/';\n</code></pre> <p>These devices are excluded by default:</p> <pre><code>$config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/-K9W8/'; // Cisco Lightweight Access Point\n$config['autodiscovery']['cdp_exclude']['platform_regexp'][] = '/^Cisco IP Phone/'; //Cisco IP Phone\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#ospf","title":"OSPF","text":"<p>Enabled by default.</p> <p><code>$config['autodiscovery']['ospf'] = false;</code> to disable.</p>"},{"location":"Extensions/Auto-Discovery/#bgp","title":"BGP","text":"<p>Enabled by default.</p> <p><code>$config['autodiscovery']['bgp'] = false;</code> to disable.</p> <p>This module is invoked from bgp-peers discovery module.</p>"},{"location":"Extensions/Auto-Discovery/#snmp-scan","title":"SNMP Scan","text":"<p>Apart from the aforementioned Auto-Discovery options, LibreNMS is also able to proactively scan a network for SNMP-enabled devices using the configured version/credentials.</p> <p>SNMP Scan will scan <code>nets</code> by default and respects <code>autodiscovery.nets-exclude</code>.</p> <p>To run the SNMP-Scanner you need to execute the <code>snmp-scan.py</code> from within your LibreNMS installation directory.</p> <p>Here the script's help-page for reference:</p> <pre><code>usage: snmp-scan.py [-h] [-t THREADS] [-g GROUP] [-l] [-v] [--ping-fallback] [--ping-only] [-P] [network ...]\n\nScan network for snmp hosts and add them to LibreNMS.\n\npositional arguments:\n  network          CIDR noted IP-Range to scan. Can be specified multiple times\n                   This argument is only required if 'nets' config is not set\n                   Example: 192.168.0.0/24\n                   Example: 192.168.0.0/31 will be treated as an RFC3021 p-t-p network with two addresses, 192.168.0.0 and 192.168.0.1\n                   Example: 192.168.0.1/32 will be treated as a single host address\n\noptional arguments:\n  -h, --help       show this help message and exit\n  -t THREADS       How many IPs to scan at a time.  More will increase the scan speed, but could overload your system. Default: 32\n  -g GROUP         The poller group all scanned devices will be added to. Default: The first group listed in 'distributed_poller_group', or 0 if not specificed\n  -l, --legend     Print the legend.\n  -v, --verbose    Show debug output. Specifying multiple times increases the verbosity.\n  --ping-fallback  Add the device as an ICMP only device if it replies to ping but not SNMP.\n  --ping-only      Always add the device as an ICMP only device.\n  -P, --ping       Deprecated. Use --ping-fallback instead.\n</code></pre>"},{"location":"Extensions/Auto-Discovery/#discovered-devices","title":"Discovered devices","text":"<p>Newly discovered devices will be added to the <code>default_poller_group</code>, this value defaults to 0 if unset.</p> <p>When using distributed polling, this value can be changed locally by setting <code>$config['default_poller_group']</code> in config.php or globally by using <code>lnms config:set</code>.</p>"},{"location":"Extensions/Availability-Map/","title":"Availability Map","text":"<p>LibreNMS has the following page to show an availability map:</p> <ul> <li>Overview -&gt; Maps -&gt; Availability</li> </ul> <p>This map will show all devices on a single page, with each device having either a box or a coloured square representing its status.</p>"},{"location":"Extensions/Availability-Map/#widget","title":"Widget","text":"<p>There is an availability map widget that can be added to a dashboard to give a quick overview of the status of all devices on the network.</p>"},{"location":"Extensions/Availability-Map/#settings","title":"Settings","text":"<pre><code># Set the compact view mode for the availability map\nlnms config:set webui.availability_map_compact false\n\n# Size of the box for each device in the availability map (not compact)\nlnms config:set webui.availability_map_box_size 165\n\n# Sort by status instead of hostname\nlnms config:set webui.availability_map_sort_status false\n\n# Show the device group drop-down on the availabiltiy map page\nlnms config:set webui.availability_map_use_device_groups true\n</code></pre>"},{"location":"Extensions/Billing-Module/","title":"Billing Module","text":"<p>With the billing module you can create a bill, assign a quota to it and add ports to it. It then tracks the ports usage and shows you the usage in the bill, including any overage. Accounting by both total transferred data and 95th percentile is supported.</p> <p>To enable and use the billing module you need to perform the following steps:</p> <p>Edit <code>config.php</code> and add (or enable) the following line near the end of the config</p> <pre><code>$config['enable_billing'] = 1; # Enable Billing\n</code></pre> <p>Edit <code>/etc/cron.d/librenms</code> and add the following:</p> <pre><code>*/5 * * * * librenms /opt/librenms/poll-billing.php &gt;&gt; /dev/null 2&gt;&amp;1\n01  * * * * librenms /opt/librenms/billing-calculate.php &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre> <p>Create billing graphs as required.</p>"},{"location":"Extensions/Billing-Module/#data-retention","title":"Data Retention","text":"<p>Billing data is stored in the MySQL database, and you may wish to purge the detailed stats for old data (per-month totals will always be kept).  To enable this, add the following to <code>config.php</code>:</p> <pre><code>$config['billing_data_purge'] = 12;     // Number of months to retain\n</code></pre> <p>Data for the last complete billing cycle will always be retained - only data older than this by the configured number of months will be removed.  This task is performed in the daily cleanup tasks.</p>"},{"location":"Extensions/Billing-Module/#95th-percentile-calculation","title":"95th Percentile Calculation","text":"<p>For 95th Percentile billing, the default behavior is to use the highest of the input or output 95th Percentile calculation.</p> <p>To instead use the combined total of inout + output to derive the 95th percentile, This can be changed on a per bill basis by setting 95th Calculation to \"Aggregate\".</p> <p>To change the default option to Aggregate, add the following the <code>config.php</code>:</p> <pre><code>$config['billing']['95th_default_agg'] = 1;  // Set aggregate 95th as default\n</code></pre> <p>This configuration setting is cosmetic and only changes the default selected option when adding a new bill.</p>"},{"location":"Extensions/Component/","title":"About","text":"<p>The Component extension provides a generic database storage mechanism for discovery and poller modules. The Driver behind this extension was to provide the features of ports, in a generic manner to discovery/poller modules.</p> <p>It provides a status (Nagios convention), the ability to Disable (do not poll), or Ignore (do not Alert).</p>"},{"location":"Extensions/Component/#database-structure","title":"Database Structure","text":"<p>The database structure contains the component table:</p> <pre><code>mysql&gt; select * from component limit 1;\n+----+-----------+------+------------+--------+----------+--------+-------+\n| id | device_id | type | label      | status | disabled | ignore | error |\n+----+-----------+------+------------+--------+----------+--------+-------+\n|  9 |         1 | TEST | TEST LABEL |      0 |        1 |      1 |       |\n+----+-----------+------+------------+--------+----------+--------+-------+\n1 row in set (0.00 sec)\n</code></pre> <p>These fields are described below:</p> <ul> <li><code>id</code> - ID for each component, unique index</li> <li><code>device_id</code> - device_id from the devices table</li> <li><code>type</code> - name from the component_type table</li> <li><code>label</code> - Display label for the component</li> <li><code>status</code> - The status of the component, retrieved from the device</li> <li><code>disabled</code> - Should this component be polled?</li> <li><code>ignore</code> - Should this component be alerted on</li> <li><code>error</code> - Error message if in Alert state</li> </ul> <p>The component_prefs table holds custom data in an Attribute/Value format:</p> <pre><code>mysql&gt; select * from component_prefs limit 1;\n+----+-----------+-----------+-----------+\n| id | component | attribute | value     |\n+----+-----------+-----------+-----------+\n|  4 |         9 | TEST_ATTR | TEST_ATTR |\n+----+-----------+-----------+-----------+\n2 rows in set (0.00 sec)\n</code></pre>"},{"location":"Extensions/Component/#reserved-fields","title":"Reserved Fields","text":"<p>When this data from both the <code>component</code> and <code>component_prefs</code> tables is returned in one single consolidated array, there is the potential for someone to attempt to set an attribute (in the <code>component_prefs</code>) table that is used in the <code>component</code> table. Because of this all fields of the <code>component</code> table are reserved, they cannot be used as custom attributes, if you update these the module will attempt to write them to the <code>component</code> table, not the <code>component_prefs</code> table.</p>"},{"location":"Extensions/Component/#using-components","title":"Using Components","text":"<p>Create an instance of the component class:</p> <pre><code>$COMPONENT = new LibreNMS\\Component();\n</code></pre>"},{"location":"Extensions/Component/#retrieving-components","title":"Retrieving Components","text":"<p>Now you can retrieve an array of the available components:</p> <pre><code>$ARRAY = $COMPONENT-&gt;getComponents($DEVICE_ID, $OPTIONS);\n</code></pre> <p><code>getComponents</code> takes 2 arguments:</p> <ul> <li><code>DEVICE_ID</code> or null for all devices.</li> <li><code>OPTIONS</code> - an array of various options.</li> </ul> <p><code>getComponents</code> will return an array containing components in the following format:</p> <pre><code>Array\n(\n    [X] =&gt; Array\n    (\n        [Y1] =&gt; Array\n        (\n            [device_id] =&gt; 1\n            [TEST_ATTR] =&gt; TEST_ATTR\n            [type] =&gt; TEST\n            [label] =&gt; TEST LABEL\n            [status] =&gt; 0\n            [ignore] =&gt; 1\n            [disabled] =&gt; 1\n            [error] =&gt;\n        ),\n        [Y2] =&gt; Array\n        (\n            [device_id] =&gt; 1\n            [TEST_ATTR] =&gt; TEST_ATTR\n            [type] =&gt; TESTING\n            [label] =&gt; TEST LABEL\n            [status] =&gt; 0\n            [ignore] =&gt; 1\n            [disabled] =&gt; 0\n            [error] =&gt;\n        ),\n    )\n)\n</code></pre> <p>Where X is the Device ID and Y1/Y2 is the Component ID. In the example above, <code>TEST_ATTR</code> is a custom field, the rest are reserved fields.</p>"},{"location":"Extensions/Component/#options","title":"Options","text":"<p>Options can be supplied to <code>getComponents</code> to influence which and how components are returned.</p>"},{"location":"Extensions/Component/#filtering","title":"Filtering","text":"<p>You can filter on any of the reserved fields. Filters are created in the following format:</p> <pre><code>$options['filter']['FIELD'] = array ('OPERATOR', 'CRITERIA');\n</code></pre> <p>Where:</p> <ul> <li><code>FIELD</code> - The reserved field to filter on</li> <li><code>OPERATOR</code> - 'LIKE' or '=', are we checking if the FIELD equals or   contains the CRITERIA.</li> <li><code>CRITERIA</code> - The criteria to search on</li> </ul> <p>There are 2 filtering shortcuts:</p> <p><code>$DEVICE_ID</code> is a synonym for:</p> <pre><code>$OPTIONS['filter']['device_id'] = array ('=', $DEVICE_ID);\n</code></pre> <p><code>$OPTIONS['type'] = $TYPE</code> is a synonym for:</p> <pre><code>$OPTIONS['filter']['type'] = array ('=', $TYPE);\n</code></pre>"},{"location":"Extensions/Component/#sorting","title":"Sorting","text":"<p>You can sort the records that are returned by specifying the following option:</p> <pre><code>$OPTIONS['sort'][FIELD] = 'DIRECTION';\n</code></pre> <p>Where Direction is one of:</p> <ul> <li><code>ASC</code> - Ascending, from Low to High</li> <li><code>DESC</code> - Descending, from High to Low</li> </ul>"},{"location":"Extensions/Component/#creating-components","title":"Creating Components","text":"<p>To create a new component, run the <code>createComponent</code> function.</p> <pre><code>$ARRAY = $COMPONENT-&gt;createComponent($DEVICE_ID, $TYPE);\n</code></pre> <p><code>createComponent</code> takes 2 arguments:</p> <ul> <li><code>DEVICE_ID</code> - The ID of the device to attach the component to.</li> <li><code>TYPE</code> - The unique type for your module.</li> </ul> <p>This will return a new, empty array with a component ID and Type set, all other fields will be set to defaults.</p> <pre><code>Array\n(\n    [1] =&gt; Array\n    (\n        [type] =&gt; TESTING\n        [label] =&gt;\n        [status] =&gt; 1\n        [ignore] =&gt; 0\n        [disabled] =&gt; 0\n        [error] =&gt;\n    )\n)\n</code></pre>"},{"location":"Extensions/Component/#deleting-components","title":"Deleting Components","text":"<p>When a component is no longer needed, it can be deleted.</p> <pre><code>$COMPONENT-&gt;deleteComponent($COMPONENT_ID)\n</code></pre> <p>This will return <code>True</code> on success or <code>False</code> on failure.</p>"},{"location":"Extensions/Component/#editing-components","title":"Editing Components","text":"<p>To edit a component, the procedure is:</p> <ol> <li>Get the Current Components</li> <li>Edit the array</li> <li>Write the components</li> </ol>"},{"location":"Extensions/Component/#edit-the-array","title":"Edit the Array","text":"<p>Once you have a component array from <code>getComponents</code> the first thing to do is extract the components for only the single device you are editing. This is required because the <code>setComponentPrefs</code> function only saves a single device at a time.</p> <pre><code>$ARRAY = $COMPONENT-&gt;getComponents($DEVICE_ID, $OPTIONS);\n$ARRAY = $ARRAY[$DEVICE_ID];\n</code></pre> <p>Then simply edit this array to suit your needs. If you need to add a new Attribute/Value pair you can:</p> <pre><code>$ARRAY[COMPONENT_ID]['New Attribute'] = \"Value\";\n</code></pre> <p>If you need to delete a previously set Attribute/Value pair you can:</p> <pre><code>unset($ARRAY[COMPONENT_ID]['New Attribute']);\n</code></pre> <p>If you need to edit a previously set Attribute/Value pair you can:</p> <pre><code>$ARRAY[COMPONENT_ID]['Existing Attribute'] = \"New Value\";\n</code></pre>"},{"location":"Extensions/Component/#write-the-components","title":"Write the components","text":"<p>To write component changes back to the database simply:</p> <pre><code>$COMPONENT-&gt;setComponentPrefs($DEVICE_ID, $ARRAY)\n</code></pre> <p>When writing the component array there are several caveats to be aware of, these are:</p> <ul> <li><code>$ARRAY</code> must be in the format of a single device ID -   <code>$ARRAY[$COMPONENT_ID][Attribute] = 'Value';</code> NOT in the multi   device format returned by <code>getComponents</code> -   <code>$ARRAY[$DEVICE_ID][$COMPONENT_ID][Attribute] = 'Value';</code></li> <li>You cannot edit the Component ID or the Device ID</li> <li>reserved fields can not be removed</li> <li>if a change is found an entry will be written to the eventlog.</li> </ul>"},{"location":"Extensions/Component/#api","title":"API","text":"<p>Component details are available via the API. Please see the API-Docs for details.</p>"},{"location":"Extensions/Component/#alerting","title":"Alerting","text":"<p>It is intended that discovery/poller modules will detect the status of a component during the polling cycle. Status is logged using the Nagios convention for status codes, where:</p> <pre><code>0 = Ok,\n1 = Warning,\n2 = Critical\n</code></pre> <p>If you are creating a poller module which can detect a fault condition simply set STATUS to something other than 0 and ERROR to a message that indicates the problem.</p> <p>To actually raise an alert, the user will need to create an alert rule. To assist with this several Alerting Macro's have been created:</p> <ul> <li><code>%macro.component_normal</code> - A component that is not disabled or   ignored and in a Normal state.</li> <li><code>%macro.component_warning</code> - A component that is not disabled or   ignored and NOT in a Warning state.</li> <li><code>%macro.component_critical</code> - A component that is not disabled or   ignored and NOT in a Critical state.</li> </ul> <p>To raise alerts for components, the following rules could be created:</p> <ul> <li><code>%macros.component_critical = \"1\"</code> - To alert on all Critical   components</li> <li><code>%macros.component_critical = \"1\" &amp;&amp; %component.type = \"&lt;Type of   Component&gt;\"</code> - To alert on all Critical components of a particular   type.</li> </ul> <p>If there is a particular component you would like excluded from alerting, simply set the ignore field to 1.</p> <p>The data that is written to each alert when it is raised is in the following format:</p> <p><code>COMPONENT_TYPE - LABEL - ERROR</code></p>"},{"location":"Extensions/Component/#example-code","title":"Example Code","text":"<p>To see an example of how the component module can used, please see the following modules:</p> <ul> <li>Cisco CBQoS</li> <li><code>includes/discovery/cisco-cbqos.inc.php</code></li> <li><code>includes/polling/cisco-cbqos.inc.php</code></li> <li><code>html/includes/graphs/device/cbqos_traffic.inc.php</code></li> <li>Cisco OTV</li> <li><code>includes/discovery/cisco-otv.inc.php</code></li> <li><code>includes/polling/cisco-otv.inc.php</code></li> <li><code>html/includes/graphs/device/cisco-otv-mac.inc.php</code></li> <li><code>html/pages/routing/cisco-otv.inc.php</code></li> </ul>"},{"location":"Extensions/Custom-Map/","title":"Custom Map","text":"<p>LibreNMS has the ability to create custom maps to give a quick overview of parts of the network including up/down status of devices and link utilisation.  These are also referred to as weather maps.</p>"},{"location":"Extensions/Custom-Map/#viewer","title":"Viewer","text":"<p>Once some maps have been created, they will be visible to any users who have read access to all devices on a given map.  Custom maps are available through the Overview -&gt; Maps -&gt; Custom Maps menu.</p> <p>Some key points about the viewer are:</p> <ul> <li>Nodes will change colour if they are down or disabled</li> <li>Links are only associated with a single network interface</li> <li>Link utilisation can only be shown if the link speed is known</li> <li>Link speed is decoded from SNMP if possible (Upload/Download) and defaults    to the physical speed if SNMP data is not available, or cannot be decoded</li> <li>Links will change colour as follows:</li> <li>Black if the link is down, or the max speed is unknown</li> <li>Green at 0% utilisation, with a gradual change to</li> <li>Yellow at 50% utilisation, with a gradual change to</li> <li>Orange at 75% utilisation, with a gradual change to</li> <li>Red at 100% utilisation, with a gradual change to</li> <li>Purple at 150% utilisation and above</li> </ul>"},{"location":"Extensions/Custom-Map/#viewer-url-options","title":"Viewer URL options","text":"<p>You can manually add the following parameters to a URL to alter the display of a custom map.</p> <p>The following URL options are available:</p> <ul> <li>bare=yes : Removes the control bar from the top of the page.</li> <li>screenshot=yes : Removes all labels from the nodes and links</li> </ul> <p>e.g. If you want bare and screenshot enabled, https://nmsserver/maps/custom/2 becomes https://nmsserver/maps/custom/2?bare=yes&amp;screenshot=yes</p>"},{"location":"Extensions/Custom-Map/#editor","title":"Editor","text":"<p>To access the custom map editor, a user must be an admin.  The editor is accessed through the Overview -&gt; Maps -&gt; Custom Map Editor menu.</p> <p>Once you are in the editor, you will be given a drop-down list of all the custom maps so you can choose one to edit, or select \"Create New Map\" to create a new map.</p>"},{"location":"Extensions/Custom-Map/#map-settings","title":"Map Settings","text":"<p>When you create a new map, you will be presented with a page to set some global map settings.  These are:</p> <ul> <li>Name: The name for the map</li> <li>Width: The width of the map in pixels</li> <li>Height: The height of the map in pixels</li> <li>Node Alignment: When devices are added to the map, this will align     the devices to an invisible grid this many pixels wide, which can help    to make the maps look better.  This can be set to 0 to disable.</li> <li>Background: An image (PNG/JPG) up to 2MB can be uploaded as a background.</li> </ul> <p>These settings can be changed at any stage by clicking on the \"Edit Map Settings\" button in the top-left of the editor.</p>"},{"location":"Extensions/Custom-Map/#nodes","title":"Nodes","text":"<p>Once you have a map, you can start by adding \"nodes\" to the map.  A node represents a device, or an external point in the network (e.g. the internet) To add a node, you click on the \"Add Node\" button in the control bar, then click on the map area where you want to add the node.  You will then be aked for the following information:</p> <ul> <li>Label: The text to display on this point in the network</li> <li>Device: If this node represents a device, you can select the device from    the drop-down.  This will overwrite the label, which you can then change if    you want to.</li> <li>Style: You can select the style of the node.  If a device has been selected    you can choose the LibreNMS icon by choosing \"Device Image\".  You can also    choose \"Icon\" to select an image for the device.</li> <li>Icon: If you choose \"Icon\" in the style box, you can select from a list of    images to represent this node</li> </ul> <p>There are also options to choose the size and colour of the node and the font.</p> <p>Once you have finished choosing the options for the node, you can press Save to add it to the map.  NOTE: This does not save anything to the database immediately. You need to click on the \"Save Map\" button in the top-right to save your changes to the database.</p> <p>You can edit a node at any time by selecting it on the map and clicking on the \"Edit Node\" button in the control bar.</p> <p>You can also modify the default settings for all new nodes by clicking on the \"Edit Node Default\" button at the top of the page.</p>"},{"location":"Extensions/Custom-Map/#edges","title":"Edges","text":"<p>Once you have 2 or more nodes, you can add links between the nodes.  These are called edges in the editor.  To add a link, click on the \"Add Edge\" button in the control bar, then click on one of the nodes you want to link and drag the cursor to the second node that you want to link.  You will then be prompted for the following information:</p> <ul> <li>From: The node that the link runs from (it will default to first node you selected)</li> <li>To: The node that the link runs to (it will default to the second node you selected)</li> <li>Port: If the From or To node is linked to a device, you can select an interface    from one of the devices and the custom map will show traffic utilisation for    the selected interface.</li> <li>Reverse Port Direction: If the selected port displays data in the wrong    direction for the link, you can reverse it by toggling this option.</li> <li>Line Style: You can try different line styles, especially if you are running    multiple links between the same 2 nodes</li> <li>Show percent usage: Choose whether to have text on the lines showing the link    utilisation as a percentage</li> <li>Recenter Line: If you tick this box, the centre point of the line will be moved    back to half way between the 2 nodes when you click on the save button.</li> </ul> <p>Once you have finished choosing the options for the node, you can press Save to add it to the map.  NOTE: This does not save anything to the database immediately. You need to click on the \"Save Map\" button in the top-right to save your changes to the database.</p> <p>Once you press save, you it will create 3 objects on the screen, 2 arrows and a round node in the middle.  Having the 3 objects allows you to move the mid point of the line off centre, and also allows us to display bandwidth information for both directions of the link.</p> <p>You can edit an edge at any time by selecting it on the map and clicking on the \"Edit Edge\" button in the control bar.</p> <p>You can also modify the default settings for all new edges by clicking on the \"Edit Edge Default\" button at the top of the page.</p>"},{"location":"Extensions/Custom-Map/#re-render","title":"Re-Render","text":"<p>When you drag items around the map, some of the lines will bend. This will cause a \"Re-Render Map\" button to appear at the top-right of the page.  This button can be clicked on to cause all lines to be re-drawn the way they will be shown in the viewer.</p>"},{"location":"Extensions/Custom-Map/#save-map","title":"Save Map","text":"<p>Once you are happy with a set of changes that you have made, you can click on the \"Save Map\" button in the top-right of the page to commit changes to the database. This will cause anyone viewing the map to see the new version the next time their page refreshes.</p>"},{"location":"Extensions/Custom-Map/#adding-images","title":"Adding Images","text":"<p>You can add your own images to use on the custom map by copying files into the html/images/custommap/icons/ directory.  Any files with a .svg, .png or .jpg extension will be shown in the image selection drop-down in the custom map editor.</p>"},{"location":"Extensions/Customizing-the-Web-UI/","title":"Customizing the Web UI","text":""},{"location":"Extensions/Customizing-the-Web-UI/#custom-menu-entry","title":"Custom menu entry","text":"<p>Create the file <code>resources/views/menu/custom.blade.php</code></p> <p>Example contents:</p> <pre><code>&lt;li class=\"dropdown\"&gt;\n    &lt;a href=\"#\" class=\"dropdown-toggle\" data-hover=\"dropdown\" data-toggle=\"dropdown\"&gt;&lt;i class=\"fa fa-star fa-fw fa-lg fa-nav-icons hidden-md\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n        &lt;span class=\"hidden-sm\"&gt;Custom Menu&lt;/span&gt;&lt;/a&gt;\n    &lt;ul class=\"dropdown-menu\"&gt;\n        @admin\n            &lt;li&gt;&lt;a href=\"plugins/Weathermap/output/history/index.html\"&gt;&lt;i class=\"fa fa-film fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Weathermap Animation&lt;/a&gt;&lt;/li&gt;\n            &lt;li role=\"presentation\" class=\"divider\"&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-database fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Item 1&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-smile-o fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Item 2&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-anchor fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Item 3&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-plug fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Item 4&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-code-fork fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Item 5&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#\"&gt;&lt;i class=\"fa fa-truck fa-fw fa-lg\" aria-hidden=\"true\"&gt;&lt;/i&gt; Item 63&lt;/a&gt;&lt;/li&gt;\n        @else\n            &lt;li&gt;&lt;a href=\"#\"&gt;You need admin rights to see this&lt;/a&gt;&lt;/li&gt;\n        @endadmin\n    &lt;/ul&gt;\n&lt;/li&gt;\n</code></pre>"},{"location":"Extensions/Customizing-the-Web-UI/#custom-device-menu-action","title":"Custom device menu action","text":"<p>You can add custom external links in the menu on the device page.</p> <p>This feature allows you to easily link applications to related systems, as shown in the example of Open-audIT.</p> <p>The url value is parsed by the Laravel Blade templating engine. You can access device variables such as <code>$device-&gt;hostname</code>, <code>$device-&gt;sysName</code> and use full PHP.</p> <p>settings/webui/device</p> <pre><code>lnms config:set html.device.links.+ '{\"url\": \"http://atssrv/open-audit/index/devices/{{ $device-&gt;sysName }}\", \"title\": \"Open-AudIT\"}'\n</code></pre> Field Description url Url blade template resulting in valid url. Required. title Title text displayed in the menu. Required. icon Font Awesome icon class. Default: fa-external-link external Open link in new window. Default: true action Show as action on device list. Default: false"},{"location":"Extensions/Customizing-the-Web-UI/#launching-windows-programs-from-the-librenms-device-menu","title":"Launching Windows programs from the LibreNMS device menu","text":"<p>You can launch windows programs from links in LibreNMS, but it does take some registry entries on the client device. Save the following as winbox.reg,  edit for your winbox.exe path and double click to add to your registry.</p> <pre><code>Windows Registry Editor Version 5.00\n[HKEY_CLASSES_ROOT\\winbox]\n@=\"URL:Winbox Protocol\"\n\"URL Protocol\"=\"\"\n[HKEY_CLASSES_ROOT\\winbox\\shell]\n[HKEY_CLASSES_ROOT\\winbox\\shell\\open]\n[HKEY_CLASSES_ROOT\\winbox\\shell\\open\\command]\n@=\"C:\\Windows\\System32\\WindowsPowerShell\u000b1.0\\powershell.exe -Command \"$val='%l'; $val = $val.TrimEnd('/');if ($val.StartsWith('winbox://' { $val = $val.SubString(9) }; &amp; 'C:\\Program Files\\winbox64.exe' \"$val\"\"\"\n</code></pre> <p>Now we can use that in the device menu entry to open winbox.</p> <p>settings/webui/device</p> <pre><code>lnms config:set html.device.links.+ '{\"url\": \"winbox://{{ $device-&gt;hostname }}\", \"title\": \"Winbox\"}'\n</code></pre>"},{"location":"Extensions/Customizing-the-Web-UI/#setting-the-primary-device-menu-action","title":"Setting the primary device menu action","text":"<p>You can change the icon that is clickable in the device without having to open the dropdown menu. The primary button is edit device by default.</p> <p>settings/webui/device</p> <pre><code>lnms config:set html.device.primary_link web\n</code></pre> Value Description edit Edit device web Connect to the device via https/http ssh launch ssh:// protocol to the device, make sure you have a handler registered telnet launch telnet:// protocol to the device capture Link to the device capture page custom1 Custom Link 1 custom2 Custom Link 2 custom3 Custom Link 3 custom4 Custom Link 4 custom5 Custom Link 5 custom6 Custom Link 6 custom7 Custom Link 7 custom8 Custom Link 8 <p>!!! Custom http, ssh, telnet ports</p> <p>Custom ports can be set through the device setting misc tab and will be appended to the Uri. Empty value will not append anything and automatically default to the standard.     - custom ssh port set to 2222 will result in ssh://10.0.0.0:2222     - custom telnet port set to 2323 will result in telnet://10.0.0.0:2323</p>"},{"location":"Extensions/Dashboards/","title":"Dashboards","text":"<p>Create customised dashboards in LibreNMS per user. You can share dashboards with other users. You can also make a custom dashboard and default it for all users in LibreNMS.</p> <p>Example Dashboard </p>"},{"location":"Extensions/Dashboards/#widgets","title":"Widgets","text":"<p>LibreNMS has a whole list of Widgets to select from.</p> <ul> <li>Alerts Widget: Displays all alert notifications.</li> <li>Availability Map: Displays all devices with colored tiles, green up,   yellow for warning (device has been restarted in last 24 hours), red   for down. You can also list all services and ignored/disabled   devices in this widget.</li> <li>Components Status: List all components Ok state, Warning state, Critical state.</li> <li>Device Summary horizontal: List device totals, up, down, ignored,   disabled. Same for ports and services.</li> <li>Device Summary vertical: List device totals, up, down, ignored,   disabled. Same for ports and services.</li> <li>Eventlog: Displays all events with your devices and LibreNMS.</li> <li>External Image: can be used to show external images on your   dashboard. Or images from inside LibreNMS.</li> <li>Globe Map: Will display map of the globe.</li> <li>Graph: Can be used to display graphs from devices.</li> <li>Graylog: Displays all Graylog's syslog entries.</li> <li>Notes: use for html tags, embed links and external web pages. Or   just notes in general.</li> <li>Server Stats: Will display gauges for CPU, Memory, Storage   usage. Note the device type has to be listed as \"Server\".</li> <li>Syslog: Displays all syslog entries.</li> <li>Top Devices: By Traffic, or  Uptime, or Response time, or Poller   Duration, or Processor load, or Memory Usage, or Storage Usage.</li> <li>Top Interfaces: Lists top interfaces by traffic utilization.</li> <li>World Map: displays all your devices locations. From syslocation or   from override sysLocation.</li> </ul> <p>List of Widgets:</p> <p> </p>"},{"location":"Extensions/Dashboards/#dashboard-permissions","title":"Dashboard Permissions","text":"<ul> <li>Private: Sets the dashboard to only the user that created the   dashboard can view and edit.</li> <li>Shared Read: Sets the dashboard to allow other users to view the   dashboard, but cant make changes to the dashboard.</li> <li>Shared: Allows all users to view the dashboard and make changes.</li> </ul>"},{"location":"Extensions/Dashboards/#setting-a-global-default-dashboard","title":"Setting a global default dashboard","text":"<p>Step 1: Set the dashboard to either shared read or shared, depending on what you want the users access to change.</p> <p>Step 2: Then go to Settings -&gt; WebUI settings -&gt; Dashboard Settings and set the global default dashboard.</p>"},{"location":"Extensions/Dashboards/#setting-embedded-webpage","title":"Setting embedded webpage","text":"<p>Using the Notes Widget.</p> <pre><code>&lt;iframe src=\"your_url\" frameBorder=\"0\" width=\"100%\" height = \"100%\"&gt;\n  &lt;p&gt;Your browser does not support iframes.&lt;/p&gt;\n&lt;/iframe&gt;\n</code></pre> <p>Note you may need to play with the width and height and also size your widget properly.</p> <p><code>src=\"url\"</code> needs to be URL to webpage you are linking to. Also some web pages may not support html embedded or iframe. </p>"},{"location":"Extensions/Dashboards/#how-to-create-ports-graph","title":"How to create ports graph","text":"<p>In the dashboard, you want to create an interface graph select the widget called</p> <p>'Graph' then select \"Port\" -&gt; \"Bits\" </p> <p>Note: you can map the port by description or the alias or by port id. You will need to know this in order to map the port to the graph.</p> <p></p>"},{"location":"Extensions/Dashboards/#dimension-parameter-replacement-for-generic-image-widget","title":"Dimension parameter replacement for Generic-image widget","text":"<p>When using the Generic-image widget you can provide the width and height of the widget with your request. This will ensure that the image will fit nicely with the dimensions if the Generic-image widget. You can add <code>@AUTO_HEIGHT@</code> and <code>@AUTO_WIDTH@</code> to the Image URL as parameters.</p> <p>Examples:</p> <ul> <li>http://librenms.example.com/graph.php?id=333%2C444&amp;type=multiport_bits_separate&amp;legend=no&amp;absolute=1&amp;from=-14200&amp;width=@AUTO_WIDTH@&amp;height=@AUTO_HEIGHT@</li> <li>http://example.com/myimage.php?size=@AUTO_WIDTH@x@AUTO_HEIGHT@</li> </ul>"},{"location":"Extensions/Dell-OpenManage/","title":"Dell OpenManage Support","text":"<p>For Dell OpenManage support you will need to install Dell OpenManage (yeah - really :)) (minimum 5.1) onto the device you want to monitor. Ensure that net-snmp is using srvadmin, you should see something similar to:</p> <pre><code>master agentx\nview all included .1\naccess notConfigGroup \"\" any noauth exact all none none\nsmuxpeer .1.3.6.1.4.1.674.10892.1\n</code></pre> <p>Restart net-snmp:</p> <pre><code>service snmpd restart\n</code></pre> <p>Ensure that srvadmin is started, this is usually done by executing:</p> <pre><code>/opt/dell/srvadmin/sbin/srvadmin-services.sh start\n</code></pre> <p>Once this has been done, add the device to LibreNMS as normal and you will start to receive Temperatures and Fan speed data.</p>"},{"location":"Extensions/Dell-OpenManage/#windows","title":"Windows","text":"<p>Download OpenManage from Dell's support page Link and install OpenManage on your windows server. Make sure you have SNMP setup and running on your windows server.</p>"},{"location":"Extensions/Dependency-Map/","title":"Dependency Map","text":"<p>LibreNMS has the ability to show you a dynamic network map based on device dependencies that have been configure. These maps are accessed through the following menu options:</p> <ul> <li>Overview -&gt; Maps -&gt; Device Dependency</li> <li>Overview -&gt; Maps -&gt; Device Groups Dependencies</li> </ul>"},{"location":"Extensions/Dependency-Map/#settings","title":"Settings","text":"<p>The map display can be configured by altering the VisJS-Config.md</p>"},{"location":"Extensions/Device-Groups/","title":"Grouping Devices","text":"<p>LibreNMS supports grouping your devices together in much the same way as you can configure alerts. This document will hopefully help you get started.</p>"},{"location":"Extensions/Device-Groups/#dynamic-groups","title":"Dynamic Groups","text":""},{"location":"Extensions/Device-Groups/#rule-editor","title":"Rule Editor","text":"<p>The rule is based on the MySQL structure your data is in. Such as tablename.columnname. If you already know the entity you want, you can browse around inside MySQL using <code>show tables</code> and <code>desc &lt;tablename&gt;</code>.</p> <p>As a working example and a common question, let's assume you want to group devices by hostname. If your hostname format is dcX.[devicetype].example.com. You would use the field <code>devices.hostname</code>.</p> <p>If you want to group them by device type, you would add a rule for routers of <code>devices.hostname</code> endswith <code>rtr.example.com</code>.</p> <p>If you want to group them by DC, you could use the rule <code>devices.hostname</code> regex <code>dc1\\..*\\.example\\.com</code> (Don't forget to escape periods in the regex)</p>"},{"location":"Extensions/Device-Groups/#static-groups","title":"Static Groups","text":"<p>You can create static groups (and convert dynamic groups to static) to put specific devices in a group. Just select static as the type and select the devices you want in the group.</p> <p></p> <p>You can now select this group from the Devices -&gt; All Devices link in the navigation at the top. You can also use the group to map alert rules to by creating an alert mapping <code>Overview -&gt; Alerts -&gt; Rule Mapping</code>.</p>"},{"location":"Extensions/Dispatcher-Service/","title":"Dispatcher Service","text":"<p>Status: Release Candidate</p> <p>The LibreNMS dispatcher service (<code>librenms-service.py</code>) is a new method of running the poller service at set times. It does not replace the php scripts, just the cron entries running them.</p>"},{"location":"Extensions/Dispatcher-Service/#external-requirements","title":"External Requirements","text":""},{"location":"Extensions/Dispatcher-Service/#a-recent-version-of-python","title":"A recent version of Python","text":"<p>The LibreNMS service requires Python 3 and some features require behaviour only found in Python3.4+.</p>"},{"location":"Extensions/Dispatcher-Service/#python-modules","title":"Python modules","text":"<ul> <li>PyMySQL is recommended as it requires no C compiler to   install. MySQLclient can also be used, but does require compilation.</li> <li>python-dotenv .env loader</li> <li>redis-py 4.0+ and Redis 5.0+ server (if using distributed polling)</li> <li>psutil</li> </ul> <p>These can be obtained from your OS package manager, or from PyPI with the below commands.</p> <pre><code>pip3 install -r requirements.txt\n</code></pre>"},{"location":"Extensions/Dispatcher-Service/#redis-distributed-polling","title":"Redis (distributed polling)","text":"<p>If you want to use distributed polling, you'll need a Redis instance to coordinate the nodes. It's recommended that you do not share the Redis database with any other system - by default, Redis supports up to 16 databases (numbered 0-15). You can also use Redis on a single host if you want</p> <p>It's strongly recommended that you deploy a resilient cluster of redis systems, and use redis-sentinel.</p> <p>You should not rely on the password for the security of your system. See https://redis.io/topics/security</p>"},{"location":"Extensions/Dispatcher-Service/#memcached-distributed-polling","title":"Memcached (distributed polling)","text":"<p>LibreNMS can still use memcached as a locking mechanism when using distributed polling.  So you can configure memcached for this purpose unless you have updates disabled.</p> <p>See <code>Locking Mechanisms</code> at https://docs.librenms.org/Extensions/Distributed-Poller/</p>"},{"location":"Extensions/Dispatcher-Service/#mysql","title":"MySQL","text":"<p>You should already have this, but the pollers do need access to the SQL database. The LibreNMS service runs faster and more aggressively than the standard poller, so keep an eye on the number of open connections and other important health metrics.</p>"},{"location":"Extensions/Dispatcher-Service/#configuration","title":"Configuration","text":"<p>Connection settings are required in <code>.env</code>. The <code>.env</code> file is generated after composer install and <code>APP_KEY</code> and <code>NODE_ID</code> are set. Remember that the APP_KEY value must be the same on all your pollers.</p> <pre><code>#APP_KEY=   #Required, generated by composer install\n#NODE_ID=   #Required, generated by composer install\n\nDB_HOST=localhost\nDB_DATABASE=librenms\nDB_USERNAME=librenms\nDB_PASSWORD=\n</code></pre>"},{"location":"Extensions/Dispatcher-Service/#distributed-polling-configuration","title":"Distributed Polling Configuration","text":"<p>Once you have your Redis database set up, configure it in the .env file on each node. Configure the redis cache driver for distributed locking.</p> <p>There are a number of options - most of them are optional if your redis instance is standalone and unauthenticated (neither recommended).</p> <pre><code>##\n## Standalone\n##\nREDIS_HOST=127.0.0.1\nREDIS_PORT=6379\nREDIS_DB=0\nREDIS_TIMEOUT=60\n\n# If requirepass is set in redis set everything above as well as: (recommended)\nREDIS_PASSWORD=PasswordGoesHere\n\n# If ACL's are in use, set everything above as well as: (highly recommended)\nREDIS_USERNAME=UsernameGoesHere\n\n##\n## Sentinel\n##\nREDIS_SENTINEL=redis-001.example.org:26379,redis-002.example.org:26379,redis-003.example.org:26379\nREDIS_SENTINEL_SERVICE=mymaster\n\n# If requirepass is set in sentinel, set everything above as well as: (recommended)\nREDIS_SENTINEL_PASSWORD=SentinelPasswordGoesHere\n\n# If ACL's are in use, set everything above as well as: (highly recommended)\nREDIS_SENTINEL_USERNAME=SentinelUsernameGoesHere\n</code></pre> <p>For more information on ACL's, see https://redis.io/docs/management/security/acl/ </p> <p>Note that if you use Sentinel, you may still need <code>REDIS_PASSWORD</code>, <code>REDIS_USERNAME</code>, <code>REDIS_DB</code> and <code>REDIS_TIMEOUT</code> - Sentinel just provides the address of the instance currently accepting writes and manages failover. It's possible (and recommended) to have authentication both on Sentinel and the managed Redis instances.</p>"},{"location":"Extensions/Dispatcher-Service/#basic-configuration","title":"Basic Configuration","text":"<p>Additional configuration settings can be set in your config.</p> <p>The defaults are shown here - it's recommended that you at least tune the number of workers.</p> <p>poller/distributed</p> <pre><code>lnms config:set service_poller_workers 24\nlnms config:set service_services_workers 8\nlnms config:set service_discovery_workers 16\n</code></pre> <p>Optional Settings</p> <p>poller/distributed</p> <pre><code>lnms config:set service_poller_frequency 300\nlnms config:set service_services_frequency 300\nlnms config:set service_discovery_frequency 21600\nlnms config:set service_billing_frequency 300\nlnms config:set service_billing_calculate_frequency 60\nlnms config:set service_poller_down_retry 60\nlnms config:set service_loglevel INFO\nlnms config:set service_update_frequency 86400\n</code></pre> <p>There are also some SQL options, but these should be inherited from your LibreNMS web UI configuration.</p> <p>Logs are sent to the system logging service (usually <code>journald</code> or <code>rsyslog</code>) - see https://docs.python.org/3/library/logging.html#logging-levels for the options available.</p> <pre><code>$config['distributed_poller']                    = true;            # Set to true to enable distributed polling\n$config['distributed_poller_name']               = php_uname('n');  # Uniquely identifies the poller instance\n$config['distributed_poller_group']              = 0;               # Which group to poll\n</code></pre>"},{"location":"Extensions/Dispatcher-Service/#tuning-the-number-of-workers","title":"Tuning the number of workers","text":"<p>See https://your_librenms_install/poller</p> <p>You want to keep Consumed Worker Seconds comfortably below Maximum Worker Seconds. The closer the values are to each other, the flatter the CPU graph of the poller machine. Meaning that you are utilizing your CPU resources well. As long as Consumed WS stays below Maximum WS and Devices Pending is 0, you should be ok.</p> <p>If Consumed WS is below Maximum WS and Devices Pending is &gt; 0, your hardware is not up to the task.</p> <p>Maximum WS equals the number of workers multiplied with the number of seconds in the polling period. (default 300)</p>"},{"location":"Extensions/Dispatcher-Service/#fast-ping","title":"Fast Ping","text":"<p>The fast ping scheduler is disabled by default. You can enable it by setting the following:</p> <pre><code>$config['service_ping_enabled'] = true;\n</code></pre>"},{"location":"Extensions/Dispatcher-Service/#watchdog","title":"Watchdog","text":"<p>The watchdog scheduler is disabled by default. You can enable it by setting the following:</p> <pre><code>$config['service_watchdog_enabled'] = true;\n</code></pre> <p>The watchdog scheduler will check that the poller log file has been written to within the last poll period. If there is no change to the log file since, the watchdog will restart the polling service. The poller log file is set by <code>$config['log_file']</code> and defaults to <code>./logs/librenms.log</code></p>"},{"location":"Extensions/Dispatcher-Service/#cron-scripts","title":"Cron Scripts","text":"<p>Once the LibreNMS service is installed, the cron scripts used by LibreNMS to start alerting, polling, discovery and maintenance tasks are no longer required and must be disabled either by removing or commenting them out. The service handles these tasks when enabled.</p>"},{"location":"Extensions/Dispatcher-Service/#service-installation","title":"Service Installation","text":"<p>A systemd unit file is provided - You must adapt <code>ExecStart</code> and <code>WorkingDirectory</code> if you did not install librenms in <code>/opt/librenms</code></p> <p>The sysv and upstart init scripts could also be used with a little modification.</p>"},{"location":"Extensions/Dispatcher-Service/#systemd-service","title":"systemd service","text":"<p>A systemd unit file can be found in <code>misc/librenms.service</code>. To install run: <pre><code>cp /opt/librenms/misc/librenms.service /etc/systemd/system/librenms.service &amp;&amp; systemctl enable --now librenms.service\n</code></pre></p>"},{"location":"Extensions/Dispatcher-Service/#systemd-service-with-watchdog","title":"systemd service with watchdog","text":"<p>This service file is an alternative to the above service file. It uses the systemd WatchdogSec= option to restart the service if it does not receive a keep-alive from the running process.</p> <p>A systemd unit file can be found in <code>misc/librenms-watchdog.service</code>. To install run: <pre><code>cp /opt/librenms/misc/librenms-watchdog.service /etc/systemd/system/librenms.service &amp;&amp; systemctl enable --now librenms.service\n</code></pre></p> <p>This requires: python3-systemd (or python-systemd on older systems) or https://pypi.org/project/systemd-python/ If you run this systemd service without python3-systemd it will restart every 30 seconds.</p>"},{"location":"Extensions/Dispatcher-Service/#os-specific-instructions","title":"OS-Specific Instructions","text":""},{"location":"Extensions/Dispatcher-Service/#rhelcentos","title":"RHEL/CentOS","text":"<p>To get the LibreNMS service running under python3.4+ on RHEL-derivatives with minimal fuss, you can use the software collections build:</p> <p>First, enable SCL's on your system:</p>"},{"location":"Extensions/Dispatcher-Service/#centos-7","title":"CentOS 7","text":"<pre><code># yum install centos-release-scl\n</code></pre>"},{"location":"Extensions/Dispatcher-Service/#rhel-7","title":"RHEL 7","text":"<pre><code># subscription-manager repos --enable rhel-server-rhscl-7-rpms\n</code></pre> <p>Then install and configure the runtime and service:</p> <pre><code># yum install gcc rh-python36 rh-python36-python-devel epel-release\n# yum --enablerepo=remi install redis\n# vi /opt/librenms/config.php\n# vi /etc/redis.conf\n# systemctl enable --now redis.service\n# scl enable rh-python36 bash\n# change directory to librenms (default /opt/librenms)\n# pip3 install -r requirements.txt\n# cp /opt/librenms/misc/librenms.service.scl /etc/systemd/system/librenms.service\n# systemctl enable --now librenms.service\n</code></pre> <p>If you want to use another version of python 3, change <code>rh-python36</code> in the unit file and the commands above to match the name of the replacement scl.</p>"},{"location":"Extensions/Dispatcher-Service/#debianubuntu","title":"Debian/Ubuntu","text":""},{"location":"Extensions/Dispatcher-Service/#debian-11-bullseye","title":"Debian 11 (Bullseye)","text":"<p>Warning: Bullseye provide PHP 7.4 that is too old to run LibreNMS.</p>"},{"location":"Extensions/Dispatcher-Service/#debian-12-bookworm","title":"Debian 12 (Bookworm)","text":"<p>Install dependancies <pre><code>apt install python3 python3-mysqldb python3-dotenv\n</code></pre></p> <p>Add the <code>python3-systemd</code> package for service with watchdog.</p>"},{"location":"Extensions/Distributed-Poller/","title":"Distributed Poller","text":"<p>A normal install contains all parts of LibreNMS:</p> <ul> <li>Poller/Discovery/etc workers</li> <li>RRD (Time series data store) *</li> <li>Database *</li> <li>Webserver (Web UI/API) *</li> </ul> <p>* may only be installed on one server (however, some can be clustered)</p> <p>Distributed Polling allows the workers to be spread across additional servers for horizontal scaling. Distributed polling is not intended for remote polling.</p> <p>Devices can be grouped together into a <code>poller_group</code> to pin these devices to a single or a group of designated pollers.</p> <p>All pollers need to write to the same set of RRD files, preferably via RRDcached.</p> <p>It is also a requirement that at least one locking service is in place to which all pollers can connect. There are currently three locking mechanisms available</p> <ul> <li>memcached</li> <li>redis (preferred)</li> <li>sql locks (default)</li> </ul> <p>All of the above locking mechanisms are natively supported in LibreNMS. If none are specified, it will default to using SQL.</p>"},{"location":"Extensions/Distributed-Poller/#requirements-for-distributed-polling","title":"Requirements for distributed polling","text":"<p>These requirements are above the normal requirements for a full LibreNMS install.</p> <ul> <li>rrdtool version 1.4 or above</li> <li>At least one locking mechanism configured</li> <li>a rrdcached install</li> </ul> <p>By default, all hosts are shared and have the <code>poller_group = 0</code>. To pin a device to a poller, set it to a value greater than 0 and set the same value in the poller's config with <code>distributed_poller_group</code>. One can also specify a comma separated string of poller groups in <code>distributed_poller_group</code>.  The poller will then poll devices from any of the groups listed.  If new devices get added from the poller they will be assigned to the first poller group in the list unless the group is specified when adding the device.</p> <p>The following is a standard config, combined with a locking mechanism below:</p> <p>poller/distributed</p> <pre><code>lnms config:set distributed_poller true\nlnms config:set distributed_poller_group 0\n</code></pre> <p>If you want to customise the hostname for the poller then you will need to set this in <code>config.php</code>:</p> <pre><code>$config['distributed_poller_name']           = php_uname('n');\n</code></pre>"},{"location":"Extensions/Distributed-Poller/#locking-mechanisms","title":"Locking mechanisms","text":"<p>Pick one of the following setups, do not use all of them at the same time.</p>"},{"location":"Extensions/Distributed-Poller/#using-redis","title":"Using REDIS","text":"<p>In your <code>.env</code> file you will need to specify a redis server, port and the driver.</p> <pre><code>REDIS_HOST=HOSTNAME or IP\nREDIS_PORT=6379\nCACHE_DRIVER=redis\n</code></pre>"},{"location":"Extensions/Distributed-Poller/#using-memcached","title":"Using Memcached","text":"<p>Preferably you should set the memcached server settings via the web UI. Under Settings &gt; Global Settings &gt; Distributed poller, you fill out the memcached host and port, and then in your <code>.env</code> file you will need to add:</p> <p><pre><code>CACHE_DRIVER=memcached\n</code></pre> If you want to use memcached, you will also need to install an additional Python 3 python-memcached package.</p>"},{"location":"Extensions/Distributed-Poller/#example-setup","title":"Example Setup","text":"<p>Below is an example setup based on a real deployment which at the time of writing covers over 2,500 devices and 50,000 ports. The setup is running within an OpenStack environment with some commodity hardware for remote pollers. Here's a diagram of how you can scale LibreNMS out:</p> <p></p>"},{"location":"Extensions/Distributed-Poller/#architecture","title":"Architecture","text":"<p>How you set the distribution up is entirely up to you. You can choose to host the majority of the required services on a single virtual machine or server and then a poller to actually query the devices being monitored, all the way through to having a dedicated server for each of the individual roles. Below are notes on what you need to consider both from the software layer, but also connectivity.</p>"},{"location":"Extensions/Distributed-Poller/#web-api-layer","title":"Web / API Layer","text":"<p>This is typically Apache but we have setup guides for both Nginx and Lighttpd which should work perfectly fine. There is nothing unique about the role this service is providing except that if you are adding devices from this layer then the web service will need to be able to connect to the end device via SNMP and perform an ICMP test.</p> <p>It is advisable to run RRDCached within this setup so that you don't need to share the rrd folder via a remote file share such as NFS. The web service can then generate rrd graphs via RRDCached. If RRDCached isn't an option then you can mount the rrd directory to read the RRD files directly.</p>"},{"location":"Extensions/Distributed-Poller/#database-server","title":"Database Server","text":"<p>MySQL / MariaDB - At the moment these are the only database servers that are supported.</p> <p>The pollers, web and API layers should all be able to access the database server directly.</p>"},{"location":"Extensions/Distributed-Poller/#rrd-storage","title":"RRD Storage","text":"<p>Central storage should be provided so all RRD files can be read from and written to in one location. As suggested above, it's recommended that RRD Cached is configured and used.</p> <p>For this example, we are running RRDCached to allow all pollers and web/api servers to read/write to the rrd files with the rrd directory also exported by NFS for simple access and maintenance.</p>"},{"location":"Extensions/Distributed-Poller/#pollers","title":"Pollers","text":"<p>Pollers can be installed and run from anywhere, the only requirements are:</p> <ul> <li>They can access the Memcache instance</li> <li>They can create RRD files via some method such as a shared   filesystem or RRDTool &gt;=1.5.5</li> <li>They can access the MySQL server</li> </ul> <p>You can either assign pollers into groups and set a poller group against certain devices, this will mean that those devices will only be processed by certain pollers (default poller group is 0) or you can assign all pollers to the default poller group for them to process any and all devices.</p> <p>This will provide the ability to have a single poller behind a NAT firewall monitor internal devices and report back to your central system. You will then be able to monitor those devices from the Web UI as normal.</p> <p>Another benefit to this is that you can provide N+x pollers, i.e if you know that you require three pollers to process all devices within 300 seconds then adding a 4th poller will mean that should any one single poller fail then the remaining three will complete polling in time. You could also use this to take a poller out of service for maintenance, i.e OS updates and software updates.</p> <p>It is extremely advisable to either run a central recursive dns server such as pdns-recursor and have all of your pollers use this or install a recursive dns server on each poller - the volume of DNS requests on large installs can be significant and will slow polling down enough to cause issues with a large number of devices.</p> <p>A last note to make sure of, is that all pollers writing to the same DB need to have the same <code>APP_KEY</code> value set in the <code>.env</code> file.</p>"},{"location":"Extensions/Distributed-Poller/#discovery","title":"Discovery","text":"<p>Depending on your setup will depend on how you configure your discovery processes.</p> <p>Cron based polling</p> <p>It's not necessary to run discovery services on all pollers. In fact, you should only run one discovery process per poller group. Designate a single poller to run discovery (or a separate server if required).</p> <p>If you run billing, you can do this in one of two ways:</p> <ol> <li>Run poll-billing.php and calculate-billing.php on a single poller which will  create billing information for all bills. Please note this poller must have  snmp access to all of your devices which have ports within a bill.</li> <li>The other option is to enable <code>$config['distributed_billing'] = true;</code> in  config.php. Then run poll-billing.php on a single poller per group. You can run  calculate-billing.php on any poller but only one poller overall.</li> </ol> <p>Dispatcher service When using the dispatcher service, discovery can run on all nodes.</p>"},{"location":"Extensions/Distributed-Poller/#configuration","title":"Configuration","text":"<p>Settings in config.php should be copied to all servers as they only apply locally.</p> <p>One way around this is to set settings in the database via the web ui or <code>./lnms config:set</code></p>"},{"location":"Extensions/Distributed-Poller/#config-sample","title":"Config sample","text":"<p>The following config is taken from a live setup which consists of a Web server, DB server, RRDCached server and 3 pollers.</p> <p>Web Server:</p> <p>Running Apache and an install of LibreNMS in /opt/librenms</p> <p>poller/distributed</p> <pre><code>lnms config:set distributed_poller true\n</code></pre> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"example.com:42217\"\n</code></pre> <p>Database Server: Running Memcache and MariaDB</p> <ul> <li>Memcache</li> </ul> <p>Ubuntu (/etc/memcached.conf)</p> <pre><code>-d\n-m 64\n-p 11211\n-u memcache\n-l ip.ip.ip.ip\n</code></pre> <p>RRDCached Server: Running RRDCached</p> <ul> <li>RRDCached</li> </ul> <p>Ubuntu (/etc/default/rrdcached)</p> <pre><code>OPTS=\"-l 0:42217\"\nOPTS=\"$OPTS -j /var/lib/rrdcached/journal/ -F\"\nOPTS=\"$OPTS -b /opt/librenms/rrd -B\"\nOPTS=\"$OPTS -w 1800 -z 900\"\n</code></pre> <p>Ubuntu (/etc/default/rrdcached) - RRDCached 1.5.5 and above.</p> <pre><code>BASE_OPTIONS=\"-l 0:42217\"\nBASE_OPTIONS=\"$BASE_OPTIONS -R -j /var/lib/rrdcached/journal/ -F\"\nBASE_OPTIONS=\"$BASE_OPTIONS -b /opt/librenms/rrd -B\"\nBASE_OPTIONS=\"$BASE_OPTIONS -w 1800 -z 900\"\n</code></pre> <p>Poller 1: Running an install of LibreNMS in /opt/librenms</p> <p><code>config.php</code></p> <pre><code>$config['distributed_poller_name']           = php_uname('n');\n$config['distributed_poller_group']          = '0';\n$config['distributed_billing']               = true;\n</code></pre> <p>poller/distributed</p> <pre><code>lnms config:set distributed_poller_memcached_host \"example.com\"\nlnms config:set distributed_poller_memcached_port 11211\nlnms config:set distributed_poller true\n</code></pre> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"example.com:42217\"\n</code></pre> <p><code>/etc/cron.d/librenms</code></p> <p>Runs discovery and polling for group 0, daily.sh to deal with notifications and DB cleanup and alerts.</p> <pre><code>33   */6  * * *   librenms    /opt/librenms/cronic /opt/librenms/discovery-wrapper.py 1\n*/5  *    * * *   librenms    /opt/librenms/discovery.php -h new &gt;&gt; /dev/null 2&gt;&amp;1\n*/5  *    * * *   librenms    /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16\n15   0    * * *   librenms    /opt/librenms/daily.sh &gt;&gt; /dev/null 2&gt;&amp;1\n*    *    * * *   librenms    /opt/librenms/alerts.php &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre> <p>Poller 2: Running an install of LibreNMS in /opt/librenms</p> <p><code>config.php</code></p> <pre><code>$config['distributed_poller_name']           = php_uname('n');\n$config['distributed_poller_group']          = '0';\n$config['distributed_billing']               = true;\n</code></pre> <p>poller/distributed</p> <pre><code>lnms config:set distributed_poller_memcached_host \"example.com\"\nlnms config:set distributed_poller_memcached_port 11211\nlnms config:set distributed_poller true\n</code></pre> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"example.com:42217\"\n</code></pre> <p><code>/etc/cron.d/librenms</code></p> <p>Runs billing as well as polling for group 0.</p> <pre><code>*/5 * * * * librenms /opt/librenms/poller-wrapper.py 16 &gt;&gt; /opt/librenms/logs/wrapper.log\n*/5 * * * * librenms /opt/librenms/poll-billing.php &gt;&gt; /dev/null 2&gt;&amp;1\n01  * * * * librenms /opt/librenms/billing-calculate.php &gt;&gt; /dev/null 2&gt;&amp;1\n15  0 * * * librenms    /opt/librenms/daily.sh &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre> <p>Poller 3: Running an install of LibreNMS in /opt/librenms</p> <p><code>config.php</code></p> <pre><code>$config['distributed_poller_name']           = php_uname('n');\n$config['distributed_poller_group']          = '2,3';\n$config['distributed_billing']               = true;\n</code></pre> <p>poller/distributed</p> <pre><code>lnms config:set distributed_poller_memcached_host \"example.com\"\nlnms config:set distributed_poller_memcached_port 11211\nlnms config:set distributed_poller true\n</code></pre> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"example.com:42217\"\n</code></pre> <p><code>/etc/cron.d/librenms</code> Runs discovery and polling for groups 2 and 3.</p> <pre><code>33  */6 * * *   librenms    /opt/librenms/cronic /opt/librenms/discovery-wrapper.py 1\n*/5 *   * * *   librenms    /opt/librenms/discovery.php -h new &gt;&gt; /dev/null 2&gt;&amp;1\n*/5 *   * * *   librenms    /opt/librenms/poll-billing.php &gt;&gt; /dev/null 2&gt;&amp;1\n*/5 *   * * *   librenms    /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16\n15  0   * * *   librenms    /opt/librenms/daily.sh &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre>"},{"location":"Extensions/Fast-Ping-Check/","title":"Fast up/down checking","text":"<p>Normally, LibreNMS sends an ICMP ping to the device before polling to check if it is up or down. This check is tied to the poller frequency, which is normally 5 minutes.  This means it may take up to 5 minutes to find out if a device is down.</p> <p>Some users may want to know if devices stop responding to ping more quickly than that. LibreNMS offers a ping.php script to run ping checks as quickly as possible without increasing snmp load on your devices by switching to 1 minute polling.</p> <p>WARNING: If you do not have an alert rule that alerts on device status, enabling this will be a waste of resources. You can find one in the Alert Rules Collection.</p>"},{"location":"Extensions/Fast-Ping-Check/#setting-the-ping-check-to-1-minute","title":"Setting the ping check to 1 minute","text":"<p>1: If you are using RRDCached, stop the service.</p> <pre><code>- This will flush all pending writes so that the rrdstep.php script can change the steps.\n</code></pre> <p>2: Change the ping_rrd_step setting in config.php</p> <p>poller/rrdtool</p> <pre><code>lnms config:set ping_rrd_step 60\n</code></pre> <p>3: Update the rrd files to change the step (step is hardcoded at file creation in rrd files)</p> <pre><code>./scripts/rrdstep.php -h all\n</code></pre> <p>4: Add the following line to /etc/cron.d/librenms to allow 1 minute ping checks</p> <pre><code>*    *    * * *   librenms    /opt/librenms/ping.php &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre> <p>5: If applicable: Start the RRDCached service</p> <p>NOTE: If you are using distributed pollers you can restrict a poller to a group by appending <code>-g</code> to the cron entry.  Alternatively, you should only run ping.php on a single node.</p>"},{"location":"Extensions/Fast-Ping-Check/#sub-minute-ping-check","title":"Sub minute ping check","text":"<p>Cron only has a resolution of one minute, so for sub-minute ping checks we need to adapt both <code>ping</code> and <code>alerts</code> entries. We add two entries per function, but add a delay before one of these entries.</p> <p>Remember, you need to remove the original <code>ping.php</code> and <code>alerts.php</code> entries in crontab before proceeding!</p> <p>1: Set ping_rrd_step</p> <p>poller/rrdtool</p> <pre><code>lnms config:set ping_rrd_step 30\n</code></pre> <p>2: Update the rrd files</p> <pre><code>./scripts/rrdstep.php -h all\n</code></pre> <p>3: Update cron (removing any other ping.php or alert.php entries)</p> <pre><code>*    *    * * *   librenms    /opt/librenms/ping.php &gt;&gt; /dev/null 2&gt;&amp;1\n*    *    * * *   librenms    sleep 30 &amp;&amp; /opt/librenms/ping.php &gt;&gt; /dev/null 2&gt;&amp;1\n*    *    * * *   librenms    sleep 15 &amp;&amp; /opt/librenms/alerts.php &gt;&gt; /dev/null 2&gt;&amp;1\n*    *    * * *   librenms    sleep 45 &amp;&amp; /opt/librenms/alerts.php &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre>"},{"location":"Extensions/Fast-Ping-Check/#device-dependencies","title":"Device dependencies","text":"<p>The ping.php script respects device dependencies, but the main poller does not (for technical reasons). However, using this script does not disable the icmp check in the poller and a child may be reported as down before the parent.</p>"},{"location":"Extensions/Fast-Ping-Check/#settings","title":"Settings","text":"<p><code>ping.php</code> uses much the same settings as the poller fping with one exception: retries is used instead of count. <code>ping.php</code> does not measure loss and avg response time, only up/down, so once a device responds it stops pinging it.</p> <p>poller/ping</p> <pre><code>lnms config:set fping_options.retries 2\nlnms config:set fping_options.timeout 500\nlnms config:set fping_options.interval 500\n</code></pre>"},{"location":"Extensions/Galera-Cluster/","title":"MariaDB Galera Cluster","text":"<p>This is currently being tested, use at your own risk.</p> <p>LibreNMS can be used with a MariaDB Galera Cluster. This is a Multi Master cluster, meaning each node in the cluster can read and write to the database. They all have the same ability. LibreNMS will randomly choose a working node to read and write requests to.</p> <p>For more information see https://laravel.com/docs/database#read-and-write-connections</p>"},{"location":"Extensions/Galera-Cluster/#getting-started","title":"Getting Started","text":"<ul> <li>It is best practice to have a minimum of 3 nodes in the cluster, A odd number of nodes is recommended in the event nodes have a disagreement on data, they will have a tie breaker.</li> <li>It's recommended that all servers be similar in hardware performance, cluster performance can be affected by the slowest server in the cluster.</li> <li>Backup the database before starting, and backing up the database regularly is still recommended even in a working cluster environment.</li> </ul>"},{"location":"Extensions/Galera-Cluster/#install-and-configure-galera","title":"Install and Configure Galera","text":""},{"location":"Extensions/Galera-Cluster/#install-galera4-and-mariadb-server","title":"Install Galera4 and MariaDB Server","text":"<p>These can be obtained from your OS package manager. For example in Ubuntu. <pre><code>sudo apt-get install mariadb-server mariadb-client galera-4\n</code></pre></p>"},{"location":"Extensions/Galera-Cluster/#create-galera-config","title":"Create Galera Config","text":"<p>Create a new file /etc/mysql/conf.d/galera.conf on each node</p> <p><pre><code>[mysqld]\nbinlog_format=ROW\ndefault-storage-engine=innodb\ninnodb_autoinc_lock_mode=2\nbind-address=0.0.0.0\n\n# Galera Provider Configuration\nwsrep_on=ON\nwsrep_provider=/usr/lib/galera/libgalera_smm.so\n\n# Galera Cluster Configuration\nwsrep_cluster_name=\"librenms_cluster\"\nwsrep_cluster_address=\"gcomm://192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39\"\n\n# Galera Synchronization Configuration\nwsrep_sst_method=rsync\n\n# Galera Node Configuration\nwsrep_node_address=\"192.168.1.35\"\nwsrep_node_name=\"librenms1.35\"\n</code></pre> Change the following values for your environment. * wsrep_cluster_address -  All the IP address's of your nodes. * wsrep_cluster_name - Name of cluster, should be the same for all nodes * wsrep_node_address - IP address of this node. * wsrep_node_name - Name of this node.</p>"},{"location":"Extensions/Galera-Cluster/#edit-librenms-env","title":"Edit LibreNMS .env","text":"<p>LibreNMS supports up to 9 galera nodes, you define these nodes in the .env file. For each node we have the ability to define if this librenms installation/poller is able to write, read or both to that node. The galera nodes you define here can be the same or differnt for each librenms poller. If you have a poller you only want to write/read to one galera node, you would simply add one DB_HOST, and omit all the rest. This allows you to precisely control what galera nodes a librenms poller is reading and or writing too.</p> <ul> <li>DB_HOST is always set to read/write.</li> <li>DB_HOST must be set, however, it does not have to be the same on each poller, it can be different as long as it's part of the same galera cluster.</li> <li>If the node that is set to DB_HOST is down, things like <code>lnms db</code> command no longer work, as they only use DB_HOST and don't failover to other nodes.</li> <li>Set DB_CONNECTION=mysql_cluster to enable</li> <li>DB_STICKY can be used if you are pulling out of sync data form the database in a read request. For more information see https://laravel.com/docs/database#the-sticky-option</li> </ul> <p>The below example setting up 5 nodes</p> <p><pre><code>DB_HOST=192.168.1.35\nDB_HOST_R2=192.168.1.36\nDB_HOST_R3=192.168.1.37\nDB_HOST_R4=192.168.1.38\nDB_HOST_R5=192.168.1.39\nDB_HOST_W2=192.168.1.36\nDB_HOST_W3=192.168.1.37\n\nDB_STICKY=true\nDB_CONNECTION=mysql_cluster\nDB_DATABASE=librenms\nDB_USERNAME=librenms\nDB_PASSWORD=password\n</code></pre> The above .env on a librenms installation/poller would communicate to each galera node as follows.</p> <ul> <li>192.168.1.35 - Read/Write</li> <li>192.168.1.36 - Read/Write</li> <li>192.168.1.37 - Read/Write</li> <li>192.168.1.38 - Read Only</li> <li>192.168.1.39 - Read Only</li> </ul>"},{"location":"Extensions/Galera-Cluster/#starting-galera-cluster-for-the-first-time","title":"Starting Galera Cluster for the first time.","text":"<p>1) Shutdown MariaDB server on ALL nodes.     <pre><code>sudo systemctl stop mariadb-server\n</code></pre> 2) On the server with your existing database or any mariadb server if you are starting without existing data, run the following command     <pre><code>sudo galera_new_cluster\n</code></pre> 3) Start the rest of the nodes normally.     <pre><code>sudo systemctl start mariadb-server\n</code></pre></p>"},{"location":"Extensions/Galera-Cluster/#galera-cluster-status","title":"Galera Cluster Status","text":"<p>To see some stats on how the Galera cluster is preforming run the following.</p> <p><pre><code>lnms db\n</code></pre> In the database run following mysql query <pre><code>SHOW GLOBAL STATUS LIKE 'wsrep_%';\n</code></pre></p> Variable Name Value Notes ----------------------------------- ---------------------------------------------------------------- --------------------------------------------------------- wsrep_cluster_size 2 Current number of nodes in Cluster wsrep_cluster_state_uuid e71582f3-cf14-11eb-bcf6-a23029e16405 Last Transaction UUID, Should be the same for each node wsrep_connected On On = Connected with other nodes wsrep_local_state_comment Synced Synced with other nodes"},{"location":"Extensions/Galera-Cluster/#restarting-the-entire-cluster","title":"Restarting the Entire Cluster","text":"<p>In a cluster environment, steps should be taken to ensure that ALL nodes are not offline at the same time. Failed nodes can recover without issue as long as one node remains online. In the event that ALL nodes are offline, the following should be done to ensure you are starting the cluster with the most up-to-date database. To do this login to each node and running the following</p> <pre><code>sudo cat /var/lib/data/grastate.dat\n</code></pre> <pre><code># GALERA saved state\nversion: 2.1\nuuid:    e71582f3-cf14-11eb-bcf6-a23029e16405\nseqno:   -1\nsafe_to_bootstrap: 1\n</code></pre> <p>If the safe_to_bootstrap = 1, then Galera determined that this node has the most up-to-date database and can be safeley used to start the cluster.</p> <p>Once you have found a node that can be used for starting the cluster, follow the steps in starting for the first time.</p>"},{"location":"Extensions/Gateone/","title":"GateOne integration","text":"<p>We have simple integration for GateOne, you will be redirected to your Gateone command line frontend to access your equipment. (Currently this only works with SSH)</p> <p>GateOne itself isn't included within LibreNMS, you will need to install this separately either on the same infrastructure as LibreNMS or as a totally  standalone appliance. The installation is beyond the scope of this document.</p> <p>Config is simple, include the following in your <code>config.php</code>:</p> <pre><code>$config['gateone']['server'] = 'http://&lt;your_gateone_url/';\n</code></pre> <p>Note: You must use the full url including the trailing <code>/</code>!</p> <p>We also support prefixing the currently logged in Librenms user to the SSH connection URL that is created, eg. <code>ssh://admin@localhost</code> To enable this, put the following in your <code>config.php</code>:</p> <pre><code>$config['gateone']['use_librenms_user'] = true;\n</code></pre>"},{"location":"Extensions/Graylog/","title":"Graylog integration","text":"<p>We have simple integration for Graylog, you will be able to view any logs from within LibreNMS that have been parsed by the syslog input from within Graylog itself. This includes logs from devices which aren't in LibreNMS still, you can also see logs for a specific device under the logs section for the device.</p> <p>Currently, LibreNMS does not associate shortnames from Graylog with full FQDNS. If you have your devices in LibreNMS using full FQDNs, such as hostname.example.com, be aware that rsyslogd, by default, sends the shortname only. To fix this, add</p> <p><code>$PreserveFQDN on</code></p> <p>to your rsyslog config to send the full FQDN so device logs will be associated correctly in LibreNMS. Also see near the bottom of this document for tips on how to enable/suppress the domain part of hostnames in syslog-messages for some platforms.</p> <p>Graylog itself isn't included within LibreNMS, you will need to install this separately either on the same infrastructure as LibreNMS or as a totally standalone appliance.</p> <p>Config is simple, here's an example based on Graylog 2.4:</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.server 'http://127.0.0.1'\nlnms config:set graylog.port 9000\nlnms config:set graylog.username admin\nlnms config:set graylog.password 'admin'\nlnms config:set graylog.version 2.4\n</code></pre>"},{"location":"Extensions/Graylog/#timezone","title":"Timezone","text":"<p>Graylog messages are stored using GMT timezone. You can display graylog messages in LibreNMS webui using your desired timezone by setting the following option using <code>lnms config:set</code>:</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.timezone 'Europe/Bucharest'\n</code></pre> <p>Timezone must be PHP supported timezones, available at: https://php.net/manual/en/timezones.php</p>"},{"location":"Extensions/Graylog/#graylog-version","title":"Graylog Version","text":"<p>If you are running a version earlier than Graylog then please set</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.version 2.1\n</code></pre> <p>to the version  number of your Graylog install. Earlier versions than 2.1 use the default port <code>12900</code></p>"},{"location":"Extensions/Graylog/#uri","title":"URI","text":"<p>If you have altered the default uri for your Graylog setup then you can override the default of <code>/api/</code> using</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.base_uri '/somepath/'\n</code></pre>"},{"location":"Extensions/Graylog/#user-credentials","title":"User Credentials","text":"<p>If you don't want to use an admin account for connection to Graylog Log into http:///api/api-browser/global/index.html using graylog admin credentials Browse to: Roles: User roles Click on: Create a new role In JSON body paste this: <p><pre><code>{\n    \"name\": \"LibreNMS-Read\",\n    \"description\": \"Extended reading permissions for LibreNMS\",\n    \"permissions\" : [\n        \"searches:relative\",\n        \"streams:read\"\n    ]\n}\n</code></pre> Press \u201cTry it out\u201d Log into graylog web ui as admin and add the role to the user</p> <p>Otherwise you must give the user \"admin\" permissions from within Graylog, \"read\" permissions alone are not sufficient.</p>"},{"location":"Extensions/Graylog/#tls-certificate","title":"TLS Certificate","text":"<p>If you have enabled TLS for the Graylog API and you are using a self-signed certificate, please make sure that the certificate is trusted by your LibreNMS host, otherwise the connection will fail. Additionally, the certificate's Common Name (CN) has to match the FQDN or IP address specified in</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.server example.com\n</code></pre>"},{"location":"Extensions/Graylog/#match-any-address","title":"Match Any Address","text":"<p>If you want to match the source address of the log entries against any IP address of a device instead of only against the primary address and the host name to assign the log entries to a device, you can activate this function using</p> <pre><code>lnms config:set graylog.match-any-address true\n</code></pre>"},{"location":"Extensions/Graylog/#recent-devices","title":"Recent Devices","text":"<p>There are 2 configuration parameters to influence the behaviour of the \"Recent Graylog\" table on the overview page of the devices.</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.device-page.rowCount 10\n</code></pre> <p>Sets the maximum number of rows to be displayed (default: 10)</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.device-page.loglevel 7\n</code></pre> <p>You can set which loglevels that should be displayed on the overview page. (default: 7, min: 0, max: 7)</p> <p>external/graylog</p> <pre><code>lnms config:set graylog.device-page.loglevel 4\n</code></pre> <p>Shows only entries with a log level less than or equal to 4 (Emergency, Alert, Critical, Error, Warning).</p> <p>You can set a default Log Level Filter with <pre><code>lnms config:set graylog.loglevel 7\n</code></pre>  (applies to  /graylog and /device/device=/tab=logs/section=graylog/ (min: 0, max: 7)</p>"},{"location":"Extensions/Graylog/#domain-and-hostname-handling","title":"Domain and hostname handling","text":"<p>Suppressing/enabling the domain part of a hostname for specific platforms</p> <p>You should see if what you get in syslog/Graylog matches up with your configured hosts first. If you need to modify the syslog messages from specific platforms, this may be of assistance:</p>"},{"location":"Extensions/Graylog/#ios-cisco","title":"IOS (Cisco)","text":"<pre><code>router(config)# logging origin-id hostname\n</code></pre> <p>or</p> <pre><code>router(config)# logging origin-id string\n</code></pre>"},{"location":"Extensions/Graylog/#junos-juniper-networks","title":"JunOS (Juniper Networks)","text":"<pre><code>set system syslog host yourlogserver.corp log-prefix YOUR_PREFERRED_STRING\n</code></pre>"},{"location":"Extensions/Graylog/#panos-palo-alto-networks","title":"PanOS (Palo Alto Networks)","text":"<pre><code>set deviceconfig setting management hostname-type-in-syslog hostname\n</code></pre> <p>or</p> <pre><code>set deviceconfig setting management hostname-type-in-syslog FQDN\n</code></pre>"},{"location":"Extensions/IRC-Bot-Extensions/","title":"IRC Bot Extensions","text":"<p>Okay this is a very quick walk-through in writing your own <code>commands</code> for the IRC-Bot.</p> <p>First of all, create a file in <code>includes/ircbot</code>, the file-name should be in this format: <code>command.inc.php</code>.</p> <p>When editing the file, do not open nor close PHP-tags. Any variable you assign will be discarded as soon as your command returns. Some variables, specially all listed under <code>$this-&gt;</code>, have special meanings or effects. Before a command is executed, the IRC-Bot ensures that the MySQL-Socket is working, that <code>$this-&gt;user</code> points to the right user and that the user is authenticated. Below you will find a table with related functions and attributes. You can chain-load any built-in command by calling <code>$this-&gt;_command(\"My Parameters\")</code>. You cannot chain-load external commands.</p> <p>To enable your command, edit your <code>config.php</code> and add something like this:</p> <pre><code>   ...\n   $config['irc_external'][] = \"mycommand\";\n   ...\n</code></pre> <p>See: Example</p>"},{"location":"Extensions/IRC-Bot-Extensions/#functions-and-attributes","title":"Functions and Attributes","text":"<p>... that are accessible from within an extension</p>"},{"location":"Extensions/IRC-Bot-Extensions/#functions","title":"Functions","text":"Function( (Type) $Variable [= Default] [,...] ) Returns Description <code>$this-&gt;getChan( )</code> <code>String</code> Returns <code>channel</code> of current event. <code>$this-&gt;getData( (boolean) $Block = false )</code> <code>String/Boolean</code> Returns a <code>line</code> from the IRC-Buffer if it's not matched against any other <code>command</code>. If <code>$Block</code> is <code>true</code>, wait until a suitable line is returned. <code>$this-&gt;getUser( )</code> <code>String</code> Returns <code>nick</code> of current user. Not to confuse with <code>$this-&gt;user</code>! <code>$this-&gt;get_user( )</code> <code>Array</code> See <code>$this-&gt;user</code> in Attributes. <code>$this-&gt;irc_raw( (string) $Protocol )</code> <code>Boolean</code> Sends raw IRC-Protocol. <code>$this-&gt;isAuthd( )</code> <code>Boolean</code> <code>true</code> if the user is authenticated. <code>$this-&gt;joinChan( (string) $Channel )</code> <code>Boolean</code> Joins given <code>$Channel</code>. <code>$this-&gt;log( (string) $Message )</code> <code>Boolean</code> Logs given <code>$Message</code> into <code>STDOUT</code>. <code>$this-&gt;read( (string) $Buffer )</code> <code>String/Boolean</code> Returns a <code>line</code> from given <code>$Buffer</code> or <code>false</code> if there's nothing suitable inside the Buffer. Please use <code>$this-&gt;getData()</code> for handler-safe data retrieval. <code>$this-&gt;respond( (string) $Message )</code> <code>Boolean</code> Responds to the <code>request</code> auto-detecting channel or private message."},{"location":"Extensions/IRC-Bot-Extensions/#attributes","title":"Attributes","text":"Attribute Type Description <code>$params</code> <code>String</code> Contains all arguments that are passed to the <code>.command</code>. <code>$this-&gt;chan</code> <code>Array</code> Channels that are configured. <code>$this-&gt;commands</code> <code>Array</code> Contains accessible <code>commands</code>. <code>$this-&gt;config</code> <code>Array</code> Contains <code>$config</code> from <code>config.php</code>. <code>$this-&gt;data</code> <code>String</code> Contains raw IRC-Protocol. <code>$this-&gt;debug</code> <code>Boolean</code> Debug-Flag. <code>$this-&gt;external</code> <code>Array</code> Contains loaded extra <code>commands</code>. <code>$this-&gt;nick</code> <code>String</code> Bot's <code>nick</code> on the IRC. <code>$this-&gt;pass</code> <code>String</code> IRC-Server's passphrase. <code>$this-&gt;port</code> <code>Int</code> IRC-Server's port-number. <code>$this-&gt;server</code> <code>String</code> IRC-Server's hostname. <code>$this-&gt;ssl</code> <code>Boolean</code> SSL-Flag. <code>$this-&gt;tick</code> <code>Int</code> Interval to check buffers in microseconds. <code>$this-&gt;user</code> <code>Array</code> Array containing details about the <code>user</code> that sent the <code>request</code>."},{"location":"Extensions/IRC-Bot-Extensions/#example","title":"Example","text":"<p><code>includes/ircbot/join-ng.inc.php</code></p> <pre><code>   if( $this-&gt;user['level'] != 10 ) {\n      return $this-&gt;respond(\"Sorry only admins can make me join.\");\n   }\n   if( $this-&gt;getChan() == \"#noc\") {\n      $this-&gt;respond(\"Joining $params\");\n      $this-&gt;joinChan($params);\n   } else {\n      $this-&gt;respond(\"Sorry, only people from #noc can make join.\");\n   }\n</code></pre> <p><code>config.php</code></p> <pre><code>   ...\n   $config['irc_external'][] = \"join-ng\";\n   ...\n</code></pre>"},{"location":"Extensions/IRC-Bot/","title":"IRC Bot","text":"<p>LibreNMS has an easy to use IRC-Interface for basic tasks like viewing last log-entry, current device/port status and such.</p> <p>By default the IRC-Bot will not start when executed and will return an error until at least <code>$config['irc_host']</code> and <code>$config['irc_port']</code> has been specified inside <code>config.php</code>. (To start the IRC-Bot run ./irc.php )</p> <p>If no channel has been specified with <code>$config['irc_chan']</code>, <code>##librenms</code> will be used. The default Nick for the bot is <code>LibreNMS</code>.</p> <p>The Bot will reply the same way it's being called. If you send it the commands via Query, it will respond in the Query. If you send the commands via a Channel, then it will respond in the Channel.</p>"},{"location":"Extensions/IRC-Bot/#configuration-defaults","title":"Configuration &amp; Defaults","text":"Option Default-Value Notes <code>$config['irc_alert']</code> <code>false</code> Optional; Enables Alerting-Socket. <code>EXPERIMENTAL</code> <code>$config['irc_alert_chan']</code> <code>false</code> Optional; Multiple channels can be defined as Array or delimited with <code>,</code>. <code>EXPERIMENTAL</code> <code>$config['irc_alert_utf8']</code> <code>false</code> Optional; Enables use of strikethrough in alerts via UTF-8 encoded characters. Might cause trouble for some clients. <code>$config['irc_alert_short']</code> <code>false</code> Optional; Send a one line alert summary instead of multi-line detailed alert. <code>$config['irc_authtime']</code> <code>3</code> Optional; Defines how long in Hours an auth-session is valid. <code>$config['irc_chan']</code> <code>##librenms</code> Optional; Multiple channels can be defined as Array or delimited with <code>,</code>. Passwords are defined after a <code>space-character</code>. <code>$config['irc_debug']</code> <code>false</code> Optional; Enables debug output (Wall of text) <code>$config['irc_external']</code> Optional; Array or <code>,</code> delimited string with commands to include from <code>includes/ircbot/*.inc.php</code> <code>$config['irc_host']</code> Required; Domain or IP to connect. If it's an IPv6 Address, embed it in <code>[]</code>.  (Example: <code>[::1]</code>) <code>$config['irc_maxretry']</code> <code>5</code> Optional; How many connection attempts should be made before giving up <code>$config['irc_nick']</code> <code>LibreNMS</code> Optional; <code>$config['irc_pass']</code> Optional; This sends the IRC-PASS Sequence to IRC-Servers that require Password on Connect <code>$config['irc_port']</code> <code>6667</code> Required; To enable SSL append a <code>+</code> before the Port. (Example: <code>+6697</code>) <code>$config['irc_ctcp']</code> <code>false</code> Optional; Enable/disable ctcp-replies from the bot (currently VERSION, PING and TIME). <code>$config['irc_ctcp_version']</code> <code>LibreNMS IRCbot. https://www.librenms.org/</code> Optional; Reply-string to CTCP VERSION requests <code>$config['irc_auth']</code> Optional; Array of hostmasks that are automatically authenticated."},{"location":"Extensions/IRC-Bot/#irc-commands","title":"IRC-Commands","text":"Command Description <code>.auth &lt;User/Token&gt;</code> If <code>&lt;user&gt;</code>: Request an Auth-Token. If <code>&lt;token&gt;</code>: Authenticate session. <code>.device &lt;hostname&gt;</code> Prints basic information about given <code>hostname</code>. <code>.down</code> List hostnames that are down, if any. <code>.help</code> List available commands. <code>.join &lt;channel&gt;</code> Joins <code>&lt;channel&gt;</code> if user has admin-level. <code>.listdevices</code> Lists the hostnames of all known devices. <code>.log [&lt;N&gt;]</code> Prints <code>N</code> lines or last line of the eventlog. <code>.port &lt;hostname&gt; &lt;ifname&gt;</code> Prints Port-related information from <code>ifname</code> on given <code>hostname</code>. <code>.quit</code> Disconnect from IRC and exit. <code>.reload</code> Reload configuration. <code>.status &lt;type&gt;</code> Prints status information for given <code>type</code>. Type can be <code>devices</code>, <code>services</code>, <code>ports</code>. Shorthands are: <code>dev</code>,<code>srv</code>,<code>prt</code> <code>.version</code> Prints <code>$this-&gt;config['project_name_version']</code>. <p>( /!\\ All commands are case-insensitive but their arguments are case-sensitive)</p>"},{"location":"Extensions/IRC-Bot/#examples","title":"Examples","text":""},{"location":"Extensions/IRC-Bot/#server-examples","title":"Server examples","text":"<p>Unencrypted Connection to <code>irc.libera.chat</code>:</p> <pre><code>   ...\n   $config['irc_host'] = \"irc.libera.chat\";\n   $config['irc_port'] = 6667;\n   ...\n</code></pre> <p>SSL-Encrypted Connection to <code>irc.libera.chat</code>:</p> <pre><code>   ...\n   $config['irc_host'] = \"irc.libera.chat\";\n   $config['irc_port'] = \"+6697\";\n   ...\n</code></pre> <p>SSL-Encrypted Connection to <code>irc.localdomain</code> with Server-Password and odd port:</p> <pre><code>   ...\n   $config['irc_host'] = \"irc.localdomain\";\n   $config['irc_port'] = \"+12345\";\n   $config['irc_pass'] = \"Super Secret Passphrase123\";\n   ...\n</code></pre>"},{"location":"Extensions/IRC-Bot/#channel-notations","title":"Channel notations","text":"<p>Channels can be defined using Array-Notation like:</p> <pre><code>   ...\n   $config['irc_chan'][] = \"#librenms\";\n   $config['irc_chan'][] = \"#otherchan\";\n   $config['irc_chan'][] = \"#noc\";\n   ...\n</code></pre> <p>Or using a single string using <code>,</code> as delimiter between various channels:</p> <pre><code>   ...\n   $config['irc_chan'] = \"#librenms,#otherchan,#noc\";\n   ...\n</code></pre>"},{"location":"Extensions/IRC-Bot/#hostmask-authentication","title":"Hostmask authentication","text":"<pre><code>   ...\n   $config['irc_auth']['admin'][] = \"*!root@nms.host.invalid\";\n   $config['irc_auth']['admin'][] = \"*!*peter@peters.computer.invalid\";\n   $config['irc_auth']['john][] = \"john!doe@login.server.invalid\";\n   ...\n</code></pre> <p>Any client matching one of the first two hostmasks will automatically be authenticated as the \"admin\" user in LibreNMS, and clients matching the last line will be authenticated as the user \"john\" in LibreNMS, without using .auth and a waiting for a valid token.</p>"},{"location":"Extensions/IRC-Bot/#extensions","title":"Extensions?!","text":"<p>The bot is coded in a unified way. This makes writing extensions by far less painful. Simply add your <code>command</code> to the <code>$config['irc_external']</code> directive and create a file called <code>includes/ircbot/command.inc.php</code> containing your code. The string behind the call of <code>.command</code> is passed as <code>$params</code>. The user who requested something is accessible via <code>$this-&gt;user</code>. Send your reply/ies via <code>$this-&gt;respond($string)</code>.</p> <p>A more detailed documentation of the functions and variables available for extensions can be found at IRC-Bot Extensions;</p> <p>Confused? Here an Echo-Example:</p> <p>File: config.php</p> <pre><code>   ...\n   $config['irc_external'][] = \"echo\";\n   ...\n</code></pre> <p>File: includes/ircbot/echo.inc.php</p> <pre><code>   //Prefix everything with `You said: '...'`  and return what was sent.\n   if( $this-&gt;user['name'] != \"root\" ) {\n      return $this-&gt;respond(\"You said: '\".$params.\"'\");\n   } else {\n      return $this-&gt;respond(\"root shouldn't be online so late!\");\n   }\n</code></pre>"},{"location":"Extensions/IRC-Bot/#systemd-start-up-script","title":"Systemd start up script","text":"<p>Basic systemd start up script to be placed in /etc/systemd/system/ to start irc service at boot.</p> <p>librenms-irc.service script is located at /opt/librenms/misc/</p> <p>Once copied to /etc/systemd/system/ you must run the following commands:</p> <p>a) chmod 664 /etc/systemd/system/librenms-irc.service</p> <p>b) systemctl daemon-reload</p> <p>c) systemctl enable librenms-irc.service</p> <p>d) systemctl start librenms-irc.service</p> <p>It can be stopped or started just like any other systemd script such as systemctl start librenms-irc.service</p>"},{"location":"Extensions/Interface-Description-Parsing/","title":"Interface Description Parsing","text":"<p>Librenms can interpret, display and group certain additional information on ports. This is done based on the format that the port description is written although it's possible  to customise the parser to be specific for your setup.</p>"},{"location":"Extensions/Interface-Description-Parsing/#keywords","title":"Keywords","text":"<p>See examples for formats.</p> <ul> <li>Keywords</li> <li><code>Cust</code>    - Customer</li> <li><code>Transit</code> - Transit link</li> <li><code>Peering</code> - Peering link</li> <li><code>Core</code>    - Infrastructure link (non-customer)</li> <li>Info-keywords</li> <li><code>()</code> contains a note</li> <li><code>{}</code> contains your circuit id</li> <li><code>[]</code> contains the service type or speed</li> </ul>"},{"location":"Extensions/Interface-Description-Parsing/#examples","title":"Examples","text":"<p>Cisco IOS / NXOS / IOSXR:</p> <pre><code>interface Gi0/1\ndescr Transit: Example Provider (AS65000)\ninterface Gi0/2\ndescr Peering: Peering Exchange\ninterface Gi0/3\ndescr Core: core.router01 FastEthernet0/0 (Telco X CCID023141)\ninterface Gi0/4\ndescr Cust: Example Customer [10Mbit] (T1 Telco Y CCID129031) {EXAMP0001}\n</code></pre> <p>Unix / Linux:</p> <p>This requires an additional script to be setup</p> <pre><code># eth3: Cust: Example Customer [10Mbit] (T1 Telco Y CCID129031) {EXAMP0001}\n# eth0: Transit: Example Provider (AS65000)\n# eth1: Core: core.router01 FastEthernet0/0 (Telco X CCID023141)\n# eth2: Peering: Peering Exchange\n</code></pre>"},{"location":"Extensions/Interface-Description-Parsing/#customisation","title":"Customisation","text":"<p>The following config options can be set to enable more custom types:</p> <p>webui/port-descr</p> <pre><code>lnms config:set customers_descr.+ 'cust'\nlnms config:set transit_descr.+ 'transit'\nlnms config:set peering_descr.+ 'peering'\";'\nlnms config:set core_descr.+ 'core'\nlnms config:set custom_descr.+ 'something_made_up'\n</code></pre>"},{"location":"Extensions/Interface-Description-Parsing/#custom-interface-parser","title":"Custom interface parser","text":"<p>It's also possible to write your own parser, the existing one is: includes/port-descr-parser.inc.php</p> <p>Once you've created your own then you can enable it with:</p> <pre><code>$config['port_descr_parser'] = \"includes/custom/my-port-descr-parser.inc.php\";\n</code></pre>"},{"location":"Extensions/Interface-Description-Parsing/#setup","title":"Setup","text":"<p>For Unix / Linux based systems, you need to run an additional script to support the parsing of interface information.</p> <ul> <li>Add <code>ifAlias</code> from <code>/opt/librenms/scripts/</code> or download it from   here   to the Server and make it executable <code>chmod +x /path/to/ifAlias</code></li> <li>Add to <code>snmpd.conf</code> something like:     <code>pass .1.3.6.1.2.1.31.1.1.1.18 /path/to/ifAlias</code></li> <li>Add aliasses with</li> <li><code>iproute2</code> package like:     <code>ip link set eth0.427 alias 'Cust: CustomerA'</code></li> <li> <p>in <code>/etc/network/interfaces</code> or <code>/etc/network/interfaces.d/*</code> with a comment like:     <code># eth0.427: Cust CustomerA</code></p> </li> <li> <p>Restart <code>snmpd</code> - <code>systemctl restart snmpd</code></p> </li> </ul> <p>There are no changes to be made or additions to install for the polling librenms.</p> <p>Now you can set up your keywords in your aliases.</p>"},{"location":"Extensions/Metric-Storage/","title":"Metric storage","text":"<p>By default we ship all metrics to RRD files, either directly or via RRDCached. On top of this  you can ship metrics to Graphite, InfluxDB (v1 or v2 API), OpenTSDB or Prometheus. At present you can't use these backends to display graphs within LibreNMS and will need to use something like Grafana.</p> <p>For further information on configuring LibreNMS to ship data to one of the other backends then please see the documentation below.</p> <ul> <li>Graphite</li> <li>InfluxDB</li> <li>InfluxDBv2</li> <li>OpenTSDB</li> <li>Prometheus</li> </ul>"},{"location":"Extensions/NFSen/","title":"NFSen","text":"<p>The installation of NFSen is out of scope for this document / LibreNMS</p>"},{"location":"Extensions/NFSen/#configuration","title":"Configuration","text":"<p>The following is the configuration that can be used:</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_enable true\nlnms config:set nfsen_split_char '_'\nlnms config:set nfsen_rrds.+ '/var/nfsen/profiles-stat/live/'\nlnms config:set nfsen_rrds.+ '/var/nfsen/profiles-stat'\nlnms config:set nfsen_base.+ '/var/nfsen/'\nlnms config:set nfsen_suffix '_yourdomain_com'\n</code></pre> <p>Set <code>lnms config:set nfsen_enable true</code> to enable NFSen support.</p> <p><code>nfsen_rrds</code> This value tells us where your NFSen rrd files live. This can also be an array to specify more directories like:</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_rrds.+ '/var/nfsen/profiles-stat/sitea/'\nlnms config:set nfsen_rrds.+ '/var/nfsen/profiles-stat/siteb/'\n</code></pre> <p>Although for most setups, it will look like below, with the profiles-stat/live directory being where it stores the general RRDs for data sources.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_rrds.+ '/var/nfsen/profiles-stat/live'\n</code></pre> <p>If you wish to render info for configure channels for a device, you need add the various profile-stat directories your system uses, which for most systems will be as below.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_rrds.+ '/var/nfsen/profiles-stat'\n</code></pre> <p>When adding sources to nfsen.conf, it is important to use the hostname that matches what is configured in LibreNMS, because the rrd files NfSen creates is named after the source name (ident), and it doesn't allow you to use an IP address instead. However, in LibreNMS, if your device is added by an IP address, add your source with any name of your choice, and create a symbolic link to the rrd file.</p> <pre><code>cd /var/nfsen/profiles-stat/sitea/\nln -s mychannel.rrd librenmsdeviceIP.rrd\n</code></pre> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_split_char '_'\n</code></pre> <p>This value tells us what to replace the full stops <code>.</code> in the devices hostname with.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_suffix '_yourdomain_com'\n</code></pre> <p>The above is a very important bit as device names in NfSen are limited to 21 characters. This means full domain names for devices can be very problematic to squeeze in, so therefor this chunk is usually removed.</p> <p>On a similar note, NfSen profiles for channels should be created with the same name.</p>"},{"location":"Extensions/NFSen/#stats-defaults-and-settings","title":"Stats Defaults and Settings","text":"<p>Below are the default settings used with nfdump for stats.</p> <p>For more defaulted information on that, please see nfdump(1). The default location for nfdump is <code>/usr/bin/nfdump</code>. If nfdump is located elsewhere, set it with</p> <p>external/binaries</p> <p>```bash lnms config:set nfdump /usr/local/bin/nfdump</p> <p>```</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_last_max 153600\nlnms config:set nfsen_top_max 500\nlnms config:set nfsen_top_N '[10, 20, 50, 100, 200, 500]'\nlnms config:set nfsen_top_default 20\nlnms config:set nfsen_stat_default srcip\nlnms config:set nfsen_order_default packets\nlnms config:set nfsen_last_default 900\nlnms config:set nfsen_lasts \"{'300':'5 minutes', '600':'10 minutes', '900':'15 minutes', '1800':'30 minutes', '3600':'1 hour', '9600':'3 hours', '38400':'12 hours', '76800':'24 hours', '115200':'36 hours', '153600':'48 hours'}\"\n</code></pre> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_last_max 153600\n</code></pre> <p>The above is the max value in seconds one may pull stats for. The higher this is, the more CPU and disk intensive the search will be.</p> <p>Numbers larger than this will be set to this.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_top_max 500\n</code></pre> <p>The above is max number of items to be displayed.</p> <p>Numbers larger than this will be set to this.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_top_N '[10, 20, 50, 100, 200, 500]'\n</code></pre> <p>The above is a array containing a list for the drop down menu how many top items should be returned.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_top_default 20\n</code></pre> <p>The above sets default top number to use from the drop down.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_stat_default srcip\n</code></pre> <p>The above sets default stat type to use from the drop down.</p> <pre><code>record   Flow Records\nip       Any IP Address\nsrcip    SRC IP Address\ndstip    DST IP Address\nport     Any Port\nsrcport  SRC Port\ndstport  DST Port\nsrctos   SRC TOS\ndsttos   DST TOS\ntos      TOS\nas       AS\nsrcas    SRC AS\ndstas    DST AS\n</code></pre> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_order_default packets\n</code></pre> <p>The above sets default order type to use from the drop down. Any of the following below are currently supported.</p> <pre><code>flows    Number of total flows for the time period.\npacket   Number of total packets for the time period.\nbytes    Number of total bytes for the time period.\npps      Packets Per Second\nbps      Bytes Per Second\nbpp      Bytes Per Packet\n</code></pre> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_last_default 900\n</code></pre> <p>The above is the last default to use from the drop down.</p> <p>external/nfsen</p> <pre><code>lnms config:set nfsen_lasts \"{'300':'5 minutes', '600':'10 minutes', '900':'15 minutes', '1800':'30 minutes', '3600':'1 hour', '9600':'3 hours', '38400':'12 hours', '76800':'24 hours', '115200':'36 hours', '153600':'48 hours'}\"\n</code></pre> <p>The above associative array contains time intervals for how far back to go. The keys are the length in seconds and the value is just a description to display.</p>"},{"location":"Extensions/Network-Map/","title":"Network Map","text":"<p>LibreNMS has the ability to show you a dynamic network map based on data collected from devices.  These maps are accessed through the following menu options:</p> <ul> <li>Overview -&gt; Maps -&gt; Network</li> <li>Overview -&gt; Maps -&gt; Device Group Maps</li> <li>The Neighbours -&gt; Map tab when viewing a single device    (the Neighbours tab will only show if a device has xDP neighbours)</li> </ul> <p>These network maps can be based on:</p> <ul> <li>xDP Discovery</li> <li>MAC addresses (ARP entries matching interface IP and MAC)</li> </ul> <p>By default, both are are included but you can enable / disable either one using the following config option:</p> <pre><code>lnms config:set network_map_items '[\"mac\",\"xdp\"]'\n</code></pre> <p>Either remove mac or xdp depending on which you want. XDP is based on FDP, CDP and LLDP support based on the device type.</p> <p>It is worth noting that the global map could lead to a large network map that is slow to render and interact with. The network map on the device neighbour page, or building device groups and using the device group maps will be more usable on large networks.</p>"},{"location":"Extensions/Network-Map/#settings","title":"Settings","text":"<p>The map display can be configured by altering the VisJS-Config.md</p>"},{"location":"Extensions/OAuth-SAML/","title":"OAuth and SAML Support","text":""},{"location":"Extensions/OAuth-SAML/#introduction","title":"Introduction","text":"<p>LibreNMS has support for Laravel Socialite to try and simplify the use of OAuth 1 or 2 providers such as using GitHub, Microsoft, Twitter + many more and SAML.</p> <p>Socialite Providers supports more than 100+ 3rd parties so you will most likely find support for the SAML or OAuth provider you need without too much trouble.</p> <p>Please do note however, these providers are not maintained by LibreNMS so we cannot add support for new ones and we can only provide you basic help with general configuration. See the Socialite Providers website for more information on adding a new OAuth provider.</p> <p>Below we will guide you on how to install SAML or some of these OAth providers, you should be able to use these as a guide on how to install any others you may need but please, please, ensure you read the Socialite Providers documentation carefully.</p> <p>GitHub Provider Microsoft Provider Okta Provider SAML2</p>"},{"location":"Extensions/OAuth-SAML/#requirements","title":"Requirements","text":"<p>LibreNMS version 22.3.0 or later.</p> <p>Please ensure you set <code>APP_URL</code> within your <code>.env</code> file so that callback URLs work correctly with the identify provider.</p> <p>Note</p> <p>Once you have configured your OAuth or SAML2 provider, please ensure you check the Post configuration settings section at the end.</p>"},{"location":"Extensions/OAuth-SAML/#github-and-microsoft-examples","title":"GitHub and Microsoft Examples","text":""},{"location":"Extensions/OAuth-SAML/#install-plugin","title":"Install plugin","text":"<p>Note</p> <p>First we need to install the plugin itself. The plugin name can be slightly different so be sure to check the Socialite Providers documentation and look for this line, <code>composer require socialiteproviders/github</code> which will give you the name you need for the command, i.e: <code>socialiteproviders/github</code>.</p> GitHubMicrosoftOkta <p><code>lnms plugin:add socialiteproviders/github</code></p> <p><code>lnms plugin:add socialiteproviders/microsoft</code></p> <p><code>lnms plugin:add socialiteproviders/okta</code></p>"},{"location":"Extensions/OAuth-SAML/#find-the-provider-name","title":"Find the provider name","text":"<p>Next we need to find the provider name and writing it down</p> <p>Note</p> <p>It's almost always the name of the provider in lowercase but can be different so check the Socialite Providers documentation and look for this line, <code>github =&gt; [</code> which will give you the name you need for the above command: <code>github</code>.</p> GitHubMicrosoftOkta <p>For GitHub we can find the line: <pre><code>'github' =&gt; [\n  'client_id' =&gt; env('GITHUB_CLIENT_ID'),\n  'client_secret' =&gt; env('GITHUB_CLIENT_SECRET'),\n  'redirect' =&gt; env('GITHUB_REDIRECT_URI')\n],\n</code></pre> So our provider name is <code>github</code>, write this down.</p> <p>For Microsoft we can find the line: <pre><code>'microsoft' =&gt; [\n  'client_id' =&gt; env('MICROSOFT_CLIENT_ID'),\n  'client_secret' =&gt; env('MICROSOFT_CLIENT_SECRET'),\n  'redirect' =&gt; env('MICROSOFT_REDIRECT_URI')\n],\n</code></pre> So our provider name is <code>microsoft</code>, write this down.</p> <p>For Okta we can find the line: <pre><code>'okta' =&gt; [\n  'base_url' =&gt; env('OKTA_BASE_URL'),\n  'client_id' =&gt; env('OKTA_CLIENT_ID'),\n  'client_secret' =&gt; env('OKTA_CLIENT_SECRET'),\n  'redirect' =&gt; env('OKTA_REDIRECT_URI')\n],\n</code></pre> So our provider name is <code>okta</code>, write this down.</p>"},{"location":"Extensions/OAuth-SAML/#register-oauth-application","title":"Register OAuth application","text":""},{"location":"Extensions/OAuth-SAML/#register-a-new-application","title":"Register a new application","text":"<p>Now we need some values from the OAuth provider itself, in most cases you need to register a new \"OAuth application\" at the providers site. This will vary from provider to provider but the process itself should be similar to the examples below.</p> <p>Note</p> <p>The callback URL is always: https://your-librenms-url/auth/provider/callback It doesn't need to be a public available site, but it almost always needs to support TLS (https)!</p> GitHubMicrosoftOkta <p>For our example with GitHub we go to GitHub Developer Settings and press \"Register a new application\":</p> <p></p> <p>Fill out the form accordingly (with your own values): </p> <p>For our example with Microsoft we go to \"Azure Active Directory\" &gt; \"App registrations\" and press \"New registration\"</p> <p></p> <p>Fill out the form accordingly using your own values): </p> <p>Copy the value of the Application (client) ID and Directory (tenant) ID and save them, you will need them in the next step. </p> <p>For our example with Okta, we go to <code>Applications&gt;Create App Integration</code>, Select <code>OIDC - OpenID Connect</code>, then <code>Web Application</code>.</p> <p></p> <p>Fill in the Name, Logo, and Assignments based on your preferred settings. Leave the <code>Sign-In Redirect URI</code> field, this is where you will edit this later: </p> <p>Note your Okta domain or login url. Sometimes this can be a vanity url like <code>login.company.com</code>, or sometimes just <code>company.okta.com</code>.</p> <p>Click save.</p>"},{"location":"Extensions/OAuth-SAML/#generate-a-new-client-secret","title":"Generate a new client secret","text":"GitHubMicrosoftOkta <p>Press 'Generate a new client secret' to get a new client secret.</p> <p></p> <p>Copy the Client ID and Client secret</p> <p>In the example above it is:</p> <p>Client ID: 7a41f1d8215640ca6b00 Client secret: ea03957288edd0e590be202b239e4f0ff26b8047</p> <p>Select Certificates &amp; secrets under Manage. Select the 'New client secret' button. Enter a value in Description and select one of the options for Expires and select 'Add'.</p> <p></p> <p>Copy the client secret Value (not Secret ID!) before you leave this page. You will need it in the next step.</p> <p></p> <p>This step is done for you when creating the app. All you have to do is copy down the client secret. You will need it in the next step.</p> <p></p>"},{"location":"Extensions/OAuth-SAML/#saving-configuration","title":"Saving configuration","text":"<p>Now we need to set the configuration options for your provider within LibreNMS itself. Please replace the values in the examples below with the values you collected earlier:</p> <p>The format of the configuration string is <code>auth.socialite.configs.*provider name*.*value*</code></p> GitHubMicrosoftOkta <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.github.client_id 7a41f1d8215640ca6b00\nlnms config:set auth.socialite.configs.github.client_secret ea03957288edd0e590be202b239e4f0ff26b8047\n</code></pre> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.microsoft.client_id 7983ac13-c955-40e9-9b85-5ba27be52a52\nlnms config:set auth.socialite.configs.microsoft.client_secret J9P7Q~K2F5C.L243sqzbGj.cOOcjTBgAPak_l\nlnms config:set auth.socialite.configs.microsoft.tenant a15edc05-152d-4eb4-973c-14f1fdc57d8b\n</code></pre> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.okta.client_id 0oa1c08tti8D7xgXb697\nlnms config:set auth.socialite.configs.okta.client_secret sWew90IKqKDmURj1XLsCPjXjre0U3zmJuFR6SzsG\nlnms config:set auth.socialite.configs.okta.base_url \"https://&lt;okta_login_url&gt;\"\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#add-provider-event-listener","title":"Add provider event listener","text":"<p>The final step is to now add an event listener.</p> <p>Note</p> <p>It's important to copy exactly the right value here, It should begin with a <code>\\</code> and end before the <code>::class.'@handle'</code></p> GitHubMicrosoftOkta <p>Find the section looking like: <pre><code>protected $listen = [\n    \\SocialiteProviders\\Manager\\SocialiteWasCalled::class =&gt; [\n        // ... other providers\n        \\SocialiteProviders\\GitHub\\GitHubExtendSocialite::class.'@handle',\n    ],\n];\n</code></pre></p> <p>Copy the part: <code>\\SocialiteProviders\\GitHub\\GitHubExtendSocialite</code> and run;</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.github.listener \"\\SocialiteProviders\\GitHub\\GitHubExtendSocialite\"\n</code></pre> <p>Don't forget the initial backslash (\\) !</p> <p>Find the section looking like: <pre><code>protected $listen = [\n    \\SocialiteProviders\\Manager\\SocialiteWasCalled::class =&gt; [\n        // ... other providers\n        \\SocialiteProviders\\Microsoft\\MicrosoftExtendSocialite::class.'@handle',\n    ],\n];\n</code></pre></p> <p>Copy the part: <code>\\SocialiteProviders\\Microsoft\\MicrosoftExtendSocialite</code> and run;</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.microsoft.listener \"\\SocialiteProviders\\Microsoft\\MicrosoftExtendSocialite\"\n</code></pre> <p>Don't forget the initial backslash (\\) !</p> <p>Find the section looking like: <pre><code>protected $listen = [\n\\SocialiteProviders\\Manager\\SocialiteWasCalled::class =&gt; [\n    // ... other providers\n    \\SocialiteProviders\\Okta\\OktaExtendSocialite::class.'@handle',\n],\n];\n</code></pre></p> <p>Copy the part: <code>\\SocialiteProviders\\Okta\\OktaExtendSocialite</code> and run;</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.okta.listener \"\\SocialiteProviders\\Okta\\OktaExtendSocialite\"\n</code></pre> <p>Don't forget the initial backslack (\\) !</p> <p>Now you are done with setting up the OAuth provider! If it doesn't work, please double check your configuration values by using the <code>config:get</code> command below.</p> <p>settings/auth/socialite</p> <pre><code>lnms config:get auth.socialite\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#default-role","title":"Default Role","text":"<p>Since most Socialite Providers don't provide Authorization only Authentication it is possible to set the default User Role for Authorized users.   Appropriate care should be taken.</p> <ul> <li> <p>none: No Access: User has no access</p> </li> <li> <p>normal: Normal User: You will need to assign device / port       permissions for users at this level.</p> </li> <li> <p>global-read: Global Read: Read only Administrator.</p> </li> <li> <p>admin: Administrator: This is a global read/write admin account.</p> </li> </ul> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.default_role global-read\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#claims-access-scopes","title":"Claims / Access Scopes","text":"<p>Socialite can specifiy scopes that should be included with in the authentication request. (see Larvel docs )</p> <p>For example, if Okta is configured to expose group information it is possible to use these group names to configure User Roles.</p> <p>First enable sending the 'groups' claim (along with the normal openid, profile, and email claims). Be aware that the scope name must match the claim name. For identity providers where the scope does not match (e.g. Keycloak: roles -&gt; groups) you need to configure a custom scope.</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.scopes.+ groups\n</code></pre> <p>Then setup mappings from the returned claim arrays to the User levels you want</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.claims.RETURN_FROM_CLAIM.roles '[\"admin\"]'\nlnms config:set auth.socialite.claims.OTHER_RETURN_FROM_CLAIM.roles '[\"global-read\",\"cleaner\"]'\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#saml2-example","title":"SAML2 Example","text":""},{"location":"Extensions/OAuth-SAML/#install-plugin_1","title":"Install plugin","text":"<p>The first step is to install the plugin itself.</p> <pre><code>lnms plugin:add socialiteproviders/saml2\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#add-configuration","title":"Add configuration","text":"<p>Depending on what your identity provider (Google, Azure, ...) supports, the configuration could look different from what you see next so please use this as a rough guide. It is up the IdP to provide the relevant details that you will need for configuration.</p> GoogleAzure <p>Go to https://admin.google.com/ac/apps/unified</p> <p> </p> <p>Press \"DOWNLOAD METADATA\" and save the file somewhere accessible by your LibreNMS server</p> <p></p> <p>ACS URL = https://your-librenms-url/auth/saml2/callback Entity ID = https://your-librenms-url/auth/saml2 Name ID format = PERSISTANT Name ID = Basic Information &gt; Primary email</p> <p></p> <p>First name = http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname Last name = http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname Primary email = http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</p> <p></p> <p></p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.metadata \"$(cat /tmp/GoogleIDPMetadata.xml)\"\n</code></pre> <p>Alternatively, you can copy the content of the file and run it like so, this will result in the exact same result as above.</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.metadata '''&lt;?xml version=\"1.0\" encoding\n...\n...\n&lt;/md:EntityDescriptor&gt;'''\n</code></pre> <p> <pre><code>echo \"SESSION_SAME_SITE_COOKIE=none\" &gt;&gt; .env\nlnms plugin:add socialiteproviders/saml2\nlnms config:set auth.socialite.redirect true\nlnms config:set auth.socialite.register true\nlnms config:set auth.socialite.configs.saml2.acs https://login.microsoftonline.com/xxxidfromazurexxx/saml2\nlnms config:set auth.socialite.configs.saml2.entityid https://sts.windows.net/xxxidfromazurexxx/\nlnms config:set auth.socialite.configs.saml2.certificate xxxcertinonelinexxx\nlnms config:set auth.socialite.configs.saml2.listener \"\\SocialiteProviders\\Saml2\\Saml2ExtendSocialite\"\nlnms config:set auth.socialite.configs.saml2.metadata https://nexus.microsoftonline-p.com/federationmetadata/saml20/federationmetadata.xml\nlnms config:set auth.socialite.configs.saml2.sp_default_binding_method urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\nlnms config:clear\n</code></pre></p>"},{"location":"Extensions/OAuth-SAML/#using-an-identity-provider-metadata-url","title":"Using an Identity Provider metadata URL","text":"<p>Note</p> <p>This is the prefered and easiest way, if your IdP supports it!</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.metadata https://idp.co/metadata/xml\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#using-an-identity-provider-metadata-xml-file","title":"Using an Identity Provider metadata XML file","text":"<p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.metadata \"$(cat GoogleIDPMetadata.xml)\"\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#manually-configuring-the-identity-provider-with-a-certificate-string","title":"Manually configuring the Identity Provider with a certificate string","text":"<p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.acs https://idp.co/auth/acs\nlnms config:set auth.socialite.configs.saml2.entityid http://saml.to/trust\nlnms config:set auth.socialite.configs.saml2.certificate MIIC4jCCAcqgAwIBAgIQbDO5YO....\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#manually-configuring-the-identity-provider-with-a-certificate-file","title":"Manually configuring the Identity Provider with a certificate file","text":"<p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.acs https://idp.co/auth/acs\nlnms config:set auth.socialite.configs.saml2.entityid http://saml.to/trust\nlnms config:set auth.socialite.configs.saml2.certificate \"$(cat /path/to/certificate.pem)\"\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#add-provider-event-listener_1","title":"Add provider event listener","text":"<p>Now we just need to define the listener service within LibreNMS:</p> <p>settings/auth/socialite</p> <pre><code>lnms config:set auth.socialite.configs.saml2.listener \"\\SocialiteProviders\\Saml2\\Saml2ExtendSocialite\"\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#session_same_site_cookie","title":"SESSION_SAME_SITE_COOKIE","text":"<p>You most likely will need to set <code>SESSION_SAME_SITE_COOKIE=none</code> in <code>.env</code> if you use SAML2! If you get an error with http code 419, you should try to remove <code>SESSION_SAME_SITE_COOKIE=none</code> from your <code>.env</code>.</p> <p>Note</p> <p>Don't forget to run <code>lnms config:clear</code> after you modify <code>.env</code> to flush the config cache</p>"},{"location":"Extensions/OAuth-SAML/#service-provider-metadata","title":"Service provider metadata","text":"<p>Your identify provider might ask you for your Service Provider (SP) metadata. LibreNMS exposes all of this information from your LibreNMS install</p>"},{"location":"Extensions/OAuth-SAML/#troubleshooting","title":"Troubleshooting","text":"<p>If it doesn't work, please double check your configuration values by using the <code>config:get</code> command below.</p> <p>settings/auth/socialite</p> <pre><code>lnms config:get auth.socialite\n</code></pre>"},{"location":"Extensions/OAuth-SAML/#redirect-url","title":"Redirect URL","text":"<p>If you have a need to, then you can override redirect url with the following commands:</p> OAuthSAML2 <p>Replace <code>github</code> and the relevant URL below with your identity provider details. <code>lnms config:set auth.socialite.configs.github.redirect https://demo.librenms.org/auth/github/callback</code></p> <p><code>lnms config:set auth.socialite.configs.saml2.sp_acs auth/saml2/callback</code></p>"},{"location":"Extensions/OAuth-SAML/#post-configuration-settings","title":"Post configuration settings","text":"<p>settings/auth/socialite</p> <p>From here you can configure the settings for any identity providers you have configured along with some bespoke options.</p> <p>Redirect Login page: This setting will skip your LibreNMS login and take the end user straight to the first idP you configured.</p> <p>Allow registration via provider: If this setting is disabled, new users signing in via the idP will not be authenticated. This setting allows a local user to be automatically created which permits their login.</p>"},{"location":"Extensions/Oxidized/","title":"Oxidized","text":"<p>Integrating LibreNMS with Oxidized brings the following benefits:</p> <ul> <li>Config viewing: Current, History, and Diffs all under the Configs tab of each device</li> <li>Automatic addition of devices to Oxidized: Including filtering and   grouping to ease credential management</li> <li>Configuration searching (Requires oxidized-web 0.8.0 or newer)</li> </ul> <p>First you will need to install Oxidized following their documentation.</p> <p>Then you can procede to the LibreNMS Web UI and go to Oxidized Settings in the External Settings section of Global Settings. Enable it and enter the url to your oxidized instance.</p> <p>To have devices automatically added, you will need to configure oxidized to pull them from LibreNMS Feeding Oxidized Note: this means devices will be controlled by the LibreNMS API, and not router.db, passwords will still need to be in the oxidized config file.</p> <p>LibreNMS will automatically map the OS to the Oxidized model name if they don't match. this means you shouldn't need to use the model_map config option within Oxidized.</p>"},{"location":"Extensions/Oxidized/#detailed-integration-information","title":"Detailed integration information","text":"<p>This is a straight forward use of Oxidized, it relies on you having a working Oxidized setup which is already taking config snapshots for your devices. When you have that, you only need the following config to enable the display of device configs within the device page itself:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.enabled true\nlnms config:set oxidized.url http://127.0.0.1:8888\n</code></pre> <p>LibreNMS supports config versioning if Oxidized does.  This is known to work with the git output module.</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.features.versioning true\n</code></pre> <p>Oxidized supports various ways to utilise credentials to login to devices, you can specify global username/password within Oxidized, Group level username/password or per device. LibreNMS currently supports sending groups back to Oxidized so that you can then define group credentials within Oxidized. To enable this support please switch on 'Enable the return of groups to Oxidized':</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.group_support true\n</code></pre> <p>You can set a default group that devices will fall back to with:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.default_group default\n</code></pre> <p>You can ignore specific groups</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.ignore_groups '[\"badgroup\", \"nobackup\"]'\n</code></pre> <p>One trick you can do to ignore all ungrouped devices is set both of these settings</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.default_group nobackup\nlnms config:set oxidized.ignore_groups.+ nobackup\n</code></pre>"},{"location":"Extensions/Oxidized/#selinux","title":"SELinux","text":"<p>If you're running SELinux, you'll need to allow httpd to connect outbound to the network, otherwise Oxidized integration in the web UI will silently fail:</p> <pre><code>setsebool -P httpd_can_network_connect 1\n</code></pre>"},{"location":"Extensions/Oxidized/#feeding-oxidized","title":"Feeding Oxidized","text":"<p>Oxidized has support for feeding devices into it via an API call, support for Oxidized has been added to the LibreNMS API. A sample config for Oxidized is provided below.</p> <p>You will need to configure default credentials for your devices in the Oxidized config, LibreNMS doesn't provide login credentials at this time.</p> <pre><code>      source:\n        default: http\n        debug: false\n        http:\n          url: https://librenms/api/v0/oxidized\n          map:\n            name: hostname\n            model: os\n            group: group\n          headers:\n            X-Auth-Token: '01582bf94c03104ecb7953dsadsadwed'\n</code></pre> <p>LibreNMS is able to reload the Oxidized list of nodes, each time a device is added to LibreNMS. To do so, edit the option in Global Settings&gt;External Settings&gt;Oxidized Integration or add the following to your config.</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.reload_nodes true\n</code></pre>"},{"location":"Extensions/Oxidized/#creating-overrides","title":"Creating overrides","text":"<p>To return an override to Oxidized you can do this by providing the override key, followed by matching a lookup for a host (or hosts), and finally by defining the overriding value itself. LibreNMS does not check for the validity of these attributes but will deliver them to Oxidized as defined.</p> <p>Matching of hosts can be done using <code>hostname</code>, <code>sysname</code>, <code>os</code>, <code>location</code>, <code>sysDescr</code>, <code>hardware</code>, <code>purpose</code> or <code>notes</code> and including either a 'match' key and value, or a 'regex' key and value. The order of matching is:</p> <ul> <li><code>hostname</code></li> <li><code>sysName</code></li> <li><code>sysDescr</code></li> <li><code>hardware</code></li> <li><code>os</code></li> <li><code>location</code></li> <li><code>ip</code></li> <li><code>purpose</code></li> <li><code>notes</code></li> </ul> <p>To match on the device hostnames or sysNames that contain 'lon-sw' or if the location contains 'London' then you would set the following:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.maps.group.hostname.+ '{\"regex\": \"/^lon-sw/\", \"value\": \"london-switches\"}'\nlnms config:set oxidized.maps.group.sysName.+ '{\"regex\": \"/^lon-sw/\", \"value\": \"london-switches\"}'\nlnms config:set oxidized.maps.group.location.+ '{\"regex\": \"/london/\", \"value\": \"london-switches\"}'\n</code></pre> <p>To match on a device os of edgeos then please use the following:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.maps.group.os.+ '{\"match\": \"edgeos\", \"value\": \"wireless\"}'\n</code></pre> <p>Matching on OS requires system name of the OS. For example, \"match\": \"RouterOS\" will not work, while \"match\": \"routeros\" will.</p> <p>To match on a device purpose or device notes that contains 'lon-net' then you would set the following:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.maps.group.purpose.+ '{\"regex\": \"/^lon-sw/\", \"value\": \"london-network\"}'\nlnms config:set oxidized.maps.group.notes.+ '{\"regex\": \"/^lon-sw/\", \"value\": \"london-network\"}'\n</code></pre> <p>To edit an existing map, you must use the index to override it.</p> <p>external/oxidized</p> <pre><code>lnms config:get oxidized.maps.os.os\n[\n    {\n        \"match\": \"airos-af-ltu\",\n        \"value\": \"airfiber\"\n    },\n    {\n        \"match\": \"airos-af\",\n        \"value\": \"airfiber\"\n    },\n]\n\nlnms config:set oxidized.maps.os.os.1 '{\"match\": \"airos-af\", \"value\": \"something-else\"}'\n</code></pre> <p>To override the IP Oxidized uses to poll the device, set the following:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.maps.ip.sysName.+ '{\"regex\": \"/^my.node/\", \"value\": \"192.168.1.10\"}'\nlnms config:set oxidized.maps.ip.sysName.+ '{\"match\": \"my-other.node\", \"value\": \"192.168.1.20\"}'\n</code></pre> <p>This allows extending the configuration further by providing a completely flexible model for custom flags and settings, for example, below shows the ability to add an ssh_proxy host within Oxidized simply by adding the below to your configuration:</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.maps.ssh_proxy.sysName.+ '{\"regex\": \"/^my.node/\", \"value\": \"my-ssh-gateway.node\"}'\n</code></pre> <p>Or of course, any custom value that could be needed or wanted can be applied, for example, setting a \"myAttribute\" to \"Super cool value\" for any configured and enabled \"routeros\" device.</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.maps.myAttribute.os.+ '{\"match\": \"routeros\", \"value\": \"Super cool value\"}'\n</code></pre> <p>Verify the return of groups by querying the API:</p> <pre><code>curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized\n</code></pre> <p>If you need to, you can specify credentials for groups by using the following in your Oxidized config:</p> <pre><code>groups:\n  &lt;groupname&gt;:\n    username: &lt;user&gt;\n    password: &lt;password&gt;\n</code></pre>"},{"location":"Extensions/Oxidized/#miscellaneous","title":"Miscellaneous","text":"<p>If you have devices which you do not wish to appear in Oxidized then you can edit those devices in Device -&gt; Edit -&gt; Misc and enable \"Exclude from Oxidized?\"</p> <p>The use of custom ssh and telnet ports can be set through device settings misc tab, and can be passed on to oxidized with the following <code>vars_map</code></p> <pre><code>      source:\n        http:\n          map:\n            name: hostname\n            model: os\n            group: group\n          vars_map:\n            ssh_port: ssh_port\n            telnet_port: telnet_port\n</code></pre> <p>It's also possible to exclude certain device types and OS' from being output via the API.</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.ignore_types '[\"server\", \"power\"]'\nlnms config:set oxidized.ignore_os '[\"linux\", \"windows\"]'\n</code></pre> <p>You can also ignore whole groups of devices</p> <p>external/oxidized</p> <pre><code>lnms config:set oxidized.ignore_groups '[\"london-switches\", \"default\"]'\n</code></pre>"},{"location":"Extensions/Oxidized/#trigger-configuration-backups","title":"Trigger configuration backups","text":"<p>Using the Oxidized REST API and Syslog Hooks, Oxidized can trigger configuration downloads whenever a configuration change event has been logged. An example script to do this is included in <code>./scripts/syslog-notify-oxidized.php</code>. Oxidized can spawn a new worker thread and perform the download immediately with the following configuration</p> <pre><code>next_adds_job: true\n</code></pre>"},{"location":"Extensions/Oxidized/#validate-oxidized-config","title":"Validate Oxidized config","text":"<p>You can perform basic validation of the Oxidized configuration by going to the Overview -&gt; Tools -&gt; Oxidized link and in the Oxidized config validation page, paste your yaml file into the input box and click 'Validate YAML'.</p> <p>We check for yaml syntax errors and also actual config values to ensure they are used in the correct location.</p>"},{"location":"Extensions/Oxidized/#accessing-configuration-of-a-disabledremoved-device","title":"Accessing configuration of a disabled/removed device","text":"<p>When you're disabling or removing a device from LibreNMS, the configuration will no longer be available via the LibreNMS web interface. You can gain access to these configurations directly in the Git repository of Oxidized (if using Git for version control).</p> <p>1: Check in your Oxidized where are stored your Git repositories:</p> <pre><code>/home/oxidized/.config/oxidized/config\n</code></pre> <p>2: Go the correct Git repository for the needed device (the .git one) and get the list of devices using this command:</p> <pre><code>git ls-files -s\n</code></pre> <p>3: Save the object ID of the device, and run the command to get the file content:</p> <pre><code>git cat-file -p &lt;object id&gt;\n</code></pre>"},{"location":"Extensions/Oxidized/#remove-disabledremoved-device","title":"Remove disabled/removed device","text":"<p>If you want to purge saved config of a device that is not in LibreNMS anymore, you can run the following command:</p> <pre><code>git rm --cached &lt;object id&gt;\n</code></pre>"},{"location":"Extensions/PeeringDB/","title":"PeeringDB Support","text":"<p>LibreNMS has integration with PeeringDB to match up your BGP sessions with the peering exchanges you are connected to.</p> <p>To enable the integration please do so within the WebUI</p> <p>external/peeringdb</p> <pre><code>lnms config:set peeringdb.enabled true\n</code></pre> <p>Data will be collated the next time daily.sh is run or you can manually force this by running <code>php daily.php -f peeringdb</code>, the initial collection is delayed for a random amount of time to avoid overloading the PeeringDB API.</p> <p>Once enabled you will have an additional menu item under Routing -&gt; PeeringDB</p>"},{"location":"Extensions/Plugin-System/","title":"Developing for the Plugin System","text":"<p>With plugins you can extend LibreNMS with special functions that are specific to your setup or are not relevant or interesting for all community members.</p> <p>You are able to intervene in defined places in the behavior of the website, without it coming to problems with future updates.</p> <p>This documentation will give you a basis for writing a plugin for LibreNMS. An example plugin is included in the LibreNMS distribution.</p>"},{"location":"Extensions/Plugin-System/#version-2-plugin-system-structure","title":"Version 2 Plugin System structure","text":"<p>Plugins in version 2 need to be installed into app/Plugins</p> <p>Note: Plugins are disabled when the have an error, to show errors instead set plugins.show_errors</p> <p>The structure of a plugin is follows:</p> <pre><code>app/Plugins\n            /PluginName\n                       /DeviceOverview.php\n                       /Menu.php\n                       /Page.php\n                       /PortTab.php\n                       /Settings.php\n                       /resources/views\n                                       /device-overview.blade.php\n                                       /menu.blade.php\n                                       /page.blade.php\n                                       /port-tab.blade.php\n                                       /settings.blade.php\n</code></pre> <p>The above structure is checked before a plugin can be installed.</p> <p>All file/folder names are case sensitive and must match the structure.</p> <p>Only the blade files that are really needed need to be created. A plugin manager will then load a hook that has a basic functionality.</p> <p>If you want to customize the basic behavior of the hooks, you can create a class in 'app/Plugins/PluginName' and overload the hook methods.</p> <ul> <li>device-overview.blade.php :: This is called in the Device   Overview page. You receive the $device as a object per default, you can do your   work here and display your results in a frame.</li> </ul> <pre><code>&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n        &lt;div class=\"panel panel-default panel-condensed\"&gt;\n            &lt;div class=\"panel-heading\"&gt;\n                &lt;strong&gt;{{ $title }}&lt;/strong&gt;\n            &lt;/div&gt;\n            &lt;div class=\"panel-body\"&gt;\n                &lt;div class=\"row\"&gt;\n                    &lt;div class=\"col-sm-12\"&gt;\n                         {{ $device-&gt;hostname }}\n                 &lt;!-- Do you stuff here --&gt;\n                    &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <ul> <li> <p>port-tab.blade.php :: This is called in the Port page,   in the \"Plugins\" menu_option that will appear when your plugin gets   enabled. In this blade, you can do your work and display your   results in a frame.</p> </li> <li> <p>menu.blade.php :: For a menu entry</p> </li> <li> <p>page.blade.pho :: Here is a good place to add a own LibreNMS page without dependence with a device. A good place to create your own lists with special requirements and behavior.</p> </li> <li> <p>settings.blade.php :: If you need your own settings and variables, you can have a look in the ExamplePlugin.</p> </li> </ul>"},{"location":"Extensions/Plugin-System/#php-hooks-customization","title":"PHP Hooks customization","text":"<p>PHP code should run inside your hooks method and not your blade view. The built in hooks support authorize and data methods.</p> <p>These methods are called with Dependency Injection Hooks with relevant database models will include them in these calls. Additionally, the settings argument may be included to inject the plugin settings into the method.</p>"},{"location":"Extensions/Plugin-System/#data","title":"Data","text":"<p>You can overrid the data method to supply data to your view.  You should also do any processing here. You can do things like access the database or configuration settings and more.</p> <p>In the data method we are injecting settings here to count how many we have for display in the menu entry blade view. Note that you must specify a default value (<code>= []</code> here) for any arguments that don't exist on the parent method.</p> <pre><code>class Menu extends MenuEntryHook\n{\n    public function data(array $settings = []): array\n    {\n        return [\n            'count' =&gt; count($settings),\n        ];\n    }\n}\n</code></pre>"},{"location":"Extensions/Plugin-System/#authorize","title":"Authorize","text":"<p>By default hooks are always shown, but you may control when the user is authorized to view the hook content.</p> <p>As an example, you could imagine that the device-overview.blade.php should only be displayed when the device is in maintanence mode and the current user has the admin role. </p> <pre><code>class DeviceOverview extends DeviceOverviewHook\n{\n    public function authorize(User $user, Device $device): bool\n    {\n        return $user-&gt;can('admin') &amp;&amp; $device-&gt;isUnderMaintenance();\n    }\n}\n</code></pre>"},{"location":"Extensions/Plugin-System/#full-plugin","title":"Full plugin","text":"<p>You may create a full plugin that can publish multiple routes, views, database migrations and more. Create a package according to the Laravel documentation you may call any of the supported hooks to tie into LibreNMS.</p> <p>https://laravel.com/docs/packages</p> <p>This is untested, please come to discord and share any expriences and update this documentation!</p>"},{"location":"Extensions/Plugin-System/#version-1-plugin-system-structure-legacy-verion","title":"Version 1 Plugin System structure (legacy verion)","text":"<p>Plugins need to be installed into html/plugins</p> <p>The structure of a plugin is follows:</p> <pre><code>html/plugins\n            /PluginName\n                       /PluginName.php\n                       /PluginName.inc.php\n</code></pre> <p>The above structure is checked before a plugin can be installed.</p> <p>All files / folder names are case sensitive and must match.</p> <p>PluginName - This is a directory and needs to be named as per the plugin you are creating.</p> <ul> <li>PluginName.php :: This file is used to process calls into the plugin   from the main LibreNMS install. Here only functions within the class   for your plugin that LibreNMS calls will be executed. For a list of   currently enabled system hooks, please see further down. The minimum   code required in this file is (replace Test with the name of your   plugin):</li> </ul> <pre><code>&lt;?php\n\nclass Test {\n}\n\n?&gt;\n</code></pre> <ul> <li>PluginName.inc.php :: This file is the main included file when                      browsing to the plugin itself. You can use this                      to display / edit / remove whatever you like. The                      minimum code required in this file is:</li> </ul> <pre><code>&lt;?php\n\n?&gt;\n</code></pre>"},{"location":"Extensions/Plugin-System/#system-hooks","title":"System Hooks","text":"<p>System hooks are called as functions within your plugin class. The following system hooks are currently available:</p> <ul> <li>menu() :: This is called to build the plugin menu system and you    can use this to link to your plugin (you don't have to).</li> </ul> <pre><code>    public static function menu() {\n        echo('&lt;li&gt;&lt;a href=\"plugin/p='.get_class().'\"&gt;'.get_class().'&lt;/a&gt;&lt;/li&gt;');\n    }\n</code></pre> <ul> <li>device_overview_container($device) :: This is called in the Device   Overview page. You receive the $device as a parameter, can do your   work here and display your results in a frame.</li> </ul> <pre><code>    public static function device_overview_container($device) {\n        echo('&lt;div class=\"container-fluid\"&gt;&lt;div class=\"row\"&gt; &lt;div class=\"col-md-12\"&gt; &lt;div class=\"panel panel-default panel-condensed\"&gt; &lt;div class=\"panel-heading\"&gt;&lt;strong&gt;'.get_class().' Plugin &lt;/strong&gt; &lt;/div&gt;');\n        echo('  Example plugin in \"Device - Overview\" tab &lt;br&gt;');\n        echo('&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;');\n    }\n</code></pre> <ul> <li>port_container($device, $port) :: This is called in the Port page,   in the \"Plugins\" menu_option that will appear when your plugin gets   enabled. In this function, you can do your work and display your   results in a frame.</li> </ul> <pre><code>    public static function port_container($device, $port) {\n        echo('&lt;div class=\"container-fluid\"&gt;&lt;div class=\"row\"&gt; &lt;div class=\"col-md-12\"&gt; &lt;div class=\"panel panel-default panel-condensed\"&gt; &lt;div class=\"panel-heading\"&gt;&lt;strong&gt;'.get_class().' plugin in \"Port\" tab&lt;/strong&gt; &lt;/div&gt;');\n        echo ('Example display in Port tab&lt;/br&gt;');\n        echo('&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;');\n    }\n</code></pre>"},{"location":"Extensions/Proxmox/","title":"Proxmox graphing","text":"<p>It is possible to create graphs of the Proxmox VMs that run on your monitored machines. Currently, only traffic graphs are created. One for each interface on each VM. Possibly, IO graphs will be added later on.</p> <p>The ultimate goal is to be able to create traffic bills for VMs, no matter on which physical machine that VM runs.</p>"},{"location":"Extensions/Proxmox/#enabling-proxmox-graphs","title":"Enabling Proxmox graphs","text":"<p>To enable Proxmox graphs, do the following:</p> <p>In config.php, enable Proxmox:</p> <pre><code>$config['enable_proxmox'] = 1;\n</code></pre> <p>Then, install git and librenms-agent on the machines running Proxmox and enable the Proxmox-script using:</p> <pre><code>cp /opt/librenms-agent/agent-local/proxmox /usr/lib/check_mk_agent/local/proxmox\nchmod +x /usr/lib/check_mk_agent/local/proxmox\n</code></pre> <p>Then, enable and start the check_mk service using systemd</p> <pre><code>cp /opt/librenms-agent/check_mk@.service /opt/librenms-agent/check_mk.socket /etc/systemd/system\nsystemctl daemon-reload\nsystemctl enable check_mk.socket &amp;&amp; systemctl start check_mk.socket\n</code></pre> <p>Then in LibreNMS active the librenms-agent and proxmox application flag for the device you are monitoring. You should now see an application in LibreNMS, as well as a new menu-item in the topmenu, allowing you to choose which cluster you want to look at.</p>"},{"location":"Extensions/Proxmox/#note-if-you-want-to-use-use-xinetd-instead-of-systemd","title":"Note, if you want to use use xinetd instead of systemd","text":"<p>Its possible to use the librenms-agent started by xinetd instead of systemd. One use case is if you are forced to use a old Proxmox installation. After installing the librenms-agent (see above) please copy enable the xinetd config, then restart the xinetd service:</p> <pre><code>cp check_mk_xinetd /etc/xinetd.d/check_mk\n/etc/init.d/xinetd restart\n</code></pre>"},{"location":"Extensions/RRDCached/","title":"Setting up RRDCached","text":"<p>This document will explain how to set up RRDCached for LibreNMS.</p> <p>Since version 1.5, rrdtool / rrdcached now supports creating rrd files over rrdcached. If you have rrdcached 1.5.5 or above, you can also tune over rrdcached. To enable this set the following config:</p> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdtool_version '1.5.5'\n</code></pre> <p>This setting has to be the exact version of rrdtool you are running.</p> <p>NOTE: This feature requires your client version of rrdtool to be 1.5.5 or newer, in addition to your rrdcached version.</p>"},{"location":"Extensions/RRDCached/#distributed-poller-support-matrix","title":"Distributed Poller Support Matrix","text":"<p>Shared FS: Is a shared filesystem required?</p> <p>Features: Supported features in the version indicated.</p> <pre><code>G = Graphs.\nC = Create RRD files.\nU = Update RRD files.\nT = Tune RRD files.\n</code></pre> Version Shared FS Features 1.4.x Yes G,U &lt;1.5.5 Yes G,U &gt;=1.5.5 No G,C,U &gt;=1.6.x No G,C,U <p>It is recommended that you monitor your LibreNMS server with LibreNMS so you can view the disk I/O usage delta.</p>"},{"location":"Extensions/RRDCached/#installation-manual-for","title":"Installation Manual for","text":"<ol> <li>RRDCached installation Ubuntu 16</li> <li>RRDCached installation Debian Buster</li> <li>RRDCached installation Debian Stretch</li> <li>RRDCached installation CentOS 7 or 8</li> <li>RRDCached installation CentOS 6</li> <li>Securing RRCached</li> </ol>"},{"location":"Extensions/RRDCached/#rrdcached-installation-ubuntu-16","title":"RRDCached installation Ubuntu 16","text":"<p>1: Install rrdcached</p> <pre><code>sudo apt-get install rrdcached\n</code></pre> <p>2: Edit <code>/etc/default/rrdcached</code> to include:</p> <pre><code>DAEMON=/usr/bin/rrdcached\nDAEMON_USER=librenms\nDAEMON_GROUP=librenms\nWRITE_THREADS=4\nWRITE_TIMEOUT=1800\nWRITE_JITTER=1800\nBASE_PATH=/opt/librenms/rrd/\nJOURNAL_PATH=/var/lib/rrdcached/journal/\nPIDFILE=/run/rrdcached.pid\nSOCKFILE=/run/rrdcached.sock\nSOCKGROUP=librenms\nBASE_OPTIONS=\"-B -F -R\"\n</code></pre> <p>2: Fix permissions</p> <pre><code>chown librenms:librenms /var/lib/rrdcached/journal/\n</code></pre> <p>3: Restart the rrdcached service</p> <pre><code>systemctl restart rrdcached.service\n</code></pre> <p>5: Edit your config to include:</p> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"unix:/run/rrdcached.sock\"\n</code></pre>"},{"location":"Extensions/RRDCached/#rrdcached-installation-debian-buster","title":"RRDCached installation Debian Buster","text":"<p>(rrdcached 1.7.1)</p> <p>1: Install rrdcached</p> <pre><code>sudo apt-get install rrdcached\n</code></pre> <p>2; Edit /etc/default/rrdcached to include:</p> <pre><code>DAEMON=/usr/bin/rrdcached\nWRITE_TIMEOUT=1800\nWRITE_JITTER=1800\nWRITE_THREADS=4\nBASE_PATH=/opt/librenms/rrd/\nJOURNAL_PATH=/var/lib/rrdcached/journal/\nPIDFILE=/var/run/rrdcached.pid\nSOCKFILE=/run/rrdcached.sock\nSOCKGROUP=librenms\nDAEMON_GROUP=librenms\nDAEMON_USER=librenms\nBASE_OPTIONS=\"-B -F -R\"\n</code></pre> <p>3: Fix permissions</p> <pre><code>chown librenms:librenms /var/lib/rrdcached/journal/\n</code></pre> <p>4: Restart the rrdcached service</p> <pre><code>systemctl restart rrdcached.service\n</code></pre> <p>5: Edit your config to include:</p> <p>For local RRDCached server</p> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"unix:/run/rrdcached.sock\"\n</code></pre> <p>For remote RRDCached server make sure you have network option in /var/default/rrdcached</p> <pre><code>NETWORK_OPTIONS=\"-L\"\n</code></pre> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"IPADDRESS:42217\"\n</code></pre> <p>NOTE: change IPADDRESS to the ip the rrdcached server is listening on.</p>"},{"location":"Extensions/RRDCached/#rrdcached-installation-debian-stretch","title":"RRDCached installation Debian Stretch","text":"<p>(rrdcached 1.6.0)</p> <p>1: Install rrdcached</p> <pre><code>sudo apt-get install rrdcached\n</code></pre> <p>2; Edit /etc/default/rrdcached to include:</p> <pre><code>DAEMON=/usr/bin/rrdcached\nWRITE_TIMEOUT=1800\nWRITE_JITTER=1800\nWRITE_THREADS=4\nBASE_PATH=/opt/librenms/rrd/\nJOURNAL_PATH=/var/lib/rrdcached/journal/\nPIDFILE=/var/run/rrdcached.pid\nSOCKFILE=/run/rrdcached.sock\nSOCKGROUP=librenms\nDAEMON_GROUP=librenms\nDAEMON_USER=librenms\nBASE_OPTIONS=\"-B -F -R\"\n</code></pre> <p>3: Fix permissions</p> <pre><code>chown librenms:librenms /var/lib/rrdcached/journal/\n</code></pre> <p>4: Restart the rrdcached service</p> <pre><code>systemctl restart rrdcached.service\n</code></pre> <p>5: Edit your config to include:</p> <p>For local RRDCached server</p> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"unix:/run/rrdcached.sock\"\n</code></pre> <p>For remote RRDCached server make sure you have network option in /var/default/rrdcached</p> <pre><code>NETWORK_OPTIONS=\"-L\"\n</code></pre> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"IPADDRESS:42217\"\n</code></pre> <p>NOTE: change IPADDRESS to the ip the rrdcached server is listening on.</p>"},{"location":"Extensions/RRDCached/#rrdcached-installation-centos-7-or-8","title":"RRDCached installation CentOS 7 or 8","text":"<p>1: Create <code>/etc/systemd/system/rrdcached.service</code> with this content:</p> <pre><code>[Unit]\nDescription=Data caching daemon for rrdtool\nAfter=network.service\n\n[Service]\nType=forking\nPIDFile=/run/rrdcached.pid\nExecStart=/usr/bin/rrdcached -w 1800 -z 1800 -f 3600 -s librenms -U librenms -G librenms -B -R -j /var/tmp -l unix:/run/rrdcached.sock -t 4 -F -b /opt/librenms/rrd/\n\n[Install]\nWantedBy=default.target\n</code></pre> <p>2: Configure SELinux for RRDCached</p> <pre><code>cat &gt; rrdcached_librenms.te &lt;&lt; EOF\nmodule rrdcached_librenms 1.0;\n\nrequire {\n        type var_run_t;\n        type tmp_t;\n        type httpd_t;\n        type rrdcached_t;\n        type httpd_sys_rw_content_t;\n        class dir { add_name getattr open read remove_name rmdir search write };\n        class file { create getattr open read rename setattr unlink write map lock };\n        class sock_file { create setattr unlink write };\n        class capability { fsetid sys_resource };\n        class unix_stream_socket connectto;\n}\n\n#============= rrdcached_t ==============\n\nallow rrdcached_t httpd_sys_rw_content_t:dir { add_name getattr remove_name search write };\nallow rrdcached_t httpd_sys_rw_content_t:file { create getattr open read rename setattr unlink write map lock };\nallow rrdcached_t self:capability fsetid;\nallow rrdcached_t var_run_t:sock_file { create setattr unlink };\nallow httpd_t var_run_t:sock_file write;\nallow httpd_t rrdcached_t:unix_stream_socket connectto;\nEOF\n\ncheckmodule -M -m -o rrdcached_librenms.mod rrdcached_librenms.te\nsemodule_package -o rrdcached_librenms.pp -m rrdcached_librenms.mod\nsemodule -i rrdcached_librenms.pp\n</code></pre> <p>3: Start rrdcached</p> <pre><code>systemctl enable --now rrdcached.service\n</code></pre> <p>4: Edit your config to include:</p> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"unix:/run/rrdcached.sock\"\n</code></pre>"},{"location":"Extensions/RRDCached/#rrdcached-installation-centos-6","title":"RRDCached installation CentOS 6","text":"<p>This example is based on a fresh LibreNMS install, on a minimal CentOS 6 installation. In this example, we'll use the Repoforge repository.</p> <pre><code>rpm -ivh http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\nvi /etc/yum.repos.d/rpmforge.repo\n</code></pre> <ul> <li>Enable the Extra repo</li> </ul> <pre><code>yum update rrdtool\nvi /etc/yum.repos.d/rpmforge.repo\n</code></pre> <ul> <li>Disable the [rpmforge] and [rpmforge-extras] repos again</li> </ul> <pre><code>vi /etc/sysconfig/rrdcached\n\n# Settings for rrdcached\nOPTIONS=\"-w 1800 -z 1800 -f 3600 -s librenms -U librenms -G librenms -B -R -j /var/tmp -l unix:/run/rrdcached.sock -t 4 -F -b /opt/librenms/rrd/\"\nRRDC_USER=librenms\n\nmkdir /var/run/rrdcached\nchown librenms:librenms /var/run/rrdcached/\nchown librenms:librenms /var/rrdtool/\nchown librenms:librenms /var/rrdtool/rrdcached/\nchkconfig rrdcached on\nservice rrdcached start\n</code></pre> <ul> <li>Edit your config to include:</li> </ul> <p>poller/rrdtool</p> <pre><code>lnms config:set rrdcached \"unix:/run/rrdcached.sock\"\n</code></pre>"},{"location":"Extensions/RRDCached/#verify","title":"Verify","text":"<p>Check to see if the graphs are being drawn in LibreNMS. This might take a few minutes. After at least one poll cycle (5 mins), check the LibreNMS disk I/O performance delta. Disk I/O can be found under the menu Devices&gt;All Devices&gt;[localhost hostname]&gt;Health&gt;Disk I/O.</p> <p>Depending on many factors, you should see the Ops/sec drop by ~30-40%.</p>"},{"location":"Extensions/RRDCached/#securing-rrcached","title":"Securing RRCached","text":"<p>According to the man page, under \"SECURITY CONSIDERATIONS\", rrdcached has no authentication or security except for running under a unix socket. If you choose to use a network socket instead of a unix socket, you will need to secure your rrdcached installation. To do so you can proxy rrdcached using nginx to allow only specific IPs to connect.</p> <p>Using the same setup above, using nginx version 1.9.0 or later, you can follow this setup to proxy the default rrdcached port to the local unix socket.</p> <p>(You can use <code>./conf.d</code> for your configuration as well)</p> <p><code>mkdir /etc/nginx/streams-{available,enabled}</code></p> <p>add the following to your nginx.conf file:</p> <pre><code>#/etc/nginx/nginx.conf\n...\nstream {\n    include /etc/nginx/streams-enabled/*;\n}\n</code></pre> <p>Add this to <code>/etc/nginx/streams-available/rrd</code></p> <pre><code>server {\n    listen 42217;\n\n    error_log  /var/log/nginx/rrd.stream.error.log;\n\n    allow $LibreNMS_IP;\n    deny all;\n\n    proxy_pass unix:/run/rrdcached.sock;\n}\n</code></pre> <p>Replace <code>$LibreNMS_IP</code> with the ip of the server that will be using rrdcached. You can specify more than one <code>allow</code> statement. This will bind nginx to TCP 42217 (the default rrdcached port), allow the specified IPs to connect, and deny all others.</p> <p>next, we'll symlink the config to streams-enabled: <code>ln -s /etc/nginx/streams-{available,enabled}/rrd</code></p> <p>and reload nginx <code>service nginx reload</code></p>"},{"location":"Extensions/RRDTune/","title":"RRDTune","text":"<p>When we create rrd files for ports, we currently do so with a max value of 12500000000 (100G). Because of this if a device sends us bad data back then it can appear as though a 100M port is doing 40G+ which is impossible. To counter this you can enable the rrdtool tune option which will fix the max value to the interfaces physical speed (minimum of 10M).</p> <p>To enable this you can do so in three ways!</p> <ul> <li>Globally under Global Settings -&gt; Poller -&gt; Datastore: RRDTool</li> <li>For the actual device, Edit Device -&gt; Misc</li> <li>For each port, Edit Device -&gt; Port Settings</li> </ul> <p>Now when a port interface speed changes (this can happen because of a physical change or just because the device has misreported) the max value is set. If you don't want to wait until a port speed changes then you can run the included script:</p> <p><code>./scripts/tune_port.php -h &lt;hostname&gt; -p &lt;ifName&gt;</code></p> <p>Wildcards are supported using *, i.e:</p> <p><code>./scripts/tune_port.php -h local* -p eth*</code></p> <p>This script will then perform the rrdtool tune on each port found using the provided ifSpeed for that port.</p> <p>Run <code>./scripts/tune_port.php</code> to see help page.</p>"},{"location":"Extensions/Rancid/","title":"Rancid","text":"<p>Librenms can generate a list of hosts that can be monitored by RANCID. We assume you have currently a running Rancid, and you just need to create and update the file 'router.db'</p>"},{"location":"Extensions/Rancid/#included-rancid-script","title":"Included Rancid script","text":"<p>To generate the config file (maybe even add a cron to schedule this). We've assumed a few locations for Rancid, the config file you want to call it and where LibreNMS is:</p> <pre><code>cd /opt/librenms/scripts/\nphp ./gen_rancid.php &gt; /the/path/where/is/rancid/core/router.db\n</code></pre> <p>Sample cron:</p> <pre><code>15   0    * * * root cd /opt/librenms/scripts &amp;&amp; php ./gen_rancid.php &gt; /the/path/where/is/rancid/core/router.db\n</code></pre> <p>Now configure LibreNMS (make sure you point dir to your rancid data directory):</p> <pre><code>$config['rancid_configs']['core'] = '/the/path/where/is/rancid/core';\n$config['rancid_ignorecomments'] = 0;\n</code></pre> <p>After that, you should see some \"config\" tab on routers that have a rancid update.</p>"},{"location":"Extensions/Rancid/#ubuntu-rancid-install","title":"Ubuntu Rancid Install","text":"<p>The options shown below also contains the default values.</p> <p>NOTE - This is Only for Ubuntu 16.04 at this time, and may not work on other distros!</p> <p><code>sudo apt-get install rancid subversion</code></p> <p>Edit Rancid config file to use subversion or git instead of default cvs, and adds a group: <code>sudo vi /etc/rancid/rancid.conf</code></p> <p><code>LIST_OF_GROUPS=\"librenms\"</code></p> <p>Now change these two lines:</p> <pre><code>CVSROOT=$BASEDIR/CVS; export CVSROOT\nRCSSYS=cvs; export RCSSYS\n</code></pre> <p>to:</p> <pre><code>CVSROOT=$BASEDIR/SVN; export CVSROOT\nRCSSYS=svn; export RCSSYS\n</code></pre> <p>NOTE - This only creates 1 group! You can of course make more when you get the hang of it, this is just a basic 'Need it to work\" deal.</p> <p><code>sudo su -c /var/lib/rancid/bin/rancid-cvs -s /bin/bash -l rancid</code></p> <p>NOTE - do NOT change cvs to svn here! Leave command as is!</p> <p>Get a list of devices from Librenms you can pull configs from:</p> <pre><code>cd /opt/librenms/scripts\nsudo ./gen_rancid.php\n</code></pre> <p>Copy the output. Replace all \":\" with \";\" example:</p> <pre><code>alphcr1:cisco:up will change to:\nalphcr1;cisco;up\n</code></pre> <p>copy and past results into the below file: <code>sudo vi /var/lib/rancid/librenms/router.db</code></p> <p>NOTE - This ONLY applies to newer RANCID versions and Linux distros. Older versions will need to retain the : and not the ;</p> <p>Create/edit rancids login file:</p> <p><code>sudo vi /var/lib/rancid/.cloginrc</code></p> <p>Add following at minimum:</p> <pre><code>add user * &lt;your username here&gt;\nadd password * &lt;your password here&gt;\nadd method * ssh\nadd noenable * {1}                         ******This disables the enable when using radius etc *******\n</code></pre> <p>Grant permissions for rancid:</p> <pre><code>sudo chown rancid /var/lib/rancid/.cloginrc\nsudo chmod 600 /var/lib/rancid/.cloginrc\n</code></pre> <p>Test config: <code>sudo /usr/lib/rancid/bin/clogin -f /var/lib/rancid/.cloginrc &lt;device hostname&gt;</code></p> <p>NOTE: IF you run into a 'diffie-hellmen' kind of error, then it is because your Linux distro is using newer encryption methods etc. This is basically just letting you know that the device you tested on is running an outdated encryption type. I recommend updating downstream device if able.  If not, the following should fix:</p> <p><code>sudo vi /etc/ssh/ssh_config</code></p> <p>Add:</p> <p><code>KexAlgorithms diffie-hellman-group1-sha1</code></p> <p>Re-try logging into your device again</p> <p>Upon success, run rancid:</p> <p><code>sudo su -c /var/lib/rancid/bin/rancid-run -s /bin/bash -l rancid</code></p> <p>Ensure your configs pulled:</p> <pre><code>sudo su - rancid\ncd librenms/configs/\nls\n</code></pre> <p>Make sure your config files are there :-)</p> <pre><code>sudo usermod -a -G rancid librenms\n</code></pre> <p>Add Rancid into LibreNMS config.php:</p> <pre><code>### Rancid\n$config['rancid_configs'][]             = '/var/lib/rancid/librenms/configs/';\n$config['rancid_repo_type']             = 'svn';  //'svn' or 'git'\n$config['rancid_ignorecomments']        = 0;\n</code></pre> <p>Now restart apache <code>sudo /etc/init.d/apache2 restart</code></p>"},{"location":"Extensions/SNMP-Proxy/","title":"SNMP Proxy","text":"<p>If you have machines that you want to monitor but are not reachable directly, you can use SNMPD Proxy. This will use the reachable SNMPD to proxy requests to the unreachable SNMPD.</p>"},{"location":"Extensions/SNMP-Proxy/#example-configuration","title":"Example configuration","text":"<p>We want to poll 'unreachable.example.com' via</p> <p>'hereweare.example.com'. Use the following config:</p> <p>On 'hereweare.example.com':</p> <pre><code>        view all included .1\n        com2sec -Cn ctx_unreachable readonly &lt;poller-ip&gt; unreachable\n        access MyROGroup ctx_unreachable any noauth prefix all none none\n        proxy -Cn ctx_unreachable -v 2c -c private unreachable.example.com  .1.3\n</code></pre> <p>On 'unreachable.example.com':</p> <pre><code>        view all included .1                               80\n        com2sec readonly &lt;hereweare.example.com ip address&gt; private\n        group MyROGroup v1 readonly\n        group MyROGroup v2c readonly\n        group MyROGroup usm readonly\n        access MyROGroup \"\" any noauth exact all none none\n</code></pre> <p>You can now poll community 'private' on 'unreachable.example.com' via community 'unreachable' on host 'hereweare.example.com'. Please note that requests on 'unreachable.example.com' will be coming from 'hereweare.example.com', not your poller.</p>"},{"location":"Extensions/SNMP-Trap-Handler/","title":"SNMP trap handling","text":"<p>Currently, LibreNMS supports a lot of trap handlers. You can check them on GitHub here. To add more see Adding new SNMP Trap handlers. Traps are handled via snmptrapd.</p> <p>snmptrapd is an SNMP application that receives and logs SNMP TRAP and INFORM messages.</p> <p>The default is to listen on UDP port 162 on all IPv4 interfaces. Since 162 is a privileged port, snmptrapd must typically be run as root.</p>"},{"location":"Extensions/SNMP-Trap-Handler/#configure-snmptrapd","title":"Configure snmptrapd","text":"<p>Install snmptrapd via your package manager.</p> <p>For example (Debian based systems):</p> <pre><code>sudo apt install snmptrapd -y\n</code></pre> <p>In <code>/etc/snmp/snmptrapd.conf</code>, add :</p> <pre><code>disableAuthorization yes\nauthCommunity log,execute,net COMMUNITYSTRING\ntraphandle default /opt/librenms/snmptrap.php\n</code></pre> <p>To enable snmptrapd to properly parse traps, we will need to add MIBs to service.</p>"},{"location":"Extensions/SNMP-Trap-Handler/#option-1","title":"Option 1","text":"<p>Make the folder <code>/etc/systemd/system/snmptrapd.service.d/</code> and edit the file <code>/etc/systemd/system/snmptrapd.service.d/mibs.conf</code> and add the following content.</p> <p>You may want to tweak to add vendor directories for devices you care about. In the example below, standard and cisco directories are defined, and only IF-MIB is loaded.</p> <pre><code>[Service]\nEnvironment=MIBDIRS=+/opt/librenms/mibs:/opt/librenms/mibs/cisco\nEnvironment=MIBS=+IF-MIB\n</code></pre> <p>For non-systemd systems, you can edit TRAPDOPTS in the init script in /etc/init.d/snmptrapd.</p> <p><code>TRAPDOPTS=\"-Lsd  -M /opt/librenms/mibs -m IF-MIB -f -p $TRAPD_PID\"</code></p> <p>Along with any necessary configuration to receive the traps from your devices (community, etc.)</p>"},{"location":"Extensions/SNMP-Trap-Handler/#option-2","title":"Option 2","text":"<p>Tested on Ubuntu 18</p> <p>Just set up your service like:</p> <pre><code>[Unit]\nDescription=Simple Network Management Protocol (SNMP) Trap Daemon.\nAfter=network.target\nConditionPathExists=/etc/snmp/snmptrapd.conf\n\n[Service]\nEnvironment=\"MIBSDIR=/opt/librenms/mibs\"\nType=simple\nExecStart=/usr/sbin/snmptrapd -f -m IF-MIB -M /opt/librenms/mibs\nExecReload=/bin/kill -HUP $MAINPID\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>In Ubuntu 18 is service located by default in <code>/etc/systemd/system/multi-user.target.wants/snmptrapd.service</code></p> <p>Here is a list of snmptrapd options:</p> Option Description -a Ignore authenticationFailure traps. [OPTIONAL] -f Do not fork from the shell -n Use numeric addresses instead of attempting hostname lookups (no DNS) [OPTIONAL] -m MIBLIST: use MIBLIST (<code>FILE1-MIB:FILE2-MIB</code>). <code>ALL</code> = Load all MIBS in DIRLIST. (usually fails) -M DIRLIST: use DIRLIST as the list of locations to look for MIBs. Option is not recursive, so you need to specify each DIR individually, separated by <code>:</code>. (For example: /opt/librenms/mibs:/opt/librenms/mibs/cisco:/opt/librenms/mibs/edgecos) <p>Good practice is to avoid <code>-m ALL</code> because then it will try to load all the MIBs in DIRLIST, which will typically fail (snmptrapd cannot load that many mibs). Better is to specify the exact MIB files defining the traps you are interested in, for example for LinkDown and LinkUp as well as BGP traps, use <code>-m IF-MIB:BGP4-MIB</code>. Multiple files can be added, separated with <code>:</code>.</p> <p>If you want to test or store original TRAPS in log then:</p> <p>Create a folder for storing traps for example in file <code>traps.log</code></p> <pre><code>sudo mkdir /var/log/snmptrap\n</code></pre> <p>Add the following config to your snmptrapd.service after <code>ExecStart=/usr/sbin/snmptrapd -f -m ALL -M /opt/librenms/mibs</code></p> <pre><code>-tLf /var/log/snmptrap/traps.log\n</code></pre> <p>On SELinux, you need to configure SELinux for SNMPd to communicate to LibreNMS:</p> <pre><code>cat &gt; snmptrap.te &lt;&lt; EOF\nmodule snmptrap 1.0;\n\nrequire {\n        type httpd_sys_rw_content_t;\n        type snmpd_t;\n        class file { append getattr open read };\n        class capability dac_override;\n}\n\n#============= snmpd_t ==============\n\nallow snmpd_t httpd_sys_rw_content_t:file { append getattr open read };\nallow snmpd_t self:capability dac_override;\nEOF\ncheckmodule -M -m -o snmptrap.mod snmptrap.te\nsemodule_package -o snmptrap.pp -m snmptrap.mod\nsemodule -i snmptrap.pp\n</code></pre> <p>After successfully configuring the service, reload service files, enable, and start the snmptrapd service:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable snmptrapd\nsudo systemctl restart snmptrapd\n</code></pre>"},{"location":"Extensions/SNMP-Trap-Handler/#testing","title":"Testing","text":"<p>The easiest test is to generate a trap from your device. Usually, changing the configuration on a network device, or plugging/unplugging a network cable (LinkUp, LinkDown) will generate a trap. You can confirm it using a with <code>tcpdump</code>, <code>tshark</code> or <code>wireshark</code>.</p> <p>You can also generate a trap using the <code>snmptrap</code> command from the LibreNMS server itself (if and only if the LibreNMS server is monitored).</p>"},{"location":"Extensions/SNMP-Trap-Handler/#how-to-send-snmp-v2-trap","title":"How to send SNMP v2 Trap","text":"<p>The command below takes the form of:</p> <pre><code>snmptrap -v &lt;snmp_version&gt; -c &lt;community&gt; &lt;destination_host&gt; &lt;uptime&gt; &lt;OID_or_MIB&gt; &lt;object&gt; &lt;value_type&gt; &lt;value&gt;\n</code></pre> <p>Using OID's:</p> <pre><code>snmptrap -v 2c -c public localhost '' 1.3.6.1.4.1.8072.2.3.0.1 1.3.6.1.4.1.8072.2.3.2.1 i 123456\n</code></pre> <p>If you have configured logging of traps to <code>/var/log/snmptrap/traps.log</code> then you will see in <code>traps.log</code> new entry:</p> <pre><code>2020-03-09 16:22:59 localhost [UDP: [127.0.0.1]:58942-&gt;[127.0.0.1]:162]:\nSNMPv2-MIB::sysUpTime.0 = Timeticks: (149721964) 17 days, 7:53:39.64    SNMPv2-MIB::snmpTrapOID.0 = OID: SNMPv2-SMI::enterprises.8072.2.3.0.1   SNMPv2-SMI::enterprises.8072.2.3.2.1 = INTEGER: 123456\n</code></pre> <p>and in LibreNMS your localhost device eventlog like:</p> <pre><code>2020-03-09 16:22:59             SNMP trap received: SNMPv2-SMI::enterprises.8072.2.3.0.1\n</code></pre>"},{"location":"Extensions/SNMP-Trap-Handler/#why-we-need-uptime","title":"Why we need Uptime","text":"<p>When you send a trap, it must of course conform to a set of standards. Every trap needs an uptime value. Uptime is how long the system has been running since boot. Sometimes this is the operating system, other devices might use the SNMP engine uptime. Regardless, a value will be sent.</p> <p>So what value should you type in the commands below? Oddly enough, simply supplying no value by using two single quotes '' will instruct the command to obtain the value from the operating system you are executing this on.</p>"},{"location":"Extensions/SNMP-Trap-Handler/#event-logging","title":"Event logging","text":"<p>You can configure generic event logging for snmp traps.  This will log an event of the type trap for received traps. These events can be used for alerting. By default, only the TrapOID is logged. But you can enable the \"detailed\" variant, and all the data received with the trap will be logged.</p> <p>The parameter can be found in General Settings / External / SNMP Traps Integration.</p> <p>It can also be configured in your config.</p> <p>external/snmptrapd</p> <pre><code>lnms config:set snmptraps.eventlog 'unhandled'\nlnms config:set snmptraps.eventlog_detailed false\n</code></pre> <p>Valid options are:</p> <ul> <li><code>unhandled</code> only unhandled traps will be logged (default value)</li> <li><code>all</code> log all traps</li> <li><code>none</code> no traps will create a generic event log (handled traps may still log events)</li> </ul>"},{"location":"Extensions/Services/","title":"Nagios Plugins - Services","text":"<p>Services within LibreNMS provides the ability to leverage Nagios plugins to perform additional monitoring outside of SNMP. Services can also be used in conjunction with your SNMP monitoring for larger monitoring functionality.</p>"},{"location":"Extensions/Services/#setting-up-services","title":"Setting up Services","text":"<p>Services must be tied to a device to function properly. A good generic option is to use <code>localhost</code>, but it is suggested to attach the check to the device you are monitoring.</p>"},{"location":"Extensions/Services/#nagios-plugins-source","title":"Nagios plugins source","text":"<p>Plugins come from two main sources:</p> <ul> <li>monitoring-plugins</li> <li>pkg-nagios-plugins-contrib</li> </ul> <p>Note: Plugins will only load if they are prefixed with <code>check_</code>. The <code>check_</code> prefix is stripped out when displaying in the \"Add Service\" GUI \"Type\" dropdown list.</p>"},{"location":"Extensions/Services/#service-templates","title":"Service Templates","text":"<p>Service Templates within LibreNMS provides the same ability as Nagios does with Host Groups. Known as Device Groups in LibreNMS. They are applied devices that belong to the specified Device Group.</p> <p>Use the Apply buttons to manually create or update Services for the Service Template. Use the Remove buttons to manually remove Services for the Service Template.</p> <p>After you Edit a Service Template, and then use Apply, all relevant changes are pushed to existing Services previously created.</p> <p>You can also enable Service Templates Auto Discovery to have Services added / removed / updated on regular discover intervals.</p> <p>When a Device is a member of multiple Device Groups, templates from all of those Device Groups are applied.</p> <p>If a Device is added or removed from a Device Group, when the Apply button is used or Auto Discovery runs Services will be added / removed as appropriate.</p> <p>Service Templates are tied into Device Groups, you need at least one Device Group to be able to add Service Templates - You can define a dummy one. The Device Group does not need members to add Service Templates.</p>"},{"location":"Extensions/Services/#service-auto-discovery","title":"Service Auto Discovery","text":"<p>To automatically create services for devices with available checks.</p> <p>You need to enable the discover services within config.php with the following:</p> <pre><code>$config['discover_services']           = true;\n</code></pre>"},{"location":"Extensions/Services/#service-templates-auto-discovery","title":"Service Templates Auto Discovery","text":"<p>To automatically create services for devices with configured Service Templates.</p> <p>You need to enable the discover services within config.php with the following:</p> <pre><code>$config['discover_services_templates']           = true;\n</code></pre>"},{"location":"Extensions/Services/#setup","title":"Setup","text":"<p>Service checks are now distributable if you run a distributed setup. To leverage this, use the <code>dispatch</code> service. Alternatively, you could also replace <code>check-services.php</code> with <code>services-wrapper.py</code> in cron instead to run across all polling nodes.</p> <p>If you need to debug the output of services-wrapper.py then you can add <code>-d</code> to the end of the command - it is NOT recommended to do this in cron.</p> <p>Firstly, install Nagios plugins.</p> <p>Debian / Ubuntu: <code>sudo apt install monitoring-plugins</code> Centos: <code>yum install nagios-plugins-all</code></p> <p>Note: The plugins are bundled with the pre-build VM and Docker images.</p> <p>Next, you need to enable the services within config.php with the following:</p> <pre><code>$config['show_services']           = 1;\n</code></pre> <p>This will enable a new service menu within your navbar.</p> <p>Debian/Ubuntu: <pre><code>$config['nagios_plugins']   = \"/usr/lib/nagios/plugins\";\n</code></pre></p> <p>Centos: <pre><code>$config['nagios_plugins']   = \"/usr/lib64/nagios/plugins\";\n</code></pre></p> <p>This will point LibreNMS at the location of the nagios plugins - please ensure that any plugins you use are set to executable. For example:</p> <p>Debian/Ubuntu: <pre><code>chmod +x /usr/lib/nagios/plugins/*\n</code></pre></p> <p>Centos: <pre><code>chmod +x /usr/lib64/nagios/plugins/*\n</code></pre></p> <p>Finally, you now need to add services-wrapper.py to the current cron file (/etc/cron.d/librenms typically) like:</p> <pre><code>*/5 * * * * librenms /opt/librenms/services-wrapper.py 1\n</code></pre> <p>Now you can add services via the main Services link in the navbar, or via the 'Add Service' link within the device, services page.</p> <p>Note that some services (procs, inodes, load and similar) will always poll the local LibreNMS server it's running on, regardless of which device you add it to.</p>"},{"location":"Extensions/Services/#performance-data","title":"Performance data","text":"<p>By default, the check-services script will collect all performance data that the Nagios script returns and display each datasource on a separate graph. LibreNMS expects scripts to return using Nagios convention for the response message structure: AEN200</p> <p>However for some modules it would be better if some of this information was consolidated on a single graph. An example is the ICMP check. This check returns: Round Trip Average (rta), Round Trip Min (rtmin) and Round Trip Max (rtmax). These have been combined onto a single graph.</p> <p>If you find a check script that would benefit from having some datasources graphed together, please log an issue on GitHub with the debug information from the script, and let us know which DS's should go together. Example below:</p> <pre><code>    ./check-services.php -d\n    -- snip --\n    Nagios Service - 26\n    Request:  /usr/lib/nagios/plugins/check_icmp localhost\n    Perf Data - DS: rta, Value: 0.016, UOM: ms\n    Perf Data - DS: pl, Value: 0, UOM: %\n    Perf Data - DS: rtmax, Value: 0.044, UOM: ms\n    Perf Data - DS: rtmin, Value: 0.009, UOM: ms\n    Response: OK - localhost: rta 0.016ms, lost 0%\n    Service DS: {\n        \"rta\": \"ms\",\n        \"pl\": \"%\",\n        \"rtmax\": \"ms\",\n        \"rtmin\": \"ms\"\n    }\n    OK u:0.00 s:0.00 r:40.67\n    RRD[update /opt/librenms/rrd/localhost/services-26.rrd N:0.016:0:0.044:0.009]\n    -- snip --\n</code></pre>"},{"location":"Extensions/Services/#alerting","title":"Alerting","text":"<p>Services uses the Nagios Alerting scheme where exit code:</p> <pre><code>    0 = Ok,\n    1 = Warning,\n    2 = Critical,\n</code></pre> <p>To create an alerting rule to alert on service=critical, your alerting rule would look like:</p> <pre><code>    %services.service_status = \"2\"\n</code></pre>"},{"location":"Extensions/Services/#debug","title":"Debug","text":"<p>Change user to librenms for example</p> <pre><code>su - librenms\n</code></pre> <p>then you can run the following command to help troubleshoot services.</p> <pre><code>./check-services.php -d\n</code></pre>"},{"location":"Extensions/Services/#related-polling-discovery-options","title":"Related Polling / Discovery Options","text":"<p>These settings are related and should be investigated and set accordingly. The below values are not defaults or recommended.</p> <p><pre><code>$config['service_poller_enabled']           = true;\n</code></pre> <pre><code>$config['service_poller_workers']           = 16;\n</code></pre> <pre><code>$config['service_poller_frequency']         = 300;\n</code></pre> <pre><code>$config['service_poller_down_retry']        = 5;\n</code></pre> <pre><code>$config['service_discovery_enabled']        = true;\n</code></pre> <pre><code>$config['service_discovery_workers']        = 16;\n</code></pre> <pre><code>$config['service_discovery_frequency']      = 3600;\n</code></pre> <pre><code>$config['service_services_enabled']         = true;\n</code></pre> <pre><code>$config['service_services_workers']         = 16;\n</code></pre> <pre><code>$config['service_services_frequency']       = 60;\n</code></pre></p>"},{"location":"Extensions/Services/#service-checks-polling-logic","title":"Service checks polling logic","text":"<p>Service check is skipped when the associated device is not pingable, and an appropriate entry is populated in the event log. Service check is polled if it's <code>IP address</code> parameter is not equal to associated device's IP address, even when the associated device is not pingable.</p> <p>To override the default logic and always poll service checks, you can disable ICMP testing for any device by switching <code>Disable ICMP Test</code> setting (Edit -&gt; Misc) to ON.</p> <p>Service checks will never be polled on disabled devices.</p>"},{"location":"Extensions/Services/#check_mrpe","title":"CHECK_MRPE","text":"<p>In most cases, only Nagios plugins that run against a remote host with the -H option are available as services.  However, if you're remote host is running the Check_MK agent you may be able to use MRPE to monitor Nagios plugins that only execute locally as services.</p> <p>For example, consider the fairly common check_cpu.sh Nagios plugin. If you added..</p> <p>cpu_check /usr/lib/nagios/plugins/check_cpu.sh -c 95 -w 75</p> <p>...to <code>/etc/check_mk/mrpe.cfg</code> on your remote host, you should be able to check its output by configuring a service using the check_mrpe script.</p> <ul> <li>Add check_mrpe to the Nagios plugins directory on your LibreNMS server and make it executable.</li> <li>In LibreNMS, add a new service to the desired device with the type mrpe.</li> <li>Enter the IP address of the remote host and in parameters enter <code>-a cpu_check</code> (this should match the name used at the beginning of the line in the mrpe.cfg file).</li> </ul>"},{"location":"Extensions/Smokeping/","title":"Smokeping integration","text":"<p>SmokePing is a tool which lets us keep track of network latency, and visualise this through RRD graphs.</p> <p>LibreNMS has support for both new and pre-existing SmokePing installations.</p> <p>For new installations, we can use the <code>lnms</code> cli to generate a Smokeping configuration file.</p>"},{"location":"Extensions/Smokeping/#pre-existing-smokeping-installation","title":"Pre-Existing Smokeping Installation","text":"<p>If you have an existing smokeping server, follow the instructions, you only need to look at Configure LibreNMS - All Operating Systems.</p>"},{"location":"Extensions/Smokeping/#new-installation","title":"New Installation","text":"<p>All installation steps assume a clean configuration - if you have an existing smokeping setup, you'll need to adapt these steps somewhat.</p>"},{"location":"Extensions/Smokeping/#install-and-integrate-smokeping-backend-rhel-centos-and-alike","title":"Install and integrate Smokeping Backend - RHEL, CentOS and alike","text":"<p>Smokeping is available via EPEL, which if you're running LibreNMS, you probably already have. If you want to do something like run Smokeping on a seperate host and ship data via RRCached though, here's the install command:</p> <pre><code>sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\nsudo yum install smokeping\n</code></pre> <p>Once installed, you should need a cron script installed to make sure that the configuration file is updated. You can find an example in <code>misc/librenms-smokeping-rhel.example</code>. Put this into /etc/cron.d/hourly, and mark it executable:</p> <pre><code>sudo cp /opt/librenms/misc/smokeping-rhel.example /etc/cron.hourly/librenms-smokeping\nsudo chmod +x /etc/cron.hourly/librenms-smokeping\n</code></pre> <p>Finally, update the default configuration. Strip everything from the <code>*** Probes ***</code> and <code>*** Targets ***</code> stanza's, and replace with:</p> <pre><code>*** Probes ***\n\n@include /etc/smokeping/librenms-probes.conf\n</code></pre> <pre><code>*** Targets ***\n\nprobe = FPing\n\nmenu = Top\ntitle = Network Latency Grapher\nremark = Welcome to the SmokePing website of &lt;b&gt;Insert Company Name Here&lt;/b&gt;. \\\n         Here you will learn all about the latency of our network.\n\n@include /etc/smokeping/librenms-targets.conf\n</code></pre> <p>Note there may be other stanza's (possibly <code>*** Slaves ***</code>) between the <code>*** Probes ***</code> and <code>*** Targets ***</code> stanza's - leave these intact.</p> <p>Leave everything else untouched. If you need to add other configuration, make sure it comes after the LibreNMS configuration, and keep in mind that Smokeping does not allow duplicate modules, and cares about the configuration file sequence.</p> <p>Once you're happy, manually kick off the cron once, then enable and start smokeping:</p> <pre><code>sudo /etc/cron.hourly/librenms-smokeping\nsudo systemctl enable --now smokeping\n</code></pre>"},{"location":"Extensions/Smokeping/#install-and-integrate-smokeping-backend-ubuntu-debian-and-alike","title":"Install and integrate Smokeping Backend - Ubuntu, Debian and alike","text":"<p>Smokeping is available via the default repositories.</p> <pre><code>sudo apt-get install smokeping\n</code></pre> <p>Once installed, you should need a cron script installed to make sure that the configuration file is updated. You can find an example in <code>misc/librenms-smokeping-debian.example</code>. Put this into /etc/cron.d/hourly, and mark it executable:</p> <pre><code>sudo cp /opt/librenms/misc/smokeping-debian.example /etc/cron.hourly/librenms-smokeping\nsudo chmod +x /etc/cron.hourly/librenms-smokeping\n</code></pre> <p>Finally, update the default configuration. Strip everything from <code>/etc/smokeping/config.d/Probes</code> and replace with:</p> <pre><code>*** Probes ***\n\n@include /etc/smokeping/config.d/librenms-probes.conf\n</code></pre> <p>Strip everything from <code>/etc/smokeping/config.d/Targets</code> and replace with:</p> <pre><code>*** Targets ***\n\nprobe = FPing\n\nmenu = Top\ntitle = Network Latency Grapher\nremark = Welcome to the SmokePing website of &lt;b&gt;Insert Company Name Here&lt;/b&gt;. \\\n         Here you will learn all about the latency of our network.\n\n@include /etc/smokeping/config.d/librenms-targets.conf\n</code></pre> <p>Leave everything else untouched. If you need to add other configuration, make sure it comes after the LibreNMS configuration, and keep in mind that Smokeping does not allow duplicate modules, and cares about the configuration file sequence.</p>"},{"location":"Extensions/Smokeping/#configure-librenms-all-operating-systems","title":"Configure LibreNMS - All Operating Systems","text":"<p>external/smokeping</p> <pre><code>lnms config:set smokeping.dir '/var/lib/smokeping'\nlnms config:set smokeping.pings 20\nlnms config:set smokeping.probes 2\nlnms config:set smokeping.integration true\nlnms config:set smokeping.url 'smokeping/'\n</code></pre> <p><code>dir</code> should match the location that smokeping writes RRD's to <code>pings</code> should match the default smokeping value, default 20 <code>probes</code> should be the number of processes to spread pings over, default 2</p> <p>These settings can also be set in the Web UI.</p>"},{"location":"Extensions/Smokeping/#configure-smokepings-web-ui-optional","title":"Configure Smokeping's Web UI - Optional","text":"<p>This section covers the required configuration for your web server of choice. This covers the required configuration for either Apache or Nginx.</p> <p>LibreNMS does not need the Web UI - you can find the graphs in LibreNMS on the latency tab.</p>"},{"location":"Extensions/Smokeping/#apache-configuration-ubuntu-debian-and-alike","title":"Apache Configuration - Ubuntu, Debian and alike","text":"<p>Edit the <code>General</code> configuration file's Owner and contact, and cgiurl hostname details:</p> <pre><code>nano /etc/smokeping/config.d/General\nowner    = LibreNMS-Admin\ncontact  = admin@ACME.xxx\ncgiurl   = http://yourlibrenms/cgi-bin/smokeping.cgi\n</code></pre> <p>Smokeping should automatically install an Apache configuration file in <code>/etc/apache2/conf-available/</code>. Verify this using :</p> <pre><code>librenms@librenms:~/scripts$ ls /etc/apache2/conf-available/ | grep smokeping\nsmokeping.conf\n</code></pre> <p>If you don't see <code>smokeping.conf</code> listed, you'll need to create a symlink for it:</p> <pre><code>ln -s /etc/smokeping/apache2.conf /etc/apache2/conf-available/smokeping.conf\n</code></pre> <p>After creating the symlink, restart Apache with <code>sudo systemctl apache2 restart</code></p> <p>You should be able to load the Smokeping web interface at <code>http://yourhost/cgi-bin/smokeping.cgi</code></p>"},{"location":"Extensions/Smokeping/#nginx-configuration-rhel-centos-and-alike","title":"Nginx Configuration - RHEL, CentOS and alike","text":"<p>This section assumes you have configured LibreNMS with Nginx as specified in Configure Nginx.</p> <p>Note, you need to install fcgiwrap for CGI wrapper interact with Nginx <pre><code>yum install fcgiwrap\n</code></pre> Then create a new configuration file for fcgiwrap in /etc/nginx/fcgiwrap.conf <pre><code># Include this file on your nginx.conf to support debian cgi-bin scripts using\n# fcgiwrap\nlocation /cgi-bin/ {\n  # Disable gzip (it makes scripts feel slower since they have to complete\n  # before getting gzipped)\n  gzip off;\n\n  # Set the root to /usr/lib (inside this location this means that we are\n  # giving access to the files under /usr/lib/cgi-bin)\n  #root /usr/lib;\n  root /usr/share/nginx;\n\n  # Fastcgi socket\n  fastcgi_pass  unix:/var/run/fcgiwrap.socket;\n\n  # Fastcgi parameters, include the standard ones\n  include /etc/nginx/fastcgi_params;\n\n  # Adjust non standard parameters (SCRIPT_FILENAME)\n  fastcgi_param SCRIPT_FILENAME  /usr/lib$fastcgi_script_name;\n} \n</code></pre> Be sure to create the folder cgi-bin folder with required permissions (755) <pre><code>mkdir /usr/share/nginx/cgi-bin\n</code></pre> Create fcgiwrap systemd service in /usr/lib/systemd/system/fcgiwrap.service <pre><code># create new\n[Unit]\nDescription=Simple CGI Server\nAfter=nss-user-lookup.target\nRequires=fcgiwrap.socket\n\n[Service]\nEnvironmentFile=/etc/sysconfig/fcgiwrap\nExecStart=/usr/sbin/fcgiwrap ${DAEMON_OPTS} -c ${DAEMON_PROCS}\nUser=librenms\nGroup=librenms\n\n[Install]\nAlso=fcgiwrap.socket\n</code></pre> The socket file in /usr/lib/systemd/system/fcgiwrap.socket <pre><code># create new\n[Unit]\nDescription=fcgiwrap Socket\n\n[Socket]\nListenStream=/var/run/fcgiwrap.socket\n\n[Install]\nWantedBy=sockets.target\n</code></pre> Enable fcgiwrap <pre><code>systemctl enable --now fcgiwrap\n</code></pre></p> <p>Add the following configuration to your <code>/etc/nginx/conf.d/librenms.conf</code> file within <code>server</code> section.</p> <p>The following will configure Nginx to respond to <code>http://yourlibrenms/smokeping</code>: <pre><code>location = /smokeping/ {\n        fastcgi_intercept_errors on;\n        fastcgi_param   SCRIPT_FILENAME         /usr/share/smokeping/cgi/smokeping.fcgi;\n        fastcgi_param   QUERY_STRING            $query_string;\n        fastcgi_param   REQUEST_METHOD          $request_method;\n        fastcgi_param   CONTENT_TYPE            $content_type;\n        fastcgi_param   CONTENT_LENGTH          $content_length;\n        fastcgi_param   REQUEST_URI             $request_uri;\n        fastcgi_param   DOCUMENT_URI            $document_uri;\n        fastcgi_param   DOCUMENT_ROOT           $document_root;\n        fastcgi_param   SERVER_PROTOCOL         $server_protocol;\n        fastcgi_param   GATEWAY_INTERFACE       CGI/1.1;\n        fastcgi_param   SERVER_SOFTWARE         nginx/$nginx_version;\n        fastcgi_param   REMOTE_ADDR             $remote_addr;\n        fastcgi_param   REMOTE_PORT             $remote_port;\n        fastcgi_param   SERVER_ADDR             $server_addr;\n        fastcgi_param   SERVER_PORT             $server_port;\n        fastcgi_param   SERVER_NAME             $server_name;\n        fastcgi_param   HTTPS                   $https if_not_empty;\n        fastcgi_pass unix:/var/run/fcgiwrap.socket;\n}\n\nlocation ^~ /smokeping/ {\n        alias /usr/share/smokeping/cgi/;\n        index smokeping.fcgi;\n        gzip off;\n}\n</code></pre> If images/js/css don't load, you might have to add <pre><code>location ^~ /smokeping/css {\n        alias /usr/share/smokeping/htdocs/css/;\n        gzip off;\n}\nlocation ^~ /smokeping/js {\n        alias /usr/share/smokeping/htdocs/js/;\n        gzip off;\n}\nlocation ^~ /smokeping/images {\n        alias /opt/librenms/rrd/smokeping/images;\n        gzip off;\n}\n</code></pre> After saving the configuration file, verify your Nginx configuration file syntax is OK with <code>sudo nginx -t</code>, then restart Nginx with <code>sudo systemctl restart nginx</code></p> <p>You should be able to load the Smokeping web interface at <code>http://yourlibrenms/smokeping</code></p>"},{"location":"Extensions/Smokeping/#nginx-configuration-ubuntu-debian-and-alike","title":"Nginx Configuration - Ubuntu, Debian and alike","text":"<p>This section assumes you have configured LibreNMS with Nginx as specified in Configure Nginx.</p> <p>Note, you need to install fcgiwrap for CGI wrapper interact with Nginx</p> <p><pre><code>apt install fcgiwrap\n</code></pre> Then configure Nginx with the default configuration</p> <pre><code>cp /usr/share/doc/fcgiwrap/examples/nginx.conf /etc/nginx/fcgiwrap.conf\n</code></pre> <p>Add the following configuration to your <code>/etc/nginx/conf.d/librenms.conf</code> file within <code>server</code> section.</p> <p>The following will configure Nginx to respond to <code>http://yourlibrenms/smokeping</code>:</p> <pre><code># Browsing to `http://yourlibrenms/smokeping/` should bring up the smokeping web interface\n\nlocation = /smokeping/ {\n        fastcgi_intercept_errors on;\n\n        fastcgi_param   SCRIPT_FILENAME         /usr/lib/cgi-bin/smokeping.cgi;\n        fastcgi_param   QUERY_STRING            $query_string;\n        fastcgi_param   REQUEST_METHOD          $request_method;\n        fastcgi_param   CONTENT_TYPE            $content_type;\n        fastcgi_param   CONTENT_LENGTH          $content_length;\n        fastcgi_param   REQUEST_URI             $request_uri;\n        fastcgi_param   DOCUMENT_URI            $document_uri;\n        fastcgi_param   DOCUMENT_ROOT           $document_root;\n        fastcgi_param   SERVER_PROTOCOL         $server_protocol;\n        fastcgi_param   GATEWAY_INTERFACE       CGI/1.1;\n        fastcgi_param   SERVER_SOFTWARE         nginx/$nginx_version;\n        fastcgi_param   REMOTE_ADDR             $remote_addr;\n        fastcgi_param   REMOTE_PORT             $remote_port;\n        fastcgi_param   SERVER_ADDR             $server_addr;\n        fastcgi_param   SERVER_PORT             $server_port;\n        fastcgi_param   SERVER_NAME             $server_name;\n        fastcgi_param   HTTPS                   $https if_not_empty;\n\n        fastcgi_pass unix:/var/run/fcgiwrap.socket;\n}\n\nlocation ^~ /smokeping/ {\n        alias /usr/share/smokeping/www/;\n        index smokeping.cgi;\n        gzip off;\n}\n</code></pre> <p>After saving the configuration file, verify your Nginx configuration file syntax is OK with <code>sudo nginx -t</code>, then restart Nginx with <code>sudo systemctl restart nginx</code></p> <p>You should be able to load the Smokeping web interface at <code>http://yourlibrenms/smokeping</code></p>"},{"location":"Extensions/Smokeping/#nginx-password-authentication","title":"Nginx Password Authentication","text":"<p>You can use the purpose-made htpasswd utility included in the apache2-utils package (Nginx password files use the same format as Apache). You can install it on Ubuntu with</p> <pre><code>apt install apache2-utils\n</code></pre> <p>After that you need to create password for your user</p> <pre><code>htpasswd -c /etc/nginx/.htpasswd USER\n</code></pre> <p>You can verify your user and password with</p> <pre><code>cat /etc/nginx/.htpasswd\n</code></pre> <p>Then you just need to add to your config <code>auth_basic</code> parameters</p> <pre><code>        location ^~ /smokeping/ {\n                alias /usr/share/smokeping/www/;\n                index smokeping.cgi;\n                gzip off;\n                auth_basic \"Private Property\";\n                auth_basic_user_file /etc/nginx/.htpasswd;\n        }\n</code></pre>"},{"location":"Extensions/Smokeping/#common-problems","title":"Common Problems","text":""},{"location":"Extensions/Smokeping/#rrdsupdate-error-opening-permission-denied","title":"RRDs::update ERROR: opening ... Permission denied","text":"<p>There is a problem writing to the RRD directory. This is somewhat out of scope of LibreNMS, but make sure that file permissions and SELinux labels allow the smokeping user to write to the directory.</p> <p>If you're using RRDCacheD, make sure that the permissions are correct there too, and that if you're using -B that the smokeping RRD's are inside the base directory; update the smokeping rrd directory if required.</p> <p>It's not recommended to run RRDCachedD without the -B switch.</p>"},{"location":"Extensions/Smokeping/#share-rrdcached-with-librenms","title":"Share RRDCached with LibreNMS","text":"<p>Move the RRD's and give smokeping access rights to the LibreNMS RRD directory: <pre><code>sudo systemctl stop smokeping\nsudo mv /var/lib/smokeping /opt/librenms/rrd/\nsudo usermod -a -G librenms smokeping\n</code></pre></p> <p>Update data directory in /etc/smokeping:</p> <pre><code>datadir = /opt/librenms/rrd/smokeping\ndyndir = /opt/librenms/rrd/smokeping/__cgi\n</code></pre> <p>If you have SELinux on, see next section before starting smokeping. Finally restart the smokeping service:</p> <pre><code>sudo systemctl start smokeping\n</code></pre> <p>Remember to update your config with the new locations.</p>"},{"location":"Extensions/Smokeping/#configure-selinux-to-allow-smokeping-to-write-in-librenms-directory-on-centos-rhel","title":"Configure SELinux to allow smokeping to write in LibreNMS directory on Centos / RHEL","text":"<p>If you are using RRDCached with the -B switch and smokeping RRD's inside the LibreNMS RRD base directory, you can install this SELinux profile:</p> <pre><code>cat &gt; smokeping_librenms.te &lt;&lt; EOF\nmodule smokeping_librenms 1.0;\n\nrequire {\ntype httpd_t;\ntype smokeping_t;\ntype smokeping_var_lib_t;\ntype var_run_t;\ntype httpd_sys_rw_content_t;\nclass dir { add_name create getattr read remove_name search write };\nclass file { create getattr ioctl lock open read rename setattr unlink write };\n}\n\n#============= httpd_t ==============\n\nallow httpd_t smokeping_var_lib_t:dir read;\nallow httpd_t var_run_t:file { read write };\n\n#============= smokeping_t ==============\n\nallow smokeping_t httpd_sys_rw_content_t:dir { add_name create getattr remove_name search write };\nallow smokeping_t httpd_sys_rw_content_t:file { create getattr ioctl lock open read rename setattr unlink write };\nEOF\ncheckmodule -M -m -o smokeping_librenms.mod smokeping_librenms.te\nsemodule_package -o smokeping_librenms.pp -m smokeping_librenms.mod\nsemodule -i smokeping_librenms.pp\n</code></pre>"},{"location":"Extensions/Smokeping/#probe-fping-missing-missing-from-the-probes-section","title":"Probe FPing missing missing from the probes section","text":"<p>Take a look at the instructions again - something isn't correct in your configuration.</p>"},{"location":"Extensions/Smokeping/#section-or-variable-already-exists","title":"Section or variable already exists","text":"<p>Most likely, content wasn't fully removed from the <code>*** Probes ***</code> <code>*** Targets***</code> stanza's as instructed. If you're trying to integrate LibreNMS, smokeping and another source of configuration, you're probably trying to redefine a module (e.g. '+ FPing' more than once) or stanza. Otherwise, look again at the instructions.</p>"},{"location":"Extensions/Smokeping/#mandatory-variable-probe-not-defined","title":"Mandatory variable 'probe' not defined","text":"<p>The target block must have a default probe. If you follow the instructions you will have one. If you're trying to integrate LibreNMS, smokeping and another source of configuration, you need to make sure there are no duplicate or missing definitions.</p>"},{"location":"Extensions/Smokeping/#file-usrsbinsendmail-does-not-exist","title":"File '/usr/sbin/sendmail' does not exist`","text":"<p>If you got this error at the end of the installation, simply edit or comment out the sendmail entry in the configuration:</p> <pre><code>-sendmail = /usr/sbin/sendmail\n+#sendmail = /usr/sbin/sendmail\n</code></pre>"},{"location":"Extensions/Sub-Directory/","title":"Sub-directory Support","text":"<p>To run LibreNMS under a subdirectory on your Apache server, the directives for the LibreNMS directory are placed in the base server configuration, or in a virtual host container of your choosing. If using a virtual host, place the directives in the file where the virtual host is configured. If using the base server on RHEL distributions (CentOS, Scientific Linux, etc.) the directives can be placed in <code>/etc/httpd/conf.d/librenms.conf</code>. For Debian distributions (Ubuntu, etc.) place the directives in <code>/etc/apache2/sites-available/default</code>.</p> <pre><code>#These directives can be inside a virtual host or in the base server configuration\nAllowEncodedSlashes On\nAlias /librenms /opt/librenms/html\n\n&lt;Directory \"/opt/librenms/html\"&gt;\n    AllowOverride All\n    Options FollowSymLinks MultiViews\n&lt;/Directory&gt;\n</code></pre> <p>The <code>RewriteBase</code> directive in <code>html/.htaccess</code> must be rewritten to reference the subdirectory name. Assuming LibreNMS is running at http://example.com/librenms/, you will need to change <code>RewriteBase /</code> to <code>RewriteBase /librenms</code>.</p> <p>Finally, set <code>APP_URL=/librenms/</code> in .env and <code>lnms config:set base_url '/librenms/'</code>.</p>"},{"location":"Extensions/Supermicro/","title":"Supermicro","text":"<p>For some Supermicro information to show up in LibreNMS, you will need to install an agent.</p>"},{"location":"Extensions/Supermicro/#supermicro-superdoctor","title":"Supermicro SuperDoctor","text":"<p>Install Supermicro SuperDoctor onto the device you want to monitor.</p> <p>Then add the following to /etc/snmp/snmpd.conf:</p> <pre><code>pass .1.3.6.1.4.1.10876 /usr/bin/sudo /opt/Supermicro/SuperDoctor5/libs/native/snmpagent\n</code></pre> <p>Restart net-snmp:</p> <pre><code>service snmpd restart\n</code></pre>"},{"location":"Extensions/Syslog/","title":"Syslog support","text":""},{"location":"Extensions/Syslog/#syslog-integration-variants","title":"Syslog integration variants","text":"<p>This section explain different ways to recieve and process syslog with LibreNMS. Except of graylog, all Syslogs variants store their logs in the LibreNMS database. You need to enable the Syslog extension in  <code>config.php</code>:</p> <p><pre><code>$config['enable_syslog'] = 1;\n</code></pre> A Syslog integration gives you a centralized view of information within the LibreNMS (device view, traps, event). Further more you can trigger alerts based on syslog messages (see rule collections).</p>"},{"location":"Extensions/Syslog/#traditional-syslog-server","title":"Traditional Syslog server","text":""},{"location":"Extensions/Syslog/#syslog-ng","title":"syslog-ng","text":"Debian / UbuntuCentOS / RedHat <pre><code>apt-get install syslog-ng-core\n</code></pre> <pre><code>yum install syslog-ng\n</code></pre> <p>Once syslog-ng is installed, create the config file  (/etc/syslog-ng/conf.d/librenms.conf) and paste the following:</p> <pre><code>source s_net {\n        tcp(port(514) flags(syslog-protocol));\n        udp(port(514) flags(syslog-protocol));\n};\n\ndestination d_librenms {\n        program(\"/opt/librenms/syslog.php\" template (\"$HOST||$FACILITY||$PRIORITY||$LEVEL||$TAG||$R_YEAR-$R_MONTH-$R_DAY $R_HOUR:$R_MIN:$R_SEC||$MSG||$PROGRAM\\n\") template-escape(yes));\n};\n\nlog {\n        source(s_net);\n        source(s_src);\n        destination(d_librenms);\n};\n</code></pre> <p>Next start syslog-ng:</p> <pre><code>service syslog-ng restart\n</code></pre> <p>If no messages make it to the syslog tab in LibreNMS, chances are you experience an issue with SELinux. If so, create a file mycustom-librenms-rsyslog.te , with the following content:</p> <pre><code>module mycustom-librenms-rsyslog 1.0;\n\nrequire {\n        type syslogd_t;\n        type httpd_sys_rw_content_t;\n        type ping_exec_t;\n        class process execmem;\n        class dir { getattr search write };\n        class file { append getattr execute open read };\n}\n\n#============= syslogd_t ==============\nallow syslogd_t httpd_sys_rw_content_t:dir { getattr search write };\nallow syslogd_t httpd_sys_rw_content_t:file { open read append getattr };\nallow syslogd_t self:process execmem;\nallow syslogd_t ping_exec_t:file execute;\n</code></pre> <p>Then, as root, execute the following commands:</p> <pre><code>checkmodule -M -m -o mycustom-librenms-rsyslog.mod mycustom-librenms-rsyslog.te\nsemodule_package -o mycustom-librenms-rsyslog.pp -m mycustom-librenms-rsyslog.mod\nsemodule -i mycustom-librenms-rsyslog.pp\n</code></pre>"},{"location":"Extensions/Syslog/#rsyslog","title":"rsyslog","text":"<p>If you prefer rsyslog, here are some hints on how to get it working.</p> <p>Add the following to your rsyslog config somewhere (could be at the top of the file in the step below, could be in <code>rsyslog.conf</code> if you are using remote logs for something else on this host)</p> <pre><code># Listen for syslog messages on UDP:514\n$ModLoad imudp\n$UDPServerRun 514\n</code></pre> <p>Create a file called <code>/etc/rsyslog.d/30-librenms.conf</code>and add the following depending on your version of rsyslog.</p> Version 8Version 7Legacy <pre><code># Feed syslog messages to librenms\nmodule(load=\"omprog\")\n\ntemplate(name=\"librenms\"\n        type=\"string\"\n        string= \"%fromhost%||%syslogfacility%||%syslogpriority%||%syslogseverity%||%syslogtag%||%$year%-%$month%-%$day% %timegenerated:8:25%||%msg%||%programname%\\n\")\n        action(type=\"omprog\"\n        binary=\"/opt/librenms/syslog.php\"\n        template=\"librenms\")\n\n&amp; stop\n</code></pre> <pre><code>#Feed syslog messages to librenms\n$ModLoad omprog\n\n$template librenms,\"%fromhost%||%syslogfacility%||%syslogpriority%||%syslogseverity%||%syslogtag%||%$year%-%$month%-%$day% %timegenerated:8:25%||%msg%||%programname%\\n\"\n\n*.* action(type=\"omprog\" binary=\"/opt/librenms/syslog.php\" template=\"librenms\")\n\n&amp; stop\n</code></pre> <pre><code># Feed syslog messages to librenms\n$ModLoad omprog\n$template librenms,\"%FROMHOST%||%syslogfacility-text%||%syslogpriority-text%||%syslogseverity%||%syslogtag%||%$YEAR%-%$MONTH%-%$DAY%    %timegenerated:8:25%||%msg%||%programname%\\n\"\n\n$ActionOMProgBinary /opt/librenms/syslog.php\n*.* :omprog:;librenms\n</code></pre> <p>If your rsyslog server is receiving messages relayed by another syslog server, you may try replacing <code>%fromhost%</code> with <code>%hostname%</code>, since <code>fromhost</code> is the host the message was received from, not the host that generated the message.  The <code>fromhost</code> property is preferred as it avoids problems caused by devices sending incorrect hostnames in syslog messages.</p>"},{"location":"Extensions/Syslog/#local-logstash","title":"Local Logstash","text":"<p>If you prefer logstash, and it is installed on the same server as LibreNMS, here are some hints on how to get it working.</p> <p>First, install the output-exec plugin for logstash:</p> <pre><code>/usr/share/logstash/bin/logstash-plugin install logstash-output-exec\n</code></pre> <p>Next, create a logstash configuration file (ex. /etc/logstash/conf.d/logstash-simple.conf), and add the following:</p> <pre><code>input {\nsyslog {\n    port =&gt; 514\n  }\n}\n\n\noutput {\n        exec {\n        command =&gt; \"echo `echo %{host},,,,%{facility},,,,%{priority},,,,%{severity},,,,%{facility_label},,,,``date --date='%{timestamp}' '+%Y-%m-%d %H:%M:%S'``echo ',,,,%{message}'``echo ,,,,%{program} | sed 's/\\x25\\x7b\\x70\\x72\\x6f\\x67\\x72\\x61\\x6d\\x7d/%{facility_label}/'` | sed 's/,,,,/||/g' | /opt/librenms/syslog.php &amp;\"\n        }\n        elasticsearch {\n        hosts =&gt; [\"10.10.10.10:9200\"]\n        index =&gt; \"syslog-%{+YYYY.MM.dd}\"\n        }\n}\n</code></pre> <p>Replace 10.10.10.10 with your primary elasticsearch server IP, and set the incoming syslog port. Alternatively, if you already have a logstash config file that works except for the LibreNMS export, take only the \"exec\" section from output and add it.</p>"},{"location":"Extensions/Syslog/#remote-logstash-or-any-json-source","title":"Remote Logstash (or any json source)","text":"<p>If you have a large logstash / elastic installation for collecting and filtering syslogs, you can simply pass the relevant logs as json to the LibreNMS API \"syslog sink\". This variant may be more flexible and secure in transport. It does not require any major changes to existing ELK setup. You can also pass simple json kv messages from any kind of application or script (example below) to this sink. </p> <p>For long term or advanced aggregation searches you might still use Kibana/Grafana/Graylog etc. It is recommended to keep <code>config['syslog_purge']</code> short.</p> <p>A schematic setup can look like this: <pre><code>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502Device\u251c\u2500\u25ba\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502Logstash Cluster   \u251c\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502ElasticSearch \u251c\u2510\n            \u2502  RabbitMQ         \u2502\u2502               \u2502 Cluster      \u2502\u2502\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u25ba\u2502    Filtering etc  \u2502\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2514\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2502\n \u2502Device\u2502   \u2514\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2502        \u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u25bc\n                                      ~~~WAN~~~\n                                          \u2502\n                                        \u250c\u2500\u253c\u2500\u2510\n                                        \u2502\u253c\u253c\u253c\u2502 LB / Firewall / etc\n                                        \u2514\u2500\u253c\u2500\u2518\n                                          \u2502\n                                          \u25bc\n                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                         \u2502LibreNMS Sink       \u251c\u252c\u2500\u2500\u25ba\u2502LibreNMS Master     \u2502\n                         \u2502/api/v0/syslogsink/ \u2502\u2502   \u2502 MariaDB            \u2502\n                         \u2514\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>A minimal Logstash http output configuration can look like this:  <pre><code>output {\n....\n        #feed it to LibreNMS\n        http {\n            http_method =&gt; \"post\"\n            url =&gt; \"https://sink.librenms.org/api/v0/syslogsink/    # replace with your librenms host\n            format =&gt; \"json_batch\"                                  # put multiple syslogs in on HTTP message\n                retry_failed =&gt; false                               # if true, logstash is blocking if the API is unavailable, be careful! \n                headers =&gt; [\"X-Auth-Token\",\"xxxxxxxLibreNMSApiToken]\n\n                # optional if your mapping is not already done before or does not match. \"msg\" and \"host\" is mandatory. \n                # you might also use out the clone {} function to duplicate your log stream and a dedicated log filtering/mapping etc.\n                # mapping =&gt; {\n                # \"host\"=&gt; \"%{host}\"\n                # \"program\" =&gt; \"%{program}\"\n                # \"facility\" =&gt; \"%{facility_label}\"\n                # \"priority\" =&gt; \"%{syslog5424_pri}\"\n                # \"level\" =&gt; \"%{facility_label}\"                \n                # \"tag\" =&gt; \"%{topic}\"\n                # \"msg\" =&gt; \"%{message}\"\n                # \"timestamp\" =&gt; \"%{@timestamp}\"\n                # }\n        }\n}\n</code></pre></p> <p>Sample test data: <pre><code>curl -L -X POST 'https://sink.librenms.org/api/v0/syslogsink/' -H 'X-Auth-Token: xxxxxxxLibreNMSApiToken' --data-raw '[   \n    {\n        \"msg\": \"kernel: minimum Message\",\n        \"host\": \"mydevice.fqdn.com\"\n    },\n    {\n        \"msg\": \"Line protocol on Interface GigabitEthernet1/0/41, changed state to up\",\n        \"facility\": 23,\n        \"priority\": \"189\",\n        \"program\": \"LINEPROTO-5-UPDOWN\",\n        \"host\": \"172.29.10.24\",\n        \"@timestamp\": \"2022-12-01T20:14:28.257Z\",\n        \"severity\": 5,\n        \"level\": \"ERROR\"\n    },\n    {\n        \"msg\": \"kernel: a unknown host\",\n        \"host\": \"unknown.fqdn.com\"\n    }\n]'\n</code></pre> <code>msg</code> and <code>host</code> are the minimum keys. </p>"},{"location":"Extensions/Syslog/#graylog","title":"Graylog","text":"<p>This variant method use a external Graylog installation and its database. Please refer to the dedicated Graylog documentation.</p>"},{"location":"Extensions/Syslog/#client-configuration","title":"Client configuration","text":"<p>Below are sample configurations for a variety of clients. You should understand the config before using it as you may want to make some slight changes. Further configuration hints may be found in the file Graylog.md.</p> <p>Replace librenms.ip with IP or hostname of your LibreNMS install.</p> <p>Replace any variables in  with the relevant information."},{"location":"Extensions/Syslog/#syslog","title":"syslog","text":"<pre><code>*.*     @librenms.ip\n</code></pre>"},{"location":"Extensions/Syslog/#rsyslog_1","title":"rsyslog","text":"<pre><code>*.* @librenms.ip:514\n</code></pre>"},{"location":"Extensions/Syslog/#cisco-asa","title":"Cisco ASA","text":"<pre><code>logging enable\nlogging timestamp\nlogging buffer-size 200000\nlogging buffered debugging\nlogging trap notifications\nlogging host &lt;outside interface name&gt; librenms.ip\n</code></pre>"},{"location":"Extensions/Syslog/#cisco-ios","title":"Cisco IOS","text":"<pre><code>logging trap debugging\nlogging facility local6\nlogging librenms.ip\n</code></pre>"},{"location":"Extensions/Syslog/#cisco-nxos","title":"Cisco NXOS","text":"<pre><code>logging server librenms.ip 5 use-vrf default facility local6\n</code></pre>"},{"location":"Extensions/Syslog/#juniper-junos","title":"Juniper Junos","text":"<pre><code>set system syslog host librenms.ip authorization any\nset system syslog host librenms.ip daemon any\nset system syslog host librenms.ip kernel any\nset system syslog host librenms.ip user any\nset system syslog host librenms.ip change-log any\nset system syslog host librenms.ip source-address &lt;management ip&gt;\nset system syslog host librenms.ip exclude-hostname\nset system syslog time-format\n</code></pre>"},{"location":"Extensions/Syslog/#huawei-vrp","title":"Huawei VRP","text":"<pre><code>info-center loghost librenms.ip\ninfo-center timestamp debugging short-date without-timezone // Optional\ninfo-center timestamp log short-date // Optional\ninfo-center timestamp trap short-date // Optional\n//This is optional config, especially if the device is in public ip and you dont'want to get a lot of messages of ACL\ninfo-center filter-id bymodule-alias VTY ACL_DENY\ninfo-center filter-id bymodule-alias SSH SSH_FAIL\ninfo-center filter-id bymodule-alias SNMP SNMP_FAIL\ninfo-center filter-id bymodule-alias SNMP SNMP_IPLOCK\ninfo-center filter-id bymodule-alias SNMP SNMP_IPUNLOCK\ninfo-center filter-id bymodule-alias HTTP ACL_DENY\n</code></pre>"},{"location":"Extensions/Syslog/#huawei-smartax-gpon-olt","title":"Huawei SmartAX (GPON OLT)","text":"<pre><code>loghost add librenms.ip librenms\nloghost activate name librenms\n</code></pre>"},{"location":"Extensions/Syslog/#allied-telesis-alliedware-plus","title":"Allied Telesis Alliedware Plus","text":"<pre><code>log date-format iso // Required so syslog-ng/LibreNMS can correctly interpret the log message formatting.\nlog host x.x.x.x\nlog host x.x.x.x level &lt;errors&gt; // Required. A log-level must be specified for syslog messages to send.\nlog host x.x.x.x level notices program imish // Useful for seeing all commands executed by users.\nlog host x.x.x.x level notices program imi // Required for Oxidized Syslog hook log message.\nlog host source &lt;eth0&gt;\n</code></pre>"},{"location":"Extensions/Syslog/#hpearuba-procurve","title":"HPE/Aruba Procurve","text":"<pre><code>configure\nlogging severity warning\nlogging facility local6\nlogging librenms.ip control-descr \u201cLibreNMS\u201d\nlogging notify running-config-change\nwrite memory\n</code></pre> <p>If you have permitted udp and tcp 514 through any firewall then that should be all you need. Logs should start appearing and displayed within the LibreNMS web UI.</p>"},{"location":"Extensions/Syslog/#windows","title":"Windows","text":"<p>By Default windows has no native way to send logs to a remote syslog server.</p> <p>Using this how to you can download Datagram-Syslog Agent to send logs to a remote syslog server (LibreNMS).</p>"},{"location":"Extensions/Syslog/#note","title":"Note","text":"<p>Keep in mind you can use any agent or program to send the logs. We are just using this Datagram-Syslog Agent for this example.</p> <p>Link to How to</p> <p>You will need to download and install \"Datagram-Syslog Agent\" for this how to Link to Download</p>"},{"location":"Extensions/Syslog/#external-hooks","title":"External hooks","text":"<p>Trigger external scripts based on specific syslog patterns being matched with syslog hooks. Add the following to your LibreNMS <code>config.php</code> to enable hooks:</p> <pre><code>$config['enable_syslog_hooks'] = 1;\n</code></pre> <p>The below are some example hooks to call an external script in the event of a configuration change on Cisco ASA, IOS, NX-OS and IOS-XR devices. Add to your <code>config.php</code> file to enable.</p>"},{"location":"Extensions/Syslog/#cisco-asa_1","title":"Cisco ASA","text":"<pre><code>$config['os']['asa']['syslog_hook'][] = Array('regex' =&gt; '/%ASA-(config-)?5-111005/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#cisco-ios_1","title":"Cisco IOS","text":"<pre><code>$config['os']['ios']['syslog_hook'][] = Array('regex' =&gt; '/%SYS-(SW[0-9]+-)?5-CONFIG_I/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#cisco-nxos_1","title":"Cisco NXOS","text":"<pre><code>$config['os']['nxos']['syslog_hook'][] = Array('regex' =&gt; '/%VSHD-5-VSHD_SYSLOG_CONFIG_I/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#cisco-iosxr","title":"Cisco IOSXR","text":"<pre><code>$config['os']['iosxr']['syslog_hook'][] = Array('regex' =&gt; '/%GBL-CONFIG-6-DB_COMMIT/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#juniper-junos_1","title":"Juniper Junos","text":"<pre><code>$config['os']['junos']['syslog_hook'][] = Array('regex' =&gt; '/UI_COMMIT:/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#juniper-screenos","title":"Juniper ScreenOS","text":"<pre><code>$config['os']['screenos']['syslog_hook'][] = Array('regex' =&gt; '/System configuration saved/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#allied-telesis-alliedware-plus_1","title":"Allied Telesis Alliedware Plus","text":"<p>Note: At least software version 5.4.8-2.1 is required. <code>log host x.x.x.x level notices program imi</code> may also be required depending on configuration. This is to ensure the syslog hook log message gets sent to the syslog server.</p> <pre><code>$config['os']['awplus']['syslog_hook'][] = Array('regex' =&gt; '/IMI.+.Startup-config saved on/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#hpearuba-procurve_1","title":"HPE/Aruba Procurve","text":"<pre><code>$config['os']['procurve']['syslog_hook'][] = Array('regex' =&gt; '/Running Config Change/', 'script' =&gt; '/opt/librenms/scripts/syslog-notify-oxidized.php');\n</code></pre>"},{"location":"Extensions/Syslog/#configuration-options","title":"Configuration Options","text":""},{"location":"Extensions/Syslog/#syslog-clean-up","title":"Syslog Clean Up","text":"<p>Can be set inside of  <code>config.php</code></p> <pre><code>$config['syslog_purge'] = 30;\n</code></pre> <p>The cleanup is run by daily.sh and any entries over X days old are automatically purged. Values are in days. See here for more Clean Up Options Link</p>"},{"location":"Extensions/Syslog/#matching-syslogs-to-hosts-with-different-names","title":"Matching syslogs to hosts with different names","text":"<p>In some cases, you may get logs that aren't being associated with the device in LibreNMS. For example, in LibreNMS the device is known as \"ne-core-01\", and that's how DNS resolves. However, the received syslogs are for \"loopback.core-nw\".</p> <p>To fix this issue, you can configure LibreNMS to translate the incoming syslog hostname into another hostname, so that the logs get associated with the correct device.</p> <p>Example:</p> <pre><code>$config['syslog_xlate'] = array(\n        'loopback0.core7k1.noc.net' =&gt; 'n7k1-core7k1',\n        'loopback0.core7k2.noc.net' =&gt; 'n7k2-core7k2'\n);\n</code></pre>"},{"location":"Extensions/Two-Factor-Auth/","title":"Two-Factor Authentication","text":"<p>Over the last couple of years, the primary attack vector for internet accounts has been static passwords. Therefore static passwords are no longer sufficient to protect unauthorized access to accounts. Two Factor Authentication adds a variable part in authentication procedures. A user is now required to supply a changing 6-digit passcode in addition to their password to obtain access to the account.</p> <p>LibreNMS has a RFC4226 conformant implementation of both Time and Counter based One-Time-Passwords. It also allows the administrator to configure a throttle time to enforce after 3 failures exceeded. Unlike RFC4226 suggestions, this throttle time will not stack on the amount of failures.</p>"},{"location":"Extensions/Two-Factor-Auth/#types","title":"Types","text":"<p>In general, these two types do not differ in algorithmic terms. The types only differ in the variable being used to derive the passcodes from. The underlying HMAC-SHA1 remains the same for both types, security advantages or disadvantages of each are discussed further down.</p>"},{"location":"Extensions/Two-Factor-Auth/#timebased-one-time-password-totp","title":"Timebased One-Time-Password (TOTP)","text":"<p>Like the name suggests, this type uses the current Time or a subset of it to generate the passcodes. These passcodes solely rely on the secrecy of their Secretkey in order to provide passcodes. An attacker only needs to guess that Secretkey and the other variable part is any given time, presumably the time upon login. RFC4226 suggests a resynchronization attempt in case the passcode mismatches, providing the attacker a range of up to +/- 3 Minutes to create passcodes.</p>"},{"location":"Extensions/Two-Factor-Auth/#counterbased-one-time-password-hotp","title":"Counterbased One-Time-Password (HOTP)","text":"<p>This type uses an internal counter that needs to be in sync with the server's counter to successfully authenticate the passcodes. The main advantage over timebased OTP is the attacker doesn't only need to know the Secretkey but also the server's Counter in order to create valid passcodes. RFC4226 suggests a resynchronization attempt in case the passcode mismatches, providing the attacker a range of up to +4 increments from the actual counter to create passcodes.</p>"},{"location":"Extensions/Two-Factor-Auth/#configuration","title":"Configuration","text":""},{"location":"Extensions/Two-Factor-Auth/#webui","title":"WebUI","text":"<p>Enable 'Two-Factor' Via Global Settings in the Web UI under Authentication -&gt; General Authentication Settings.</p> <p>Optionally enter a throttle timer in seconds. This will unlock an account  after this time once it has failed 3 attempt to authenticate. Set to 0 (default)  to disable this feature, meaning accounts will remain locked after 3 attempts  and will need an administrator to clear.</p>"},{"location":"Extensions/Two-Factor-Auth/#cli","title":"CLI","text":"<p>Enable Two-Factor:</p> <p><code>./lnms config:set twofactor true</code></p> <p>Set throttle-time (in seconds):</p> <p><code>./lnms config:set twofactor_lock 300</code></p>"},{"location":"Extensions/Two-Factor-Auth/#user-administation","title":"User Administation","text":"<p>If Two-Factor is enabled, the Settings -&gt; Manage Users grid will show a '2FA' column  containing a green tick for users with active 2FA.</p> <p>There is no functionality to mandate 2FA for users.</p> <p>If a user has failed 3 attempts, their account can be unlocked or 2FA disabled by  editing the user from the Manage Users table.</p> <p>If a throttle timer is set, it will unlock accounts after this time. If set to the  default of 0, accounts will need to be manually unlocked by an administrator after 3  failed attempts.</p> <p>Locked accounts will report to the user stating to wait for the throttle time period, or to contact the administrator if no timer set.</p>"},{"location":"Extensions/Two-Factor-Auth/#end-user-enrolment","title":"End-User Enrolment","text":"<p>These steps imply that Two-Factor has been enabled system wide as above under Configuration.</p> <p>2FA is enabled by each user once they are logged in normally:</p> <ul> <li>Go to 'My Settings' (/preferences/)</li> <li>Choose TwoFactor type</li> <li>Click on 'Generate TwoFactor Secret Key'</li> <li>If your browser didn't reload, reload manually</li> <li>Scan provided QR or click on 'Manual' to see the Key</li> </ul>"},{"location":"Extensions/Two-Factor-Auth/#google-authenticator","title":"Google Authenticator","text":"<p>Installation guides for Google Authenticator can be found here.</p> <p>Usage:</p> <ul> <li>Create a key as described above</li> <li>Scan provided QR or click on 'Manual' and enter the Secret</li> <li>On next login, enter the passcode that the App provides</li> </ul>"},{"location":"Extensions/Two-Factor-Auth/#lastpass-authenticator","title":"LastPass Authenticator","text":"<p>LastPass Authenticator is confirmed to work with Timebased One-Time Passwords (TOTP).</p> <p>Installation guide for LastPass Authenticator can be found here.</p> <p>Usage:</p> <ul> <li>Create a Timerbased key as described above</li> <li>Click Add (+) and scan provided QR or click on 'NO QR CODE?' and enter naming details and the Secret</li> <li>On next login, enter the passcode that the App provides</li> </ul>"},{"location":"Extensions/Varnish/","title":"Varnish Installation Guide","text":"<p>This document explains how to install Varnish Reverse Proxy for LibreNMS.</p> <p>Varnish is caching software that sits logically between an HTTP client and an HTTP server. Varnish caches HTTP responses from the HTTP server. If an HTTP request can not be responded to by the Varnish cache it directs the request to the HTTP Server. This type of HTTP caching is called a reverse proxy server. Caching your HTTP server can decrease page load times significantly.</p>"},{"location":"Extensions/Varnish/#architecture","title":"Architecture","text":"<p>Simplified block diagram of an Apache HTTP server with Varnish 4.0 Reverse Proxy</p> <p></p>"},{"location":"Extensions/Varnish/#centos-7-varnish-installation","title":"CentOS 7 Varnish Installation","text":"<p>In this example we will assume your Apache 2.4.X HTTP server is working and configured to process HTTP requests on port 80.  If not, please see Installing LibreNMS</p>"},{"location":"Extensions/Varnish/#install-varnish-40-rpm","title":"Install Varnish 4.0 RPM","text":"<ul> <li>Enable the Varnish CentOS 7 repo and install</li> </ul> <pre><code>rpm --nosignature -i https://repo.varnish-cache.org/redhat/varnish-4.0.el7.rpm\nyum install varnish\n</code></pre> <p>By default Varnish listens for HTTP requests on port 6081.</p> <ul> <li>Temporarily add a firewalld rule for testing Varnish.</li> </ul> <pre><code>firewall-cmd --zone=public --add-port=6081/tcp\n</code></pre>"},{"location":"Extensions/Varnish/#test-varnish","title":"Test Varnish","text":"<ul> <li>Start Varnish</li> </ul> <pre><code>systemctl start varnish\n</code></pre> <p>Using a web browser navigate to :6081 or 127.0.0.1:6081. You should see a Varnish error message, this shows that Varnish is working. Example error message: <pre><code>Error 503 Backend fetch failed\n\nBackend fetch failed\n\nGuru Meditation:\n\nXID: 3\n\nVarnish cache server\n</code></pre>"},{"location":"Extensions/Varnish/#edit-varnish-parameters","title":"Edit Varnish Parameters","text":"<p>Now we need to configure Varnish to listen to HTTP requests on port 80 and relay those requests to the Apache HTTP server on port 8080 (see block diagram).</p> <ul> <li>Stop Varnish.</li> </ul> <pre><code>systemctl stop varnish\n</code></pre> <ul> <li>Create a back-up of varnish.params just in case you make a mistake.</li> </ul> <pre><code>cp /etc/varnish/varnish.params /etc/varnish/varnish.params.bak\n</code></pre> <ul> <li>Edit the varnish.params config.</li> </ul> <pre><code>vim /etc/varnish/varnish.params\n</code></pre> <p>Set the VCL location, IP address, port, and cache location and size. <code>malloc</code> sets the cache location to RAM, and <code>512M</code> sets the cache size to 512MB.</p> <pre><code>VARNISH_LISTEN_ADDRESS=192.168.1.10\nVARNISH_LISTEN_PORT=80\nVARNISH_VCL_CONF=/etc/varnish/librenms.vcl\nVARNISH_STORAGE=\"malloc,512M\"\n</code></pre> <p>Example varnish.params:</p> <pre><code># Set this to 1 to make systemd reload try to switch vcl without restart.\nRELOAD_VCL=1\n\n# Main configuration file. You probably want to change it.\nVARNISH_VCL_CONF=/etc/varnish/librenms.vcl\n\n# Default address and port to bind to. Blank address means all IPv4\n# and IPv6 interfaces, otherwise specify a host name, an IPv4 dotted\n# quad, or an IPv6 address in brackets.\nVARNISH_LISTEN_ADDRESS=192.168.1.10\nVARNISH_LISTEN_PORT=80\n\n# Admin interface listen address and port\nVARNISH_ADMIN_LISTEN_ADDRESS=127.0.0.1\nVARNISH_ADMIN_LISTEN_PORT=6082\n\n# Shared secret file for admin interface\nVARNISH_SECRET_FILE=/etc/varnish/secret\n\n# Backend storage specification, see Storage Types in the varnishd(5)\n# man page for details.\nVARNISH_STORAGE=\"malloc,512M\"\n\n# Default TTL used when the backend does not specify one\nVARNISH_TTL=120\n\n# User and group for the varnishd worker processes\nVARNISH_USER=varnish\nVARNISH_GROUP=varnish\n\n# Other options, see the man page varnishd(1)\nDAEMON_OPTS=\"-p thread_pool_min=5 -p thread_pool_max=500 -p thread_pool_timeout=300\"\n</code></pre>"},{"location":"Extensions/Varnish/#configure-apache-for-varnish","title":"Configure Apache for Varnish","text":"<p>Edit librenms.conf and modify the Apache Virtual Host listening port.</p> <ul> <li>Modify: <code>&lt;VirtualHost *:80&gt;</code> to <code>&lt;VirtualHost *:8080&gt;</code></li> </ul> <pre><code>vim /etc/httpd/conf.d/librenms.conf\n</code></pre> <p>Varnish can not share a port with Apache. Change the Apache listening port to 8080.</p> <ul> <li>Modify: <code>Listen 80</code> to <code>Listen 8080</code></li> </ul> <pre><code>vim /etc/httpd/conf/httpd.conf\n</code></pre> <ul> <li>Create the librenms.vcl</li> </ul> <pre><code>cd /etc/varnish\ntouch librenms.vcl\n</code></pre> <ul> <li>Set ownership and permissions for Varnish files.</li> </ul> <pre><code>chown varnish:varnish default.vcl varnish.params secret\nchmod 644 default.vcl varnish.params secret\n</code></pre> <p>Edit the librenms.vcl.</p> <pre><code>vim librenms.vcl\n</code></pre> <p>Paste example VCL config, read config comments for more information.</p> <pre><code>#\n# This is an example VCL file for Varnish.\n#\n# It does not do anything by default, delegating control to the\n# builtin VCL. The builtin VCL is called when there is no explicit\n# return statement.\n#\n# See the VCL chapters in the Users Guide at https://www.varnish-cache.org/docs/\n# and http://varnish-cache.org/trac/wiki/VCLExamples for more examples.\n\n# Marker to tell the VCL compiler that this VCL has been adapted to the\n# new 4.0 format.\nvcl 4.0;\n\n# Default backend definition. Set this to point to your Apache server.\nbackend librenms {\n    .host = \"127.0.0.1\";\n    .port = \"8080\";\n}\n\n# In this example our objective is to cache static content with Varnish and temporarily\n# cache dynamic content in the client web browser.\n\nsub vcl_recv {\n    # HTTP requests from client web browser.\n    # Here we remove any cookie HTTP requests for the 'librenms.domain.net' host\n    # containing the matching file extensions. We don't have to match by host if you\n    # only have LibreNMS running on Apache.\n    # If the cookies are not removed from the HTTP request then Varnish will not cache\n    # the files. 'else' function is set to 'pass', or don't cache anything that doesn't\n    # match.\n\n    if (req.http.host ~ \"^librenms.domain.net\") {\n        set req.backend_hint = librenms;\n        if (req.url ~ \"\\.(png|gif|jpg|jpeg|ico|pdf|js|css|svg|eot|otf|woff|woff2|ttf)$\") {\n            unset req.http.Cookie;\n        }\n\n        else{\n            return(pass);\n        }\n    }\n}\n\nsub vcl_backend_response {\n    # 'sub vcl_backend_response' is the same function as 'sub vcl_fetch' in Varnish 3, however,\n    # the syntax is slightly different\n    # This function happens after we read the response headers from the backend (Apache).\n    # First function 'if (bereq.url ~ \"\\' removes cookies from the Apache HTTP responses\n    # that match the file extensions that are between the quotes, and cache the files for 24 hours.\n    # This assumes you update LibreNMS once a day, otherwise restart Varnish to clear cache.\n    # Second function 'if (bereq.url ~ \"^/' removes the Pragma no-cache statements and sets the age\n    # of how long the client browser will cache the matching urls.\n    # LibreNMS graphs are updated every 300 seconds, 'max-age=300' is set to match this behavior.\n    # We could cache these URLs in Varnish but it would add to the complexity of the config.\n\n    if (bereq.http.host ~ \"^librenms.domain.net\") {\n        if (bereq.url ~ \"\\.(png|gif|jpg|jpeg|ico|pdf|js|css|svg|eot|otf|woff|woff2|ttf)$\") {\n            unset beresp.http.Set-cookie;\n            set beresp.ttl = 24h;\n        }\n\n        if (bereq.url ~ \"^/graph.php\" || \"^/device/\" || \"^/iftype/\" || \"^/customers/\" || \"^/health/\" || \"^/apps/\" || \"^/(plugin)$\" || \"^/(alert)$\" || \"^/eventlog/\" || \"^/graphs/\" || \"^/ports/\" ) {\n            unset beresp.http.Pragma;\n            set beresp.http.Cache-Control = \"max-age=300\";\n        }\n    }\n}\n\nsub vcl_deliver {\n    # Happens when we have all the pieces we need, and are about to send the\n    # response to the client.\n    # You can do accounting or modifying the final object here.\n\n    return (deliver);\n}\n</code></pre> <ul> <li>Reload rules to remove the temporary port rule we added earlier.</li> </ul> <pre><code>firewall-cmd --reload\n</code></pre> <p>Varnish caching does not take effect immediately.  You will need to browse the LibreNMS website to build up the cache.</p> <p>Use the command <code>varnishstat</code> to monitor Varnish caching.  Over time you should see 'MAIN.cache_hit' and 'MAIN.client_req' increase.  With the above VCL the hit to request ratio is approximately 84%.</p> <ul> <li> <p>Session based VCL (coming soon)</p> </li> <li> <p>Testing and debugging VCL (coming soon)</p> </li> </ul>"},{"location":"Extensions/VisJS-Config/","title":"Vis JS Configuration","text":"<p>The Network Maps and Dependency Maps all use a common configuration for the vis.js library, which affects the way the maps are rendered, as well as the way that users can interact with the maps. This configuration can be adjusted by following the instructions below.</p> <p>This link will show you all the options and explain what they do.</p> <p>You may also access the dynamic configuration interface example here from within LibreNMS by adding the following to config.php</p> <pre><code>$config['network_map_vis_options'] = '{\n  \"configure\": { \"enabled\": true},\n}';\n</code></pre>"},{"location":"Extensions/VisJS-Config/#note","title":"Note","text":"<p>You may want to disable the automatic page refresh while you're tweaking your configuration, as the refresh will reset the dynamic configuration UI to the values currently saved in config.php This can be done by clicking on the Settings Icon then Refresh Pause.</p>"},{"location":"Extensions/VisJS-Config/#configurator-output","title":"Configurator Output","text":"<p>Once you've achieved your desired map appearance, click the generate options button at the bottom to be given the necessary parameters to add to your config.php file. You will need to paste the generated config into config.php the format will need to look something like this. Note that the configurator will output the config with <code>var options</code> you will need to strip them out and at the end of the config you need to add an <code>}';</code> see the example below.</p> <pre><code>$config['network_map_vis_options'] = '{\n  \"nodes\": {\n    \"color\": {\n      \"background\": \"rgba(20,252,18,1)\"\n    },\n    \"font\": {\n      \"face\": \"tahoma\"\n    },\n    \"physics\": false\n  },\n  \"edges\": {\n    \"smooth\": {\n      \"forceDirection\": \"none\"\n    }\n  },\n  \"interaction\": {\n    \"hover\": true,\n    \"multiselect\": true,\n    \"navigationButtons\": true\n  },\n  \"manipulation\": {\n    \"enabled\": true\n  },\n  \"physics\": {\n    \"barnesHut\": {\n      \"avoidOverlap\": 0.11\n    },\n    \"minVelocity\": 0.75\n  }\n}';\n</code></pre> <p></p>"},{"location":"Extensions/Weathermap/","title":"Network-WeatherMap with LibreNMS","text":"<p>Integrating LibreNMS with Network-Weathermap, allows you to build network maps to help visulaize network traffic flow rates.</p>"},{"location":"Extensions/Weathermap/#prerequisites","title":"Prerequisites","text":"<p>Network-WeatherMap requires php pear to work.</p>"},{"location":"Extensions/Weathermap/#installing-network-weathermap","title":"Installing Network-WeatherMap","text":""},{"location":"Extensions/Weathermap/#step-1","title":"Step 1","text":"<p>Extract to your LibreNMS plugins directory <code>/opt/librenms/html/plugins</code> so you should see something like <code>/opt/librenms/html/plugins/Weathermap/</code> The best way to do this is via git. Go to your install directory and then <code>/opt/librenms/html/plugins</code> enter: <pre><code>git clone https://github.com/librenms-plugins/Weathermap.git\n</code></pre></p>"},{"location":"Extensions/Weathermap/#step-2","title":"Step 2","text":"<p>Inside the html/plugins directory, change the ownership of the Weathermap directory by typing</p> <pre><code>chown -R librenms:librenms Weathermap/\n</code></pre> <p>Make the configs directory writeable.</p> <pre><code>chmod 775 /opt/librenms/html/plugins/Weathermap/configs\n</code></pre> <p>Note if you are using SELinux you need to input the following command</p> <pre><code>chcon -R -t httpd_cache_t Weathermap/\n</code></pre>"},{"location":"Extensions/Weathermap/#step-3","title":"Step 3","text":"<p>Enable the cron process by editing your current LibreNMS cron file (typically /etc/cron.d/librenms) and add the following:</p> <pre><code>*/5 * * * * librenms /opt/librenms/html/plugins/Weathermap/map-poller.php &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre>"},{"location":"Extensions/Weathermap/#step-4","title":"Step 4","text":"<p>Enable the plugin from LibreNMS Web UI in OverView -&gt; Plugins -&gt; Plugin Admin menu.</p>"},{"location":"Extensions/Weathermap/#step-5","title":"Step 5","text":"<p>Now you should see Weathermap Overview -&gt; Plugins -&gt; Weathermap Create your maps, please note when you create a MAP, please click Map Style, ensure Overlib is selected for HTML Style and click submit. Also, ensure you set an output image filename and output HTML filename in Map Properties. I'd recommend you use the <code>output</code> folder as this is excluded from git updates (i.e. use <code>output/mymap.png</code> and <code>output/mymap.html</code>).</p> <p>Optional: If your install is in another directory than standard, set <code>$basehref</code> within <code>map-poller.php</code>.</p>"},{"location":"Extensions/Weathermap/#weathermapper","title":"WeatherMapper","text":"<p>Automatically generate weathermaps from a LibreNMS database using WeatherMapper.</p> <p></p>"},{"location":"Extensions/Weathermap/#adding-your-network-weathermaps-to-the-dashboards","title":"Adding your Network Weathermaps to the Dashboards","text":"<p>Once you have created your Network Weather Map you can add it to a dashboard page by doing the following.</p>"},{"location":"Extensions/Weathermap/#step-1_1","title":"Step 1","text":"<p>When you create the Weathermap make sure to export as HTML and PNG you will need this for the out to the dashboard.</p> <p>In the Weathermap Plugin page, you will see the output maps. <code>Right click</code> on one of the maps and click on <code>copy image address</code>.</p> <p>Example URL: <code>http://yourlibrenms.org/plugins/Weathermap/output/yourmap.html</code></p>"},{"location":"Extensions/Weathermap/#step-2_1","title":"Step 2","text":"<p>Then go back to your Dashboard, create a new dashboard and give it a name. select the widget as External Images.</p> <p>Give the Widget a Title.</p> <p>The Image URL will need to be the address you copied but at the end remove the <code>.html</code> and replace it with <code>.png</code></p> <p>Example  Image URL <code>http://yourlibrenms.org/plugins/Weathermap/output/yourmap.png</code></p> <p>The Target URL will be the URL you copied but with the <code>.html</code> at the end of the URL.</p> <p>Example Target URL <code>http://yourlibrenms.org/plugins/Weathermap/output/yourmap.html</code></p> <p>Then Click on Set</p> <p>You should now be able to see the Weathermap you have created in your list of dashboards. You could also add this to existing dashboards.</p> <p></p>"},{"location":"Extensions/World-Map/","title":"World Map Configuration","text":"<p>LibreNMS comes with a configurable Geo Map based on World Map Widget to visualize where your equipment is located geographically.</p>"},{"location":"Extensions/World-Map/#world-map-widget","title":"World Map Widget","text":"<p>World Map Widget, requires you to have properly formatted addresses in sysLocation or sysLocation override. As part of the standard poller these addresses will be Geocoded by Google and stored in the database.</p> <p>Location resolution happens as follows</p> <ol> <li>If <code>device['location']</code> contains <code>[lat, lng]</code> (note the square    brackets), that is used</li> <li>If there is a location overide for the device in the WebUI and it    contains <code>[lat, lng]</code> (note the square brackets), that is used.</li> <li>Attempt to resolve lat, lng using <code>lnms config:set geoloc.engine</code></li> <li>Properly formatted addresses in sysLocation or sysLocation    override, under device settings.</li> </ol> <p>Example:</p> <pre><code>[40.424521, -86.912755]\n</code></pre> <p>or</p> <p><pre><code>1100 Congress Ave, Austin, TX 78701 (3rd floor cabinet)\n</code></pre> Information inside parentheses is ignored during GEO lookup</p> <p>We have two current mapping engines available:</p> <ul> <li>Leaflet (default)</li> <li>Jquery-Mapael</li> </ul>"},{"location":"Extensions/World-Map/#world-map-widget-settings","title":"World Map Widget Settings","text":"<ul> <li>Initial Latitude / Longitude: The map will be centered on those   coordinates.</li> <li>Initial Zoom: Initial zoom of the map. More information about   zoom levels.</li> <li>Grouping radius: Markers are grouped by area. This value define   the maximum size of grouping areas.</li> <li>Show devices: Show devices based on status.</li> </ul> <p>Example Settings:</p> <p></p>"},{"location":"Extensions/World-Map/#device-overview-world-map-settings","title":"Device Overview World Map Settings","text":"<p>If a device has a location with a valid latitude and logitude, the device overview page will have a panel showing the device on a world map.  The following settings affect this map:</p> <pre><code># Does the world map start opened, or does the user need to clivk to view\nlnms config:set device_location_map_open false\n# Do we show all other devices on the map as well\nlnms config:set device_location_map_show_devices false\n# Do we show a network map based on device dependencies\nlnms config:set device_location_map_show_device_dependencies false\n</code></pre>"},{"location":"Extensions/World-Map/#offline-openstreet-map","title":"Offline OpenStreet Map","text":"<p>If you can't access OpenStreet map directly you can run a local tile server. To specify a different url you can set:</p> <pre><code>lnms config:set leaflet.tile_url 'localhost.com'\n</code></pre>"},{"location":"Extensions/World-Map/#additional-leaflet-config","title":"Additional Leaflet config","text":"<pre><code>lnms config:set map.engine leaflet\nlnms config:set leaflet.default_lat \"51.981074\"\nlnms config:set leaflet.default_lng \"5.350342\"\nlnms config:set leaflet.default_zoom 8\n# Device grouping radius in KM default 80KM\nlnms config:set leaflet.group_radius 1\n# Enable network map on world map\nlnms config:set network_map_show_on_worldmap true\n# Use CDP/LLDP for network map, or device dependencies\nlnms config:set network_map_worldmap_link_type xdp/depends\n# Do not show devices that have notifications disabled\nlnms config:set network_map_worldmap_show_disabled_alerts false\n</code></pre>"},{"location":"Extensions/World-Map/#geocode-engine-config","title":"Geocode engine config","text":"<p>external/location</p> <pre><code>lnms config:set geoloc.engine google\nlnms config:set geoloc.api_key 'abcdefghijklmnopqrstuvwxyz'\n</code></pre> <p>Google: Pros: fast, accurate Cons: requires a credit card even for a free account</p> <p>MapQuest: Pros: free, no credit card required Cons: inaccurate: most addresses are returned as locations at the center of the US</p> <p>Bing: Pros: free, no credit card required, accurate Cons: Microsoft (debatable)</p>"},{"location":"Extensions/World-Map/#jquery-mapael-config","title":"Jquery-Mapael config","text":"<p>Further custom options are available to load different maps of the world, set default coordinates of where the map will zoom and the zoom level by default. An example of this is:</p> <pre><code>lnms config:set map.engine jquery-mapael\nlnms config:set mapael.default_map 'mapael-maps/united_kingdom/united_kingdom.js'\nlnms config:set mapael.map_width 400\nlnms config:set mapael.default_lat '50.898482'\nlnms config:set mapael.default_lng '-3.401402'\nlnms config:set mapael.default_zoom 20\n</code></pre> <p>A list of maps can be found in <code>html/js/maps/</code> or <code>html/js/mapael-maps/</code>.</p>"},{"location":"Extensions/metrics/Graphite/","title":"Enabling support for Graphite","text":"<p>This module sends all metrics to a remote graphite service. You need something like Grafana for graphing.</p>"},{"location":"Extensions/metrics/Graphite/#what-you-dont-get","title":"What you don't get","text":"<ul> <li>Pretty graphs, this is why at present you need Grafana. You need to   build your own graphs within Grafana.</li> </ul> <p>RRD will continue to function as normal so LibreNMS itself should continue to function as normal.</p>"},{"location":"Extensions/metrics/Graphite/#configuration","title":"Configuration","text":"<p>poller/graphite</p> <pre><code>lnms config:set graphite.enable true\nlnms config:set graphite.host 'your.graphite.server'\nlnms config:set graphite.port 2003\nlnms config:set graphite.prefix 'your.metric.prefix'\n</code></pre> <p>Your metric path can be prefixed if required, otherwise the metric path for Graphite will be in the form of <code>hostname.measurement.fieldname</code>, interfaces will be stored as <code>hostname.ports.ifName.fieldname</code>.</p> <p>The same data then stored within rrd will be sent to Graphite and recorded. You can then create graphs within Grafana to display the information you need.</p>"},{"location":"Extensions/metrics/Graphite/#graphite-configuration","title":"Graphite Configuration","text":"<p>As LibreNMS updates its metrics every 5 minutes, the following addition to your storage-schemas.conf is suggested.</p> <pre><code>[network]\npattern = your\\.metric\\.prefix\\..*\nretentions = 5m:30d,15m:90d,1h:1y\n</code></pre>"},{"location":"Extensions/metrics/InfluxDB/","title":"Enabling support for InfluxDB","text":"<p>Before we get started it is important that you know and understand that InfluxDB support is currently alpha at best. All it provides is the sending of data to a InfluxDB install. Due to the current changes that are constantly being made to InfluxDB itself then we cannot guarantee that your data will be ok so enabling this support is at your own risk!</p>"},{"location":"Extensions/metrics/InfluxDB/#requirements","title":"Requirements","text":"<ul> <li>InfluxDB &gt;= 0.94 &lt; 2.0</li> <li>Grafana</li> </ul> <p>The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things.</p>"},{"location":"Extensions/metrics/InfluxDB/#what-you-dont-get","title":"What you don't get","text":"<ul> <li>Pretty graphs, this is why at present you need Grafana. You need to   build your own graphs within Grafana.</li> <li>Support for InfluxDB or Grafana, we would highly recommend that you   have some level of experience with these.</li> </ul> <p>RRD will continue to function as normal so LibreNMS itself should continue to function as normal.</p>"},{"location":"Extensions/metrics/InfluxDB/#configuration","title":"Configuration","text":"<p>poller/influxdb</p> <pre><code>lnms config:set influxdb.enable true\nlnms config:set influxdb.transport http\nlnms config:set influxdb.host '127.0.0.1'\nlnms config:set influxdb.port 8086\nlnms config:set influxdb.db 'librenms'\nlnms config:set influxdb.username 'admin'\nlnms config:set influxdb.password 'admin'\nlnms config:set influxdb.timeout 0\nlnms config:set influxdb.verifySSL false\n</code></pre> <p>No credentials are needed if you don't use InfluxDB authentication.</p> <p>The same data then stored within rrd will be sent to InfluxDB and recorded. You can then create graphs within Grafana to display the information you need.</p>"},{"location":"Extensions/metrics/InfluxDBv2/","title":"Enabling support for InfluxDBv2","text":"<p>Before we get started it is important that you know and understand that InfluxDBv2 support is currently alpha at best. All it provides is the sending of data to a InfluxDBv2 bucket. Due to the current changes that are constantly being made to InfluxDB itself then we cannot guarantee that your data will be ok so enabling this support is at your own risk!</p> <p>It is also important to understand that InfluxDBv2 only supports the InfluxDBv2 API used in InfluxDB version 2.0 or higher. If you are looking to send data to any other version of InfluxDB than you should use the InfluxDB datastore instead.</p>"},{"location":"Extensions/metrics/InfluxDBv2/#requirements","title":"Requirements","text":"<ul> <li>InfluxDB &gt;= 2.0</li> </ul> <p>The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things.</p>"},{"location":"Extensions/metrics/InfluxDBv2/#what-you-dont-get","title":"What you don't get","text":"<ul> <li>Support for InfluxDB, we would highly recommend that you   have some level of experience with these.</li> </ul> <p>RRD will continue to function as normal so LibreNMS itself should continue to function as normal.</p>"},{"location":"Extensions/metrics/InfluxDBv2/#configuration","title":"Configuration","text":"<p>poller/influxdbv2</p> <pre><code>lnms config:set influxdbv2.enable true\nlnms config:set influxdbv2.transport http\nlnms config:set influxdbv2.host '127.0.0.1'\nlnms config:set influxdbv2.port 8086\nlnms config:set influxdbv2.bucket 'librenms'\nlnms config:set influxdbv2.token 'admin'\nlnms config:set influxdbv2.allow_redirect true\nlmns config:set influxdbv2.organization 'librenms'\n</code></pre> <p>The same data stored within rrd will be sent to InfluxDB and recorded. You can then create graphs within Grafana or InfluxDB to display the information you need.</p>"},{"location":"Extensions/metrics/OpenTSDB/","title":"Enabling support for OpenTSDB","text":"<p>This module sends all metrics to OpenTSDB server. You need something like Grafana for graphing.</p>"},{"location":"Extensions/metrics/OpenTSDB/#requirements","title":"Requirements","text":"<ul> <li>OpenTSDB</li> <li>Grafana</li> </ul>"},{"location":"Extensions/metrics/OpenTSDB/#what-you-dont-get","title":"What you don't get","text":"<p>Pretty graphs, this is why at present you need Grafana. You need to  build your own graphs within Grafana.</p> <p>RRD will continue to function normally so LibreNMS itself should continue to function normally.</p> <p>You can add the following to your config:</p>"},{"location":"Extensions/metrics/OpenTSDB/#configuration","title":"Configuration","text":"<p>poller/opentsdb</p> <pre><code>lnms config:set opentsdb.enable true\nlnms config:set opentsdb.host '127.0.0.1'\nlnms config:set opentsdb.port 4242\n</code></pre> <p>The same data than the one stored within rrd will be sent to OpenTSDB and recorded. You can then create graphs within Grafana to display the information you need.</p>"},{"location":"Extensions/metrics/Prometheus/","title":"Enabling support for Prometheus","text":"<p>Please be aware Prometheus support is alpha at best, It hasn't been extensively tested and is still in development All it provides is the sending of data to a a Prometheus PushGateway. Please be careful when enabling this support you use it at your own risk!</p>"},{"location":"Extensions/metrics/Prometheus/#requirements-older-versions-may-work-but-havent-been-tested","title":"Requirements (Older versions may work but haven't been tested","text":"<ul> <li>Prometheus &gt;= 2.0</li> <li>PushGateway &gt;= 0.4.0</li> <li>Grafana</li> <li>PHP-CURL</li> </ul> <p>The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things.</p>"},{"location":"Extensions/metrics/Prometheus/#what-you-dont-get","title":"What you don't get","text":"<ul> <li>Pretty graphs, this is why at present you need Grafana. You need to   build your own graphs within Grafana.</li> <li>Support for Prometheus or Grafana, we would highly recommend that   you have some level of experience with these.</li> </ul> <p>RRD will continue to function as normal so LibreNMS itself should continue to function as normal.</p>"},{"location":"Extensions/metrics/Prometheus/#configuration","title":"Configuration","text":"<p>poller/prometheus</p> <pre><code>lnms config:set prometheus.enable true\nlnms config:set prometheus.url 'http://127.0.0.1:9091'\nlnms config:set prometheus.job 'librenms'\nlnms config:set prometheus.prefix 'librenms'\n</code></pre>"},{"location":"Extensions/metrics/Prometheus/#prefix","title":"Prefix","text":"<p>Setting the 'prefix' option will cause all metric names to begin with  the configured value.</p> <p>For instance without setting this option metric names will be something  like this:</p> <pre><code>OUTUCASTPKTS\nifOutUcastPkts_rate\nINOCTETS\nifInErrors_rate\n</code></pre> <p>Configuring a prefix name, for example 'librenms', instead caused those  metrics to be exposed with the following names:</p> <pre><code>librenms_OUTUCASTPKTS\nlibrenms_ifOutUcastPkts_rate\nlibrenms_INOCTETS\nlibrenms_ifInErrors_rate\n</code></pre>"},{"location":"Extensions/metrics/Prometheus/#sample-prometheus-scrape-config-for-scraping-the-push-gateway","title":"Sample Prometheus Scrape Config (for scraping the Push Gateway)","text":"<pre><code>- job_name: pushgateway\n  scrape_interval: 300s\n  honor_labels: true\n  static_configs:\n    - targets: ['127.0.0.1:9091']\n</code></pre> <p>The same data then stored within rrd will be sent to Prometheus and recorded. You can then create graphs within Grafana to display the information you need.</p>"},{"location":"General/Acknowledgement/","title":"Acknowledgements","text":"<p>LibreNMS wouldn't be what it is today without the use of some other amazing projects. We list below what we make use of including the license compliance.</p>"},{"location":"General/Acknowledgement/#3rd-party-gplv3-compliant","title":"3rd Party GPLv3 Compliant","text":"<ul> <li>Bootstrap: MIT</li> <li>Font Awesome: MIT License</li> <li>Jquery Bootgrid: MIT License</li> <li>Pace: Open License</li> <li>Twitter typeahead: Open License</li> <li>Vis: MIT / Apache 2.0</li> <li>TCPDF: LGPLv3</li> <li>Bootstrap 3 Datepicker:MIT</li> <li>Bootstrap Dropdown Hover Plugin: MIT</li> <li>Bootstrap Switch: Apache 2.0</li> <li>Handlebars: Open License</li> <li>Cycle2: MIT/GPL</li> <li>Jquery: MIT</li> <li>Jquery UI: MIT</li> <li>Jquery QRCode: MIT</li> <li>Mktree: Open License</li> <li>Moment: MIT</li> <li>Tag Manager: MIT</li> <li>TW Sack: GPLv3</li> <li>Gridster: MIT</li> <li>Pure PHP radius class: GPLv3</li> <li>GeSHi - Generic Syntax Highlighter: GPLv2+</li> <li>MalaysiaMap.svg - By Exiang CC BY 3.0, via Wikimedia Commons</li> <li>Code for UBNT Devices Mark Gibbons mgibbons@oemcomp.com Initial code base submitted via PR721</li> <li>Jquery LazyLoad: MIT License</li> <li>influxdb-php: MIT License</li> <li>influxdb-client-php: MIT License</li> <li>HTML Purifier: LGPL v2.1</li> <li>Symfony Yaml: MIT</li> <li>PHPMailer: LGPL v2.1</li> <li>pbin: GPLv2 (or later - see script header)</li> <li>CorsSlim: MIT</li> <li>Confluence HTTP Authenticator</li> <li>Graylog SSO Authentication Plugin</li> <li>Select2: MIT License</li> <li>JustGage: MIT</li> <li>jQuery.extendext: MIT</li> <li>doT: MIT</li> <li>jQuery-queryBuilder: MIT</li> <li>sql-parser: MIT (Currently a custom build is used)</li> </ul>"},{"location":"General/Acknowledgement/#3rd-party-gplv3-non-compliant","title":"3rd Party GPLv3 Non-compliant","text":"<ul> <li>JpGraph (html/includes/jpgraph): QPL 1.0 license</li> <li>MIBS (mibs): unknown/various</li> <li>html/graph-realtime.php: BSD (original?)</li> <li>html/includes/collectd/: GPLv2 only</li> <li>overLIB (html/js/overlib_mini.js): modified Artistic 1.0?</li> </ul>"},{"location":"General/Callback-Stats-and-Privacy/","title":"Submitting Stats","text":""},{"location":"General/Callback-Stats-and-Privacy/#stats-data-and-your-privacy","title":"Stats data and your privacy","text":"<p>This document has been put together to explain what LibreNMS does when it calls back home to report some anonymous statistics.</p> <p>Let's start off by saying, all of the code that processes the data and submits it is included in the standard LibreNMS branch you've installed, the code that accepts this data and in turn generates some pretty graphs is all open source and available on GitHub. Please feel free to review the code, comment on it and suggest changes / improvements. Also, don't forget - by default installations DO NOT call back home, you need to opt into this.</p> <p>Above all we respect users privacy which is why this system has been designed like it has.</p> <p>Now onto the bit you're interested in, what is submitted and what we do with that data.</p>"},{"location":"General/Callback-Stats-and-Privacy/#what-is-submitted","title":"What is submitted","text":"<ul> <li>All data is anonymous.</li> <li>Generic statistics are taken from the database, these include things   like device count, device type, device OS, port types, port speeds,   port count and BGP peer count. Take a look at the code for full   details.</li> <li>Pairs of sysDescr and sysObjectID from devices with a small amount   of sanitation to prevent things like hostnames from being submitted.</li> <li>We record version numbers of php, mysql, net-snmp and rrdtool</li> <li>A random UUID is generated on your own install.</li> <li>That's it!</li> <li>Your IP isn't logged, even via our web service accepting the   data. We don't need to know who you are so we don't ask.</li> </ul>"},{"location":"General/Callback-Stats-and-Privacy/#what-we-do-with-the-data","title":"What we do with the data","text":"<ul> <li>We store it, not for long - 3 months at the moment although this could change.</li> <li>We use it to generate pretty graphs for people to see.</li> <li>We use it to help prioritise issues and features that need to be worked on.</li> <li>We use sysDescr and sysObjectID to create unit tests and improve OS discovery</li> </ul>"},{"location":"General/Callback-Stats-and-Privacy/#how-do-i-enable-stats-submission","title":"How do I enable stats submission?","text":"<p>If you're happy with all of this - please consider switching the call back system on, you can do this within the About LibreNMS page within your control panel. In the Statistics section you will find a toggle switch to enable / disable the feature. If you've previously had it switched on and want to opt out and remove your data, click the 'Clear remote stats' button and on the next submission all the data you've sent us will be removed!</p>"},{"location":"General/Callback-Stats-and-Privacy/#questions","title":"Questions?","text":""},{"location":"General/Callback-Stats-and-Privacy/#how-often-is-data-submitted","title":"How often is data submitted?","text":"<p>We submit the data once a day according to running daily.sh via cron. If you disable this then opting in will not have any affect.</p>"},{"location":"General/Callback-Stats-and-Privacy/#where-can-i-see-the-data-i-submitted","title":"Where can I see the data I submitted?","text":"<p>You can't see the data raw, but we collate all of the data together and provide a dynamic site so you can see the results of all contributed stats here</p>"},{"location":"General/Callback-Stats-and-Privacy/#i-want-my-data-removed","title":"I want my data removed.","text":"<p>That's easy, simply press 'Clear remote stats' in the About LibreNMS page of your control panel, the next time the call back script is run it will remove all the data we have.</p>"},{"location":"General/Callback-Stats-and-Privacy/#i-clicked-the-clear-remote-stats-button-by-accident","title":"I clicked the 'Clear remote stats' button by accident.","text":"<p>No problem, before daily.sh runs again - just opt back in, all of your existing data will stay.</p> <p>Hopefully this answers the questions you might have on why and what we are doing here, if not, please pop into our discord server or community forum and ask any questions you like.</p>"},{"location":"General/Changelog/","title":"Changelog","text":""},{"location":"General/Changelog/#2460","title":"24.6.0","text":"<p>(2024-06-16)</p> <p>A big thank you to the following 20 contributors this last month:</p> <ul> <li>murrant (13)</li> <li>VVelox (7)</li> <li>PipoCanaja (3)</li> <li>dependabot (2)</li> <li>Npeca75 (2)</li> <li>ashwath129 (2)</li> <li>electrocret (2)</li> <li>scamp (1)</li> <li>nicolasberens (1)</li> <li>sorano (1)</li> <li>GonBlank (1)</li> <li>jepke (1)</li> <li>EinGlasVollKakao (1)</li> <li>Cougar (1)</li> <li>whitej46 (1)</li> <li>cadirol (1)</li> <li>santiag0z (1)</li> <li>rons4 (1)</li> <li>freddy36 (1)</li> <li>cjsoftuk (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (18)</li> <li>Jellyfrog (12)</li> <li>electrocret (9)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#feature","title":"Feature","text":"<ul> <li>ESRI ArcGIS geo map support (#16059) - murrant</li> </ul>"},{"location":"General/Changelog/#device","title":"Device","text":"<ul> <li>Update Dell MIBs (#16120) - murrant</li> <li>Add TI-G102i (.46) and TI-PG1284i (.34) (#16099) - nicolasberens</li> <li>Add \"Bullet Camera\" in Axis discovery. (#16098) - sorano</li> <li>[vlans] Add VLANs information to Huawei VRP os (#16089) - Npeca75</li> <li>Cisco Catalyst 1300 recognition (#16080) - jepke</li> <li>Fix Ruckus Unleashed product ID for OS detection (#16067) - Cougar</li> <li>Fix error in riverbed (#16066) - murrant</li> <li>Update Hatteras DSLAM name (#16054) - cadirol</li> <li>Add initial support for socomec-ups (#16018) - Npeca75</li> <li>Fix bdcom/pbn neighbour discovery (#15935) - freddy36</li> <li>Add support for new sensors on Firebrick 9000 models. (#15842) - cjsoftuk</li> </ul>"},{"location":"General/Changelog/#webui","title":"Webui","text":"<ul> <li>Fix popup toast messages (Remove Flasher) (#16090) - murrant</li> <li>Handle $app_data['disks'] not being set for SMART app page display (#16087) - VVelox</li> <li>Edit Current Map menu entry (#16084) - murrant</li> <li>Fix device summary widget alignment and dropdown color on dark theme (#16083) - GonBlank</li> <li>Fix duplicate maps in relationship (#16081) - murrant</li> <li>Manage Maps limit width (#16055) - murrant</li> <li>Widget hot refresh &amp; worldmap cleanup (#16053) - murrant</li> <li>Align the buttons (Edit and Delete) to the right in Map Management (#16052) - santiag0z</li> </ul>"},{"location":"General/Changelog/#alerting","title":"Alerting","text":"<ul> <li>AlertOps alert transport (#16050) - ashwath129</li> <li>SIGNL4 Alert Transport (#16037) - rons4</li> </ul>"},{"location":"General/Changelog/#applications","title":"Applications","text":"<ul> <li>Fix display of graphs on the multi-server app page for Mojo CAPE Submit (#16094) - VVelox</li> <li>Two minor fixes for sagan (#16082) - VVelox</li> <li>Fix path related issues for ss and systemd applications (#16045) - VVelox</li> <li>Add Suricata 7 support to Suricata (#16044) - VVelox</li> </ul>"},{"location":"General/Changelog/#api","title":"Api","text":"<ul> <li>Return error when no device ports found (#16043) - murrant</li> </ul>"},{"location":"General/Changelog/#settings","title":"Settings","text":"<ul> <li>Add nfsen_base to config_definitions.json (#16065) - whitej46</li> <li>Remove device_perf_purge (#16057) - electrocret</li> <li>Remove enable_ports_poe (#16056) - electrocret</li> </ul>"},{"location":"General/Changelog/#bug","title":"Bug","text":"<ul> <li>Bug - Sorting FDB table by devices (#16116) - PipoCanaja</li> <li>Fix typo in device edit page (#16096) - murrant</li> <li>Fix fping bulk (#16085) - murrant</li> <li>Fix duplication of processor entries &amp; limit length of type (#16075) - EinGlasVollKakao</li> </ul>"},{"location":"General/Changelog/#refactor","title":"Refactor","text":"<ul> <li>Rename index_string to str_index_as_numeric (#15916) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#documentation","title":"Documentation","text":"<ul> <li>Note the suffix/prefix stuff for LDAP auth (#16091) - VVelox</li> <li>Clean up SMART docs a bit (#16086) - VVelox</li> <li>Update Transports.md to add documentation for AlertOps (#16058) - ashwath129</li> </ul>"},{"location":"General/Changelog/#misc","title":"Misc","text":"<ul> <li>Don't run poller validations when there are no devices (#16088) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs","title":"Mibs","text":"<ul> <li>Fix ECS4120 MIB, resolves #16093 (#16101) - scamp</li> </ul>"},{"location":"General/Changelog/#dependencies","title":"Dependencies","text":"<ul> <li>Bump braces from 3.0.2 to 3.0.3 (#16105) - dependabot</li> <li>Bump composer/composer from 2.7.1 to 2.7.7 (#16104) - dependabot</li> </ul>"},{"location":"General/Changelog/#2450","title":"24.5.0","text":"<p>(2024-05-19)</p> <p>A big thank you to the following 23 contributors this last month:</p> <ul> <li>murrant (24)</li> <li>santiag0z (5)</li> <li>eskyuu (3)</li> <li>sogadm (2)</li> <li>Jarod2801 (2)</li> <li>Pikamander2 (1)</li> <li>scamp (1)</li> <li>ottorei (1)</li> <li>whitej46 (1)</li> <li>sonic45132 (1)</li> <li>fbouynot (1)</li> <li>EinGlasVollKakao (1)</li> <li>h-barnhart (1)</li> <li>sarabveer (1)</li> <li>netravnen (1)</li> <li>jthiltges (1)</li> <li>hatboxen (1)</li> <li>electrocret (1)</li> <li>washcroft (1)</li> <li>Npeca75 (1)</li> <li>paulierco (1)</li> <li>drshawnkwang (1)</li> <li>systeembeheerder (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (22)</li> <li>Jellyfrog (13)</li> <li>electrocret (3)</li> <li>ottorei (1)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#feature_1","title":"Feature","text":"<ul> <li>Custom Maps: geo map and color backgrounds (#16020) - murrant</li> <li>Show custom maps in device overview (#15985) - murrant</li> <li>New Map Menu (#15969) - murrant</li> <li>Mysql PDO options to support SSL/TLS client communication (#15832) - drshawnkwang</li> <li>Snmpscan.py output errors and nodns (#15673) - murrant</li> </ul>"},{"location":"General/Changelog/#breaking-change","title":"Breaking Change","text":"<ul> <li>Linux MegaRAID SAS fixes (#15566) - eskyuu</li> </ul>"},{"location":"General/Changelog/#device_1","title":"Device","text":"<ul> <li>Use null coalescing on Panos.php (#16019) - ottorei</li> <li>Improved powerwalker sensors (#15999) - EinGlasVollKakao</li> <li>Added initial support for ULAF+ devices (#15997) - Jarod2801</li> <li>Correct swapped SET and WHERE parameters in bgp-peers/dell-os10.inc.php (#15983) - jthiltges</li> <li>Added FibroLAN devices (#15967) - Jarod2801</li> <li>New velocloud devices (#15958) - paulierco</li> </ul>"},{"location":"General/Changelog/#webui_1","title":"Webui","text":"<ul> <li>Fix issue loading session preferences (#16041) - murrant</li> <li>Device location map zoom out when location N/A (#16034) - murrant</li> <li>Added read permission test to the custom map model (#16030) - eskyuu</li> <li>Do not allow the legend nodes to trigger the node edit modal (#16026) - eskyuu</li> <li>Mobile menu full height (#16011) - murrant</li> <li>Map Management: Show Groups (#16005) - murrant</li> <li>Change custom map editor icon (#16004) - murrant</li> <li>Custom Map: Show crosshairs when adding (#15978) - murrant</li> <li>On-demand map menu items (#15971) - murrant</li> <li>Custom Maps: make edit title clickable (#15965) - murrant</li> <li>[webui] sort ports in VLANs blade (#15960) - Npeca75</li> </ul>"},{"location":"General/Changelog/#graphs","title":"Graphs","text":"<ul> <li>Fix icmp ping y-axis over 1000ms (#16039) - murrant</li> <li>Fix graph_type variable (svg / png) (#15972) - washcroft</li> </ul>"},{"location":"General/Changelog/#snmp-traps","title":"Snmp Traps","text":"<ul> <li>SNMP Traps - Ciena AAA (#15998) - h-barnhart</li> </ul>"},{"location":"General/Changelog/#bug_1","title":"Bug","text":"<ul> <li>Fix downtime in corner cases (#16040) - murrant</li> <li>Fix WirelessSensor incorrect model (#16016) - whitej46</li> <li>Merge duplicate toBytes functions (#15994) - murrant</li> <li>Fix systemd graphs using wrong rrd filename variable (#15988) - sarabveer</li> <li>Rrd source does not work with rrdcached (#15974) - murrant</li> <li>Git ignore custom map images (#15966) - murrant</li> <li>Packet_loss macros quick fix (#15961) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup","title":"Cleanup","text":"<ul> <li>Fix incorrect number of seconds in a day (#16042) - Pikamander2</li> </ul>"},{"location":"General/Changelog/#documentation_1","title":"Documentation","text":"<ul> <li>[DOC] Update Customizing-the-Web-UI.md (#16025) - santiag0z</li> <li>[DOC] Install LibreNMS: add Icons (#16017) - santiag0z</li> <li>Set httpd_cache_t type to /opt/librenms/cache (#16000) - fbouynot</li> <li>Update to Material for MkDocs 8.3.9 -&gt; 9.5.20 (#15996) - santiag0z</li> <li>Update link to LibreNMS origin blog post (#15981) - hatboxen</li> <li>Remove poller_name from docs (#15979) - electrocret</li> <li>Update packet_loss docs (#15962) - murrant</li> <li>Update Dispatcher-Service.md (#15705) - systeembeheerder</li> </ul>"},{"location":"General/Changelog/#translation","title":"Translation","text":"<ul> <li>Massive changes to the Chinese interface translation. (#16009) - sogadm</li> <li>Chinese translation fixesChinese translation fixes (#15991) - sogadm</li> </ul>"},{"location":"General/Changelog/#tests","title":"Tests","text":"<ul> <li>Always run tests (#16024) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs_1","title":"Mibs","text":"<ul> <li>Update MIB for Edge-Core ECS4120-Series (#16023) - scamp</li> <li>Update to latest revision (#15984) - netravnen</li> </ul>"},{"location":"General/Changelog/#2440","title":"24.4.0","text":"<p>(2024-04-19)</p> <p>A big thank you to the following 18 contributors this last month:</p> <ul> <li>murrant (8)</li> <li>PipoCanaja (4)</li> <li>xorrkaz (2)</li> <li>moisseev (1)</li> <li>VVelox (1)</li> <li>Taarek (1)</li> <li>Melhuig (1)</li> <li>dependabot (1)</li> <li>Lollbrant (1)</li> <li>HolgerHees (1)</li> <li>voileux (1)</li> <li>hvanderheide (1)</li> <li>jasoncheng7115 (1)</li> <li>h-barnhart (1)</li> <li>Jellyfrog (1)</li> <li>CTV-2023 (1)</li> <li>fbouynot (1)</li> <li>OSIRIS-REx (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (13)</li> <li>murrant (9)</li> <li>PipoCanaja (8)</li> <li>electrocret (1)</li> </ul>"},{"location":"General/Changelog/#feature_2","title":"Feature","text":"<ul> <li>Improved Latency graph (#15940) - murrant</li> </ul>"},{"location":"General/Changelog/#security","title":"Security","text":"<ul> <li>Fix Graph date selector (#15956) - murrant</li> <li>Fix JS injection in Service Templates (#15954) - murrant</li> <li>Fix SQL injection issues in packages search (#15950) - murrant</li> <li>Improve order validation in list_devices (#15885) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#device_2","title":"Device","text":"<ul> <li>ILO storage: fix malformed snmp data parsing (#15931) - HolgerHees</li> <li>Add Fortigate HA state sensor definition (#15924) - hvanderheide</li> <li>Devices - Ciena RLS 6500 (#15909) - h-barnhart</li> <li>Cumulus mellanox discovery (#15732) - fbouynot</li> <li>Added support for new device OS Westermo WeOS (#15674) - OSIRIS-REx</li> </ul>"},{"location":"General/Changelog/#webui_2","title":"Webui","text":"<ul> <li>Fix null in services (#15945) - murrant</li> </ul>"},{"location":"General/Changelog/#alerting_1","title":"Alerting","text":"<ul> <li>Pretty up Slack formatting. (#15898) - xorrkaz</li> </ul>"},{"location":"General/Changelog/#graphs_1","title":"Graphs","text":"<ul> <li>Fix typo (#15952) - Taarek</li> <li>Fix graph selection when to/from missing from url (#15946) - murrant</li> </ul>"},{"location":"General/Changelog/#applications_1","title":"Applications","text":"<ul> <li>For gzip+base64 compressed json, don't call stripslashes (#15953) - VVelox</li> <li>Fix PDNS recursor error (#15942) - murrant</li> </ul>"},{"location":"General/Changelog/#api_1","title":"Api","text":"<ul> <li>Add type property to Device class to update it by API (#15930) - voileux</li> <li>Add support for a maintenance boolean in API results. (#15904) - xorrkaz</li> </ul>"},{"location":"General/Changelog/#bug_2","title":"Bug","text":"<ul> <li>Skip rrd sources that do not exist (#15959) - murrant</li> <li>Bug - Cisco NAC key error (#15934) - PipoCanaja</li> <li>Bug - typo for request rate + sanity on numerical not_null values (#15919) - PipoCanaja</li> <li>Bug - vrp - fix signed-tinyint overloaded with disabled radios (#15917) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#documentation_2","title":"Documentation","text":"<ul> <li>Add missing p5-File-Slurp dependency (#15955) - moisseev</li> <li>Fix \"lnms config:set\" command syntax (#15949) - Melhuig</li> <li>Graylog how to set up non-admin user (#15938) - Lollbrant</li> <li>Documentation - opcache issue on Debian 12 (#15870) - CTV-2023</li> </ul>"},{"location":"General/Changelog/#translation_1","title":"Translation","text":"<ul> <li>Fix wrong terminology (#15920) - jasoncheng7115</li> </ul>"},{"location":"General/Changelog/#dependencies_1","title":"Dependencies","text":"<ul> <li>Bump tecnickcom/tcpdf from 6.6.5 to 6.7.4 (#15948) - dependabot</li> </ul>"},{"location":"General/Changelog/#2430","title":"24.3.0","text":"<p>(2024-04-01)</p> <p>A big thank you to the following 24 contributors this last month:</p> <ul> <li>rpardim (4)</li> <li>dependabot (3)</li> <li>electrocret (3)</li> <li>bionicman (2)</li> <li>PipoCanaja (2)</li> <li>eskyuu (2)</li> <li>Walkablenormal (2)</li> <li>bnerickson (2)</li> <li>rudybroersma (2)</li> <li>d-k-7 (1)</li> <li>murrant (1)</li> <li>czarnian (1)</li> <li>dmbokhan (1)</li> <li>TheMysteriousX (1)</li> <li>msaringer (1)</li> <li>Didr (1)</li> <li>vhuk (1)</li> <li>Jellyfrog (1)</li> <li>KingDaveRa (1)</li> <li>Npeca75 (1)</li> <li>dethmetaljeff (1)</li> <li>blknight88 (1)</li> <li>gunkaaa (1)</li> <li>pjordanovic (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (25)</li> <li>electrocret (7)</li> <li>PipoCanaja (5)</li> <li>murrant (2)</li> <li>laf (2)</li> <li>mpikzink (1)</li> <li>VVelox (1)</li> </ul>"},{"location":"General/Changelog/#feature_3","title":"Feature","text":"<ul> <li>Support for InfluxDB V2 API (#15861) - Walkablenormal</li> </ul>"},{"location":"General/Changelog/#breaking-change_1","title":"Breaking Change","text":"<ul> <li>Wireguard application graph cleanup and new wireguard interface/global metrics. (#15847) - bnerickson</li> </ul>"},{"location":"General/Changelog/#device_3","title":"Device","text":"<ul> <li>Fix catos discovery (#15915) - d-k-7</li> <li>Add health sensors (#15910) - murrant</li> <li>Add support for Huawei YunShan OS (#15903) - czarnian</li> <li>Add support for Ubiquiti Unifi USP-RPS device (#15900) - bionicman</li> <li>Add support for Ubiquiti Unifi LTE devices. (#15899) - bionicman</li> <li>Checkpoint Gaia PowerSupply state sensor (#15882) - rpardim</li> <li>Add support for Cisco FTD 3105 (#15881) - msaringer</li> <li>Fix for Checkpoint Gaia VPN state sensor (#15878) - rpardim</li> <li>Support for Forcepoint NGFW 6.11 and later (#15872) - vhuk</li> <li>A10 ACOS version, state and count sensors (#15871) - rpardim</li> <li>F5 BIG-IP state and count sensors (#15865) - rpardim</li> <li>Supermicro bmc updates (#15862) - dethmetaljeff</li> <li>YAMLized version of previous PR for Ericsson SSR 80xx routers (#15834) - rudybroersma</li> <li>Fix for FortiSwitch RPM/percentage fans (#15829) - rudybroersma</li> <li>Move sentry3 current/voltage/power sensors to YAML (#15715) - gunkaaa</li> <li>Device - EPSON DS-860 + Network Interface Unit DSBXNW1 (#15420) - pjordanovic</li> </ul>"},{"location":"General/Changelog/#applications_2","title":"Applications","text":"<ul> <li>Systemd Application Code Cleanup and new Systemd Unit State Metrics. (#15848) - bnerickson</li> </ul>"},{"location":"General/Changelog/#discovery","title":"Discovery","text":"<ul> <li>Bug - Fix OSes 'Junos' and 'Hirschmann' misuse of entPhysicalIndex (#15886) - TheMysteriousX</li> </ul>"},{"location":"General/Changelog/#bug_3","title":"Bug","text":"<ul> <li>Fix Vrf Table (#15912) - electrocret</li> <li>Fix for explicit timezone selection (#15890) - eskyuu</li> <li>Bug - fix extra fields in DB entry create/update (#15883) - PipoCanaja</li> <li>Remove config_bgp config check in bird2 app (#15877) - Didr</li> <li>Custommap label fixes (#15875) - eskyuu</li> <li>[ipv4] fix /32 addresses discovery (#15863) - Npeca75</li> </ul>"},{"location":"General/Changelog/#refactor_1","title":"Refactor","text":"<ul> <li>Refactor - remove unused entPhysicalIndex_measured (#15892) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#documentation_3","title":"Documentation","text":"<ul> <li>Added additional lines for selinux config to work with RHEL8 (#15864) - KingDaveRa</li> <li>Fix @signedGraphTag documention (#15853) - blknight88</li> </ul>"},{"location":"General/Changelog/#tests_1","title":"Tests","text":"<ul> <li>Bump Github Actions to Node.JS 20. (#15873) - Walkablenormal</li> </ul>"},{"location":"General/Changelog/#dependencies_2","title":"Dependencies","text":"<ul> <li>Bump express from 4.18.2 to 4.19.2 (#15913) - dependabot</li> <li>Bump webpack-dev-middleware from 5.3.3 to 5.3.4 (#15907) - dependabot</li> <li>Bump follow-redirects from 1.15.4 to 1.15.6 (#15897) - dependabot</li> <li>Update dependencies (#15869) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2420","title":"24.2.0","text":"<p>(2024-02-27)</p> <p>A big thank you to the following 46 contributors this last month:</p> <ul> <li>rudybroersma (14)</li> <li>Npeca75 (10)</li> <li>eskyuu (6)</li> <li>electrocret (5)</li> <li>PipoCanaja (5)</li> <li>Jellyfrog (5)</li> <li>vhuk (5)</li> <li>murrant (5)</li> <li>bnerickson (3)</li> <li>fbouynot (3)</li> <li>FlyveHest (2)</li> <li>nickhilliard (2)</li> <li>dependabot (2)</li> <li>richard-ririe (2)</li> <li>laf (2)</li> <li>SourceDoctor (2)</li> <li>VVelox (2)</li> <li>VoipTelCH (1)</li> <li>fabriciotm (1)</li> <li>dirkx (1)</li> <li>swerveshot (1)</li> <li>jmesserli (1)</li> <li>lrizzi (1)</li> <li>Personwho (1)</li> <li>OSIRIS-REx (1)</li> <li>xorrkaz (1)</li> <li>jcostom (1)</li> <li>tevkar (1)</li> <li>descilla (1)</li> <li>arjitc (1)</li> <li>My-Random-Thoughts (1)</li> <li>dlangille (1)</li> <li>blknight88 (1)</li> <li>z0d1ac-RU (1)</li> <li>lferrerfmv (1)</li> <li>gil-obradors (1)</li> <li>gunkaaa (1)</li> <li>TvL2386 (1)</li> <li>santiag0z (1)</li> <li>EinGlasVollKakao (1)</li> <li>kakohegyi (1)</li> <li>i4networks (1)</li> <li>Bierchermuesli (1)</li> <li>mhamzak008 (1)</li> <li>nicklockhart-fullfibre (1)</li> <li>LoveSkylark (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>PipoCanaja (35)</li> <li>Jellyfrog (30)</li> <li>electrocret (26)</li> <li>laf (21)</li> <li>murrant (11)</li> <li>mpikzink (1)</li> <li>rudybroersma (1)</li> <li>ottorei (1)</li> <li>vhuk (1)</li> </ul>"},{"location":"General/Changelog/#feature_4","title":"Feature","text":"<ul> <li>Additional custom map features (#15806) - eskyuu</li> <li>Add/Remove devices from static devicegroups (#15775) - richard-ririe</li> <li>Option to ignore device status (#15697) - SourceDoctor</li> <li>Add functionality for custom maps (weathermaps) (#15633) - eskyuu</li> <li>Alert Rule Editor: new notes field &amp; SQL field improove (#15631) - Bierchermuesli</li> <li>NAC - Improve search in WebUI - Keep Historical data (#15629) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#security_1","title":"Security","text":"<ul> <li>Fix XSS in default example plugin (#15711) - murrant</li> </ul>"},{"location":"General/Changelog/#device_4","title":"Device","text":"<ul> <li>Updated SLA poller for Cisco Nexus 9000 (#15855) - FlyveHest</li> <li>Update geist-watchdog.yaml (#15851) - fabriciotm</li> <li>Correctly identify FS Datacenter Switch N8560-48BC (#15837) - rudybroersma</li> <li>Konica printers additional counters (#15826) - Npeca75</li> <li>Add HSRP state sensors for Cisco IOSXE on L3 switches (#15823) - rudybroersma</li> <li>Add HSRP Sensor support for IOSXR (#15821) - electrocret</li> <li>Add support for Cisco IE1000 (#15820) - rudybroersma</li> <li>Initial support for Eltex mes24xx (#15816) - Npeca75</li> <li>Add support for Cadant E6000 (#15813) - nickhilliard</li> <li>Add LRT-C / LCM-B / LRS-D / LCM-B modules to Luminato model (#15812) - nickhilliard</li> <li>Add HSRP state sensors for Cisco IOS on L3 switches (#15809) - rudybroersma</li> <li>[rfc1628] Add UPS Test (battery test) status sensor (#15802) - Npeca75</li> <li>Add build 22631 as Windows 11 23H2 (#15800) - vhuk</li> <li>Zyxel ZynOS PoE Budget sensor support (#15798) - rudybroersma</li> <li>Add Procurve NAC support (#15794) - vhuk</li> <li>Add ArubaOS-CX VSF state sensor support (#15793) - rudybroersma</li> <li>Support for new os/devices, CTS (#15790) - OSIRIS-REx</li> <li>Support for new Lancom devices (#15779) - rudybroersma</li> <li>Add NAC support for Powerconnect (#15778) - vhuk</li> <li>Detect UniFi U7 APs as UniFi AP type (#15776) - jcostom</li> <li>FS.com S5810 Discovery fix (#15765) - rudybroersma</li> <li>Device - webpower smart II snmp UPS card (#15764) - Npeca75</li> <li>Support for temp sensors - WUT Thermometers - W57605 and W57614 (#15757) - rudybroersma</li> <li>Initial support for Supermicro BMC (#15750) - Npeca75</li> <li>ArubaOS-CX PSU state sensor support &amp; OS and serial detection (#15738) - rudybroersma</li> <li>Add FortiSwitch PSU state sensor support (#15735) - rudybroersma</li> <li>Added support for Dlink dgs-1250-28x (#15734) - Npeca75</li> <li>Add FortiGate DHCP Scope usage percentage sensors (#15727) - rudybroersma</li> <li>Added MES 2348B (#15725) - z0d1ac-RU</li> <li>Add FortiGate license status sensors (#15722) - rudybroersma</li> <li>Handle icmpjitter SLA parsing for iosxe (#15707) - FlyveHest</li> <li>Zyxel Wireless Controller OS ( Zyxel NXC series ) (#15694) - kakohegyi</li> <li>Device - fix Counter64 octets value in 32bit column bgpPeerInTotalMessages (#15621) - PipoCanaja</li> <li>Fix tp-link jetstream FDB discovery (#14321) - Npeca75</li> </ul>"},{"location":"General/Changelog/#webui_3","title":"Webui","text":"<ul> <li>Disable Page Refresh on Oxidized Tools Page (#15831) - electrocret</li> <li>Modify the date selector to use the session timezone (#15783) - eskyuu</li> <li>Switch bill_notes input to textarea (#15749) - arjitc</li> <li>Sort smart app disks by label (#15686) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#alerting_2","title":"Alerting","text":"<ul> <li>Add support for Webex max message length. (#15789) - xorrkaz</li> <li>Rename JiraServiceManagement.php to Jiraservicemanagement.php (#15717) - gil-obradors</li> <li>Add JiraServiceManagement Transport (#15593) - mhamzak008</li> <li>Transport - Jira transport rewrite (#15561) - LoveSkylark</li> </ul>"},{"location":"General/Changelog/#graphs_2","title":"Graphs","text":"<ul> <li>Fixed graphs for icmp service showing PL 4 times (#15856) - VoipTelCH</li> <li>Socket Statistic Application cleanup and application page graph fixes. (#15845) - bnerickson</li> </ul>"},{"location":"General/Changelog/#applications_3","title":"Applications","text":"<ul> <li>Deliver output for a specific memcached instance (#15759) - tevkar</li> <li>Update nvidia.inc.php (#15756) - descilla</li> <li>Add BorgBackup monitoring support (#15591) - VVelox</li> <li>Add dhcp-stats tests and update for v3 of the extend (#15378) - VVelox</li> </ul>"},{"location":"General/Changelog/#billing","title":"Billing","text":"<ul> <li>Updated bill_data table, alter indexes and add new column (#15751) - laf</li> </ul>"},{"location":"General/Changelog/#api_2","title":"Api","text":"<ul> <li>Add API endpoints to update and delete Device Groups (#15774) - richard-ririe</li> <li>Add port description API endpoints and documentation (#15578) - nicklockhart-fullfibre</li> </ul>"},{"location":"General/Changelog/#settings_1","title":"Settings","text":"<ul> <li>Fix twofactor default value (#15772) - murrant</li> <li>Add isis module to os schema (#15710) - murrant</li> </ul>"},{"location":"General/Changelog/#discovery_1","title":"Discovery","text":"<ul> <li>Fall back to IPV6-MIB IPv6 address discovery if IP-MIB IPv6 address discovery doesn't return any valid addresses (#15714) - gunkaaa</li> </ul>"},{"location":"General/Changelog/#oxidized","title":"Oxidized","text":"<ul> <li>Add PollerGroup as an option for OxidizedMap (#15696) - electrocret</li> </ul>"},{"location":"General/Changelog/#bug_4","title":"Bug","text":"<ul> <li>Update Port Real Time Graph error (#15846) - electrocret</li> <li>[bugfix] Fix json-app-tool.php to work with Oid class. (#15844) - bnerickson</li> <li>Fix for linkDown/linkUp ifOperStatus (#15835) - PipoCanaja</li> <li>Fix \"Tempurature\" Typo (#15811) - lrizzi</li> <li>Bug fixes for the custom maps (#15810) - eskyuu</li> <li>Remove dumpRawSql() function in AlertUtil.php (#15803) - Personwho</li> <li>Make all image URLs absolute and fix path for viewer (#15788) - eskyuu</li> <li>Prevent ansi colors in key:generate output (#15773) - Jellyfrog</li> <li>VRP - avoid emptying bgpPeers description at discovery when manually set (#15713) - PipoCanaja</li> <li>OSPF instances and missing mandatory fields fix attempt (#15712) - PipoCanaja</li> <li>Fixed typo in misc/alert_rules.json with regards to \"Space on ...\" alerts (#15708) - TvL2386</li> <li>Don't escape leaflet tile url in location edit map (#15695) - EinGlasVollKakao</li> <li>Show error if \"Check Type\" field is empty when creating new service template (#15685) - vhuk</li> </ul>"},{"location":"General/Changelog/#refactor_2","title":"Refactor","text":"<ul> <li>Rewrite ups-nut discovery to SnmpQuery:: (#15850) - Npeca75</li> <li>Rewrite lmsensors discovery to SnmpQuery:: (#15833) - Npeca75</li> <li>Rewrite ipv4 address discovery to Eloquent (#15830) - Npeca75</li> </ul>"},{"location":"General/Changelog/#documentation_4","title":"Documentation","text":"<ul> <li>Applications.md formatting update for better readability. (#15849) - bnerickson</li> <li>Update Images.md (#15824) - swerveshot</li> <li>More precise OAuth group/role claim information (#15817) - jmesserli</li> <li>Add selinux open directory permission for rrdcached in RRDCached.md (#15755) - fbouynot</li> <li>Missing dir read permission in sepolicy in RRDCached.md (#15754) - fbouynot</li> <li>Update SQL override section after switch to SQL strict mode (#15736) - blknight88</li> <li>Add CentOS option to SMART dependency install (#15704) - fbouynot</li> </ul>"},{"location":"General/Changelog/#misc_1","title":"Misc","text":"<ul> <li>Add kelvin to celcius conversion (#15836) - dirkx</li> </ul>"},{"location":"General/Changelog/#mibs_2","title":"Mibs","text":"<ul> <li>Update watchguard MIBs (#15719) - lferrerfmv</li> </ul>"},{"location":"General/Changelog/#dependencies_3","title":"Dependencies","text":"<ul> <li>Bump composer/composer from 2.6.6 to 2.7.0 (#15808) - dependabot</li> <li>Update PHP dependencies (#15737) - murrant</li> <li>Bump follow-redirects from 1.15.3 to 1.15.4 (#15724) - dependabot</li> </ul>"},{"location":"General/Changelog/#2410","title":"24.1.0","text":"<p>(2024-01-07)</p> <p>A big thank you to the following 37 contributors this last month:</p> <ul> <li>PipoCanaja (12)</li> <li>murrant (7)</li> <li>laf (5)</li> <li>electrocret (3)</li> <li>peejaychilds (3)</li> <li>Jellyfrog (2)</li> <li>vhuk (2)</li> <li>MittWillson (2)</li> <li>Bierchermuesli (2)</li> <li>netravnen (1)</li> <li>iliessens (1)</li> <li>sarcastic6 (1)</li> <li>SourceDoctor (1)</li> <li>altf4arnold (1)</li> <li>robje (1)</li> <li>rudybroersma (1)</li> <li>mtentilucci (1)</li> <li>tuxgasy (1)</li> <li>craig-nokia (1)</li> <li>brianegge (1)</li> <li>amyjohn000 (1)</li> <li>VirTechSystems (1)</li> <li>atj (1)</li> <li>lhwolfarth (1)</li> <li>bonzo81 (1)</li> <li>Sweeny42 (1)</li> <li>jduke-halls (1)</li> <li>pjordanovic (1)</li> <li>dependabot (1)</li> <li>TheMysteriousX (1)</li> <li>swiftnode-linden (1)</li> <li>cguillaumie (1)</li> <li>luc-ass (1)</li> <li>VVelox (1)</li> <li>Leo-FJ (1)</li> <li>MaxPecc (1)</li> <li>jerji (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (20)</li> <li>murrant (16)</li> <li>PipoCanaja (15)</li> <li>electrocret (12)</li> <li>craig-nokia (1)</li> <li>ottorei (1)</li> </ul>"},{"location":"General/Changelog/#device_5","title":"Device","text":"<ul> <li>Ignore nameless health sensors for Fortigate (#15678) - iliessens</li> <li>Add support for RoomAlert 32S device (#15676) - sarcastic6</li> <li>Device - Add Cisco REP Segment state sensor (#15666) - rudybroersma</li> <li>Added better support for some HiveOS Wireless devices (#15661) - laf</li> <li>Fix HPE iLO CPU Status Sensor Description (#15660) - mtentilucci</li> <li>Fix OcNOS detection for recent firmware versions (#15642) - murrant</li> <li>Add support for Fortinet FortiAPs (#15641) - atj</li> <li>Fixing memory scale for datacom-dmos devices (#15640) - lhwolfarth</li> <li>Bug - Fix Cisco NTP values (#15639) - PipoCanaja</li> <li>Add support for Forcepoint NGFW 6.10 and older (#15632) - vhuk</li> <li>Bug - timos MPLS - more poller fixes (#15624) - PipoCanaja</li> <li>Add memory readings for Draytek OS (#15618) - Sweeny42</li> <li>Updated support for HiveOS Wireless newer models (#15610) - laf</li> <li>Add HPE iLO 6 to discovery (#15607) - jduke-halls</li> <li>Incorrect discovery APC Smart-UPS RT 3000 XL 4.1 ( APC Web/SNMP Management Card (AP9619 MB:v4.1.1 PF:v3.9.4) as multi-phase ups (#15602) - pjordanovic</li> <li>Device - McAfee Web Gateway -&gt; SkyHigh Web Gateway (#15596) - PipoCanaja</li> <li>Add and extend support for Hirshmann devices (#15588) - cguillaumie</li> <li>Updated regex for HWG STE2 r2 to better detect hardware and software version (#15573) - luc-ass</li> <li>Update entity-sensor.inc.php for xos' os (#15552) - Leo-FJ</li> <li>Added support of new OS for NTP/PTP systems: Meinberg OS, Safran (Orolia), Oscilloquartz (Adva) (#15453) - MaxPecc</li> <li>Zhone health (#15276) - jerji</li> <li>Fix wrong ASN discovery on non-BGP Devices (#14948) - Bierchermuesli</li> </ul>"},{"location":"General/Changelog/#webui_4","title":"Webui","text":"<ul> <li>Clarify In/Out on Ports table. (#15680) - electrocret</li> <li>WebUI - Filter FDB and ARP tabs in port page if empty (#15653) - PipoCanaja</li> <li>Update Pushover.php (#15652) - brianegge</li> <li>Mark old alert email settings as deprecated (#15650) - murrant</li> <li>Add bad port settings to webui (#15649) - murrant</li> <li>Bug - FDB Table - allow empty searchby as well (#15626) - PipoCanaja</li> <li>Update alertlog query to be more efficient (#15622) - laf</li> <li>Add vendor to searchby rules function (#15619) - bonzo81</li> <li>Fix grabled characters when oid already UTF-8 (#15615) - MittWillson</li> </ul>"},{"location":"General/Changelog/#graphs_3","title":"Graphs","text":"<ul> <li>Change default graph image to SVG (#15586) - electrocret</li> </ul>"},{"location":"General/Changelog/#api_3","title":"Api","text":"<ul> <li>API add_device: Add ping_ping fallback option (#15637) - murrant</li> <li>More filter options for the BGP peer API endpoint (#15599) - Bierchermuesli</li> </ul>"},{"location":"General/Changelog/#discovery_2","title":"Discovery","text":"<ul> <li>Set array before use to stop discovery erroring (#15604) - laf</li> </ul>"},{"location":"General/Changelog/#authentication","title":"Authentication","text":"<ul> <li>Add support for Okta Group claims to set Roles (#15592) - peejaychilds</li> <li>Output Roles in auth_test script (#15587) - peejaychilds</li> </ul>"},{"location":"General/Changelog/#bug_5","title":"Bug","text":"<ul> <li>Fix Rancid error messages (#15683) - vhuk</li> <li>Fix smart application parsing (#15672) - SourceDoctor</li> <li>Fix pagination in alert rules page (#15659) - tuxgasy</li> <li>Bug - \"null\" checks for SAR 7705 release 8.X (#15657) - craig-nokia</li> <li>Bug - missing \"use\" statement in NTP Cisco (#15656) - PipoCanaja</li> <li>Bug - TPLink - fix null exception for LLDP discovery WIP (#15628) - PipoCanaja</li> <li>Bug - bgp-peers error in Timos -&gt; dbFacile cleanup (#15620) - PipoCanaja</li> <li>Bug - ADSL ifIndex to port error not handled (#15617) - PipoCanaja</li> <li>Bug - XDSL adslAtucCurrOutputPwr exception (Cisco CSCvj53634) (#15614) - PipoCanaja</li> <li>Bug - null checks in Nokia MPLS polling (#15613) - PipoCanaja</li> <li>Bug - Nokia discovery protocols (#15606) - PipoCanaja</li> <li>Make vminfo.vmwVmGuestOS wider (#15595) - TheMysteriousX</li> <li>Fixed state flag causing sql issues in test-template.php (#15589) - laf</li> </ul>"},{"location":"General/Changelog/#documentation_5","title":"Documentation","text":"<ul> <li>Add traceroute to the installed packages doc (#15645) - VirTechSystems</li> <li>Fix documentation formatting (#15635) - Jellyfrog</li> <li>Fix formatting in OAuth-SAML.md (#15616) - peejaychilds</li> <li>Update Debian 12 Installation Instructions. (#15590) - swiftnode-linden</li> <li>Add Debian 12 to install docs (#15559) - VVelox</li> </ul>"},{"location":"General/Changelog/#misc_2","title":"Misc","text":"<ul> <li>Updating the logo to higher resolution one (#15669) - altf4arnold</li> <li>Update the type of nummonbssid column in the access_points table (#15647) - amyjohn000</li> <li>Fix device format missing display field (#15623) - MittWillson</li> <li>Link Model (#15611) - murrant</li> <li>Add space to Oxidized error msg (#15603) - electrocret</li> </ul>"},{"location":"General/Changelog/#internal-features","title":"Internal Features","text":"<ul> <li>New utility Number::constrainInteger() (#15663) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs_3","title":"Mibs","text":"<ul> <li>Update MIKROTIK-MIB (#15690) - netravnen</li> </ul>"},{"location":"General/Changelog/#dependencies_4","title":"Dependencies","text":"<ul> <li>Update javascript dependencies (#15651) - murrant</li> <li>Bump phpseclib/phpseclib from 3.0.21 to 3.0.34 (#15600) - dependabot</li> </ul>"},{"location":"General/Changelog/#23110","title":"23.11.0","text":"<p>(2023-11-17)</p> <p>A big thank you to the following 37 contributors this last month:</p> <ul> <li>murrant (26)</li> <li>PipoCanaja (5)</li> <li>jepke (3)</li> <li>peelman (3)</li> <li>dependabot (2)</li> <li>Galileo77 (2)</li> <li>tim427 (2)</li> <li>ottorei (2)</li> <li>eskyuu (1)</li> <li>arjenz (1)</li> <li>electrocret (1)</li> <li>GramThanos (1)</li> <li>bnerickson (1)</li> <li>peejaychilds (1)</li> <li>laf (1)</li> <li>luttermann (1)</li> <li>helppp (1)</li> <li>slalomsk8er (1)</li> <li>VirTechSystems (1)</li> <li>westerterp (1)</li> <li>cmadamsgit (1)</li> <li>lhwolfarth (1)</li> <li>webtroter (1)</li> <li>fbouynot (1)</li> <li>Wooboy (1)</li> <li>kmodzel (1)</li> <li>jaannnis (1)</li> <li>Fehler12 (1)</li> <li>not-known (1)</li> <li>drykov-ttc (1)</li> <li>tydal-borge (1)</li> <li>iNuc1ear (1)</li> <li>mpikzink (1)</li> <li>WilliamDEdwards (1)</li> <li>RandGH (1)</li> <li>underscoredje (1)</li> <li>Schouwenburg (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (40)</li> <li>Jellyfrog (10)</li> <li>electrocret (9)</li> <li>laf (2)</li> <li>ottorei (2)</li> <li>kwangsing3 (1)</li> </ul>"},{"location":"General/Changelog/#feature_5","title":"Feature","text":"<ul> <li>Mail Transport: option to use BCC (#15554) - murrant</li> <li>New command: lnms report:devices (#15539) - murrant</li> </ul>"},{"location":"General/Changelog/#breaking-change_2","title":"Breaking Change","text":"<ul> <li>Plugin update (breaking) (#15498) - murrant</li> </ul>"},{"location":"General/Changelog/#security_2","title":"Security","text":"<ul> <li>Fix a few XSS vulnerabilities in device group popups (#15581) - murrant</li> <li>Disable GET login by default (#15558) - murrant</li> <li>Use GitHub for vulnerability reporting (#15555) - murrant</li> </ul>"},{"location":"General/Changelog/#device_6","title":"Device","text":"<ul> <li>[APC sensor] Actual state of alarm contact beside config state (#15576) - jepke</li> <li>Vertiv PDU show power graph in mouesover and device overview (#15543) - Galileo77</li> <li>Cisco WLC: fetch LWAPP SSIDs for client counts (#15531) - murrant</li> <li>Add sysObjectIDs for other models of PSS shelves (#15525) - peelman</li> <li>Added values from SFP DDM values for awplus switches (#15522) - luttermann</li> <li>Add support for Nokia 1830 PSS Optical gear (#15516) - peelman</li> <li>Add Support for Samlex America PSR-1200-48 Inverters (#15515) - peelman</li> <li>TrueNAS no longer supports zpool space usage (#15490) - murrant</li> <li>Vertiv pdu mg02e4w1 (#15484) - Galileo77</li> <li>Add FortiGate Environment stats (#15464) - westerterp</li> <li>Add support for FiberStore \"data center\" switches (#15445) - cmadamsgit</li> <li>Adding basic support for Datacom DmOS devices. (#15436) - lhwolfarth</li> <li>Apc ap 7900b (#15392) - webtroter</li> <li>Add definition fujifilmprinter (#15381) - Wooboy</li> <li>Initial support for Moxa EDS-4000 Series switches (#15293) - kmodzel</li> <li>Cisco SB Switch Temp and Fanspeed fix (#15225) - Fehler12</li> <li>Add support eltex more devices (#15108) - drykov-ttc</li> <li>Add support for Security Radar (#15053) - tydal-borge</li> <li>Add disk sensors for Oceanstor (#15010) - iNuc1ear</li> <li>Fix Fortinet HA-status polling state translations (#14921) - ottorei</li> <li>Add Quantum Scalar I6000 Tape Library (#14915) - mpikzink</li> <li>Add liebert detailsv2 (#14746) - RandGH</li> <li>Zyxel AP  wireless  client discovery enhancement (#14704) - underscoredje</li> <li>Dantherm hostname (#14223) - Schouwenburg</li> <li>Add Panorama log collection write rate (#13864) - ottorei</li> </ul>"},{"location":"General/Changelog/#webui_5","title":"Webui","text":"<ul> <li>Device links formatting changes (#15580) - eskyuu</li> <li>Only set user roles if they are defined (#15577) - murrant</li> <li>Fix Down/Up time error if device is unpolled (#15545) - murrant</li> <li>Fix health temperature degree display (#15541) - murrant</li> <li>Fixed BGP Remote peer link and graph in Routing Overview, or just static text when not a device in LibreNMS (#15535) - tim427</li> <li>Added BGP Remote peer link and graph in Routing Overview (#15532) - tim427</li> <li>Respect web_mouseover setting in popup component (#15530) - murrant</li> <li>Prefetch devices in group to avoid cost of subquery (#15511) - slalomsk8er</li> </ul>"},{"location":"General/Changelog/#alerting_3","title":"Alerting","text":"<ul> <li>Give reason for alert template fallback (#15583) - murrant</li> <li>Add option to disable the send of acknowledgement alerts. (#15208) - not-known</li> </ul>"},{"location":"General/Changelog/#applications_4","title":"Applications","text":"<ul> <li>[bugfix] Passing $device into data_update_helper functions instead of declaring it as global. (#15542) - bnerickson</li> </ul>"},{"location":"General/Changelog/#api_4","title":"Api","text":"<ul> <li>API Oxidized http source optimization (#15560) - murrant</li> <li>Get poller group (#15493) - VirTechSystems</li> </ul>"},{"location":"General/Changelog/#discovery_3","title":"Discovery","text":"<ul> <li>UCD buffers and cache discovered with inverted free/used values (#15538) - murrant</li> </ul>"},{"location":"General/Changelog/#polling","title":"Polling","text":"<ul> <li>Prevent non-unicode characters in ifAlias (#15585) - murrant</li> <li>BGP-peers if no data, skip (#15548) - murrant</li> <li>UCD-MIB polling check isset (#15547) - murrant</li> <li>Fix Ciscowlc error when bsnApIfNoOfUsers is not present (#15529) - murrant</li> </ul>"},{"location":"General/Changelog/#authentication_1","title":"Authentication","text":"<ul> <li>Add auth_ldap_cacertfile and auth_ldap_ignorecert options (#15526) - peejaychilds</li> </ul>"},{"location":"General/Changelog/#bug_6","title":"Bug","text":"<ul> <li>Bug - Fix API Content-Type Header handling (#15574) - PipoCanaja</li> <li>Huawei Controllers - Exception removed and changed OID for AP Type (#15564) - PipoCanaja</li> <li>Fix graphs device check before auth (#15551) - murrant</li> <li>Prometheus on failure, disable for rest of run (#15546) - murrant</li> <li>Bug - Fix missing device_id in NAC tab view (#15534) - PipoCanaja</li> <li>Bug - string VS array (#15533) - PipoCanaja</li> <li>OSPF tables fix integer types (#15528) - murrant</li> <li>Fixed the wrong field being used for join (#15524) - laf</li> <li>Dark mode fix routing tabs &amp; pages (#15485) - jepke</li> <li>Minor fix and tweak for graylog integration (#15455) - jepke</li> <li>Smokeping menu and title use device displayname (#15387) - fbouynot</li> <li>Increase max package name length to 128 characters (#14895) - WilliamDEdwards</li> </ul>"},{"location":"General/Changelog/#cleanup_1","title":"Cleanup","text":"<ul> <li>Remove api_demo config setting (#15563) - electrocret</li> <li>Wifi module does not exist anymore (#15549) - murrant</li> <li>Misc device column cleanups (#15518) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_6","title":"Documentation","text":"<ul> <li>Update Docker docs (#15556) - GramThanos</li> <li>Changed log item, source(s_sys) to source(s_src) (#15521) - helppp</li> </ul>"},{"location":"General/Changelog/#translation_2","title":"Translation","text":"<ul> <li>Change spelling disc -&gt; disk (#15569) - arjenz</li> </ul>"},{"location":"General/Changelog/#misc_3","title":"Misc","text":"<ul> <li>Update renamehost to include more logging if a folder already exists# (#15280) - jaannnis</li> </ul>"},{"location":"General/Changelog/#internal-features_1","title":"Internal Features","text":"<ul> <li>Print stack trace in error dumps (#15514) - murrant</li> <li>SnmpQuery runtime cache (#15512) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_5","title":"Dependencies","text":"<ul> <li>Bump axios from 0.25.0 to 1.6.0 (#15571) - dependabot</li> <li>Bump browserify-sign from 4.2.1 to 4.2.2 (#15510) - dependabot</li> </ul>"},{"location":"General/Changelog/#23100","title":"23.10.0","text":"<p>(2023-10-26)</p> <p>A big thank you to the following 30 contributors this last month:</p> <ul> <li>murrant (84)</li> <li>SourceDoctor (6)</li> <li>tim427 (4)</li> <li>electrocret (3)</li> <li>dependabot (3)</li> <li>noaheroufus (3)</li> <li>PipoCanaja (3)</li> <li>Galileo77 (2)</li> <li>fbouynot (2)</li> <li>Jellyfrog (2)</li> <li>peejaychilds (1)</li> <li>cwispy (1)</li> <li>qwerin (1)</li> <li>lhwolfarth (1)</li> <li>CTV-2023 (1)</li> <li>barryodonovan (1)</li> <li>MrShunz (1)</li> <li>brointhemix (1)</li> <li>I-FGSD (1)</li> <li>Ac0lyte (1)</li> <li>Jimmy-Cl (1)</li> <li>waddles (1)</li> <li>bnerickson (1)</li> <li>netravnen (1)</li> <li>jepke (1)</li> <li>TheMysteriousX (1)</li> <li>rolfbergheim (1)</li> <li>VVelox (1)</li> <li>davromaniak (1)</li> <li>metrojworthington (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (30)</li> <li>Jellyfrog (23)</li> <li>electrocret (21)</li> <li>PipoCanaja (2)</li> <li>RafalNiewinski (1)</li> <li>rcmcronny (1)</li> </ul>"},{"location":"General/Changelog/#feature_6","title":"Feature","text":"<ul> <li>Muteable acknowledged alert notifications (#15456) - SourceDoctor</li> <li>Throttle error reporting (#15391) - murrant</li> <li>Deprecate poller.php (#15370) - murrant</li> </ul>"},{"location":"General/Changelog/#security_3","title":"Security","text":"<ul> <li>Fix MAC search sql injection (#15402) - murrant</li> <li>Validate secure cookies (#15401) - murrant</li> <li>Fix xss in device groups overview (#15399) - murrant</li> <li>Update Tnmsne table backend (#15384) - murrant</li> <li>Fix unescaped output in ipv6 search page (#15327) - murrant</li> </ul>"},{"location":"General/Changelog/#device_7","title":"Device","text":"<ul> <li>Fix websensor temp user_func (#15492) - murrant</li> <li>Discover AEN with sysobjectid instead of sysdescr (#15482) - fbouynot</li> <li>Huawei VRP AP controller fixes (#15450) - murrant</li> <li>Timos MPLS nullables round 2 (#15448) - murrant</li> <li>Fortimail add mail queues message count (#15444) - cwispy</li> <li>Fix timos mpls, add checks (#15430) - murrant</li> <li>Fix VRP polling (#15428) - murrant</li> <li>Updating Datacom logo (#15427) - lhwolfarth</li> <li>Moxa EDS improve discovery (#15375) - murrant</li> <li>Fix Raisecom devices having not increasing OIDs on snmpwalk (#15365) - MrShunz</li> <li>Aviat svg logos (#15360) - murrant</li> <li>Add Fortinet logo (#15359) - murrant</li> <li>Added support for Cambium cnWave60 gear (#15358) - noaheroufus</li> <li>Added support for Cambium cnMatrix switches (#15351) - noaheroufus</li> <li>Update Windows version naming (#15350) - I-FGSD</li> <li>Calix logo update (#15348) - murrant</li> <li>Calix AXOS Sensor Changes (#15343) - noaheroufus</li> <li>Adding Active Power in Watts to APCs (#15337) - Jimmy-Cl</li> <li>Device stulz WIB8000 (#15271) - jepke</li> <li>Added some groups and corrected some references (#15129) - rolfbergheim</li> <li>Add model for Christie Digital projectors (#15088) - davromaniak</li> <li>Vmware vminfo modernize (#15008) - murrant</li> <li>Mcc valere (#14753) - metrojworthington</li> </ul>"},{"location":"General/Changelog/#webui_6","title":"Webui","text":"<ul> <li>Do not update device IP when DNS resolution fails (#15499) - murrant</li> <li>Fix FDB table ip addresses missing (#15481) - murrant</li> <li>Fix bug saving snmpv3 device changes (#15419) - murrant</li> <li>Fix graph errors (#15407) - murrant</li> <li>Calculate downtime from device_outages table (#15397) - murrant</li> <li>Sort services by type and name (#15367) - SourceDoctor</li> <li>Vertically center device icons (#15361) - murrant</li> <li>Fix BGP peer IP missing in Routing page (#15352) - tim427</li> <li>Fix incorrect pages offset on app ntp page (#15349) - Ac0lyte</li> <li>Show Temperature Graphs on Smart App Overview (#15342) - SourceDoctor</li> <li>Show never polled Information on Widget and in Device itself (#15341) - SourceDoctor</li> <li>Show device group on device overview (#15338) - SourceDoctor</li> <li>FDB Tables improve performance (#15333) - murrant</li> <li>Fix some issues with admin self settings (#15332) - murrant</li> <li>Fix eventlog debug code left in (#15331) - murrant</li> <li>Device NAC page to Laravel Blade (#15329) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#alerting_4","title":"Alerting","text":"<ul> <li>Send event log when alert rule fails (#15440) - murrant</li> <li>Fix Linemessagingapi class name (#15356) - murrant</li> <li>Fix alerting find owner contacts on old SQL server versions (#15355) - murrant</li> <li>Add alert transport for Grafana Oncall (#15330) - waddles</li> <li>Show which host marked a device as down. (#15209) - TheMysteriousX</li> </ul>"},{"location":"General/Changelog/#graphs_4","title":"Graphs","text":"<ul> <li>Fix rrd exists check (#15466) - murrant</li> <li>Scale disk spezific SMART Graph from 0 (#15339) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#applications_5","title":"Applications","text":"<ul> <li>Unix Agent and Application fixes (#15460) - murrant</li> <li>Adding Socket Statistics Application Support (#15307) - bnerickson</li> <li>Update docs for osupdate when being used as a script for the agent (#15099) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_5","title":"Api","text":"<ul> <li>Fix API get_location by ID (#15506) - murrant</li> <li>Allow add device to set location (#15469) - murrant</li> </ul>"},{"location":"General/Changelog/#settings_2","title":"Settings","text":"<ul> <li>Rearrange AD auth settings (#15363) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_1","title":"Polling","text":"<ul> <li>IS-IS polling handle missing data (#15491) - murrant</li> <li>Fix polling down retry (and other items) (#15483) - murrant</li> <li>Ports min polled period of 1 (#15472) - murrant</li> <li>Ports module: fix nulls not updating (#15467) - murrant</li> <li>Always create rrd folder on localhost (#15457) - murrant</li> <li>Fix port module wrong null (#15431) - murrant</li> <li>Fix an agent bug if a process ran more than 999 days (#15411) - murrant</li> <li>Type safety check (#15409) - murrant</li> <li>Add rewrites include for legacy modules (#15405) - murrant</li> <li>Fix last polled in wrong column (#15398) - murrant</li> <li>Fix last polled (#15396) - murrant</li> <li>Availability module fixes (#15369) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_7","title":"Bug","text":"<ul> <li>Add Wrong Type work around to snmp_get function (#15509) - peejaychilds</li> <li>Ospf metrics fix (#15508) - murrant</li> <li>IP::fromHexString handle ascii (#15504) - murrant</li> <li>Fix poller perf graph time (#15500) - murrant</li> <li>Fix auth_ad_url validation (#15487) - murrant</li> <li>Fix regression causing wall of ping latency (#15486) - fbouynot</li> <li>Fix Device ip address mutator (#15480) - murrant</li> <li>Fix Typo in FdbTablesController (#15477) - electrocret</li> <li>Allow inserting null values for sensors (#15470) - Jellyfrog</li> <li>Never set bgp and ports delta fields to unsigned (#15468) - murrant</li> <li>Error when device is not found (#15459) - murrant</li> <li>Restore _delta fields to signed (#15458) - murrant</li> <li>Change port and BGP stats fields to unsigned (#15449) - murrant</li> <li>Fix Top menu search on mobile respo (#15439) - qwerin</li> <li>Packages fixes (+pacman) (#15415) - murrant</li> <li>Fix bug in graphite (#15393) - murrant</li> <li>Fixing Private eBGP visualization, corrected 16bit ASN private range, added 32bit ASN range (#15357) - tim427</li> <li>Improve \"count\" graphs for F5OS (#15335) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#refactor_3","title":"Refactor","text":"<ul> <li>Refactor MAC utilities into a single class (#15379) - murrant</li> <li>Refactor discovery-protocols with SnmpQuery (#15324) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#cleanup_2","title":"Cleanup","text":"<ul> <li>ARP Discovery use MacHelper (#15479) - electrocret</li> <li>Ports ifPhysAddress use MAC helper (#15478) - murrant</li> <li>Module status cleanups (#15461) - murrant</li> <li>Use modern device attrib handling (#15429) - murrant</li> <li>Remove some lightly used or unused dbFacile functions (#15418) - murrant</li> <li>Misc fixes 42 (#15413) - murrant</li> <li>Remove snmp functions that are barely used (#15377) - murrant</li> <li>Remove legacy addhost code (#15376) - murrant</li> <li>Remove unused functions (#15371) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_7","title":"Documentation","text":"<ul> <li>Redirect old install docs (#15505) - murrant</li> <li>Update supported OS list (#15426) - Jellyfrog</li> <li>Documentation - Smokeping Integration in Centos - Update Smokeping.md (#15390) - CTV-2023</li> <li>Specify radius attributes for auth roles (#15374) - barryodonovan</li> <li>Add unzip to all install docs dependencies (#15354) - brointhemix</li> <li>Docs security secure session cookie (#15328) - murrant</li> <li>Stable release update clarification (#15326) - murrant</li> <li>Bird2 set timeformat protocols (#15292) - netravnen</li> </ul>"},{"location":"General/Changelog/#translation_3","title":"Translation","text":"<ul> <li>German and English typo correction (#15503) - Galileo77</li> <li>German translation corrected and some visual improvements added. (#15502) - Galileo77</li> <li>Missing device ip translation (#15465) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_2","title":"Tests","text":"<ul> <li>Exclude availability module from default testing (#15462) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_4","title":"Misc","text":"<ul> <li>Fixes check_dns against localhost when a search-domain is configured (#15373) - tim427</li> <li>Added extra ASN-range comments, added Priv eBGP on host details, changed color to light-blue instead of red (#15372) - tim427</li> </ul>"},{"location":"General/Changelog/#internal-features_2","title":"Internal Features","text":"<ul> <li>Add application metrics model and relationships (#15417) - murrant</li> <li>Error Reporting: Log instead of dump (#15412) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_6","title":"Dependencies","text":"<ul> <li>Bump @babel/traverse from 7.16.10 to 7.23.2 (#15473) - dependabot</li> <li>Bump postcss from 8.4.19 to 8.4.31 (#15380) - dependabot</li> <li>Bump composer/composer from 2.5.8 to 2.6.4 (#15364) - dependabot</li> </ul>"},{"location":"General/Changelog/#2390","title":"23.9.0","text":"<p>(2023-09-15)</p> <p>A big thank you to the following 16 contributors this last month:</p> <ul> <li>murrant (33)</li> <li>SourceDoctor (3)</li> <li>VVelox (3)</li> <li>eskyuu (2)</li> <li>PipoCanaja (2)</li> <li>MrMoCoDev (1)</li> <li>electrocret (1)</li> <li>Pelt10 (1)</li> <li>LoveSkylark (1)</li> <li>slashdoom (1)</li> <li>jepke (1)</li> <li>hanserasmus (1)</li> <li>adamsweet (1)</li> <li>fbourqui (1)</li> <li>fbouynot (1)</li> <li>Fehler12 (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (10)</li> <li>Jellyfrog (9)</li> <li>electrocret (8)</li> <li>PipoCanaja (3)</li> <li>VVelox (1)</li> <li>cltnoc (1)</li> <li>ottorei (1)</li> </ul>"},{"location":"General/Changelog/#feature_7","title":"Feature","text":"<ul> <li>Additional contact options for email transports (#15266) - murrant</li> <li>Implement RBAC (only built in roles) (#15212) - murrant</li> </ul>"},{"location":"General/Changelog/#security_4","title":"Security","text":"<ul> <li>Fix injection vulnerability in fdb search page (#15315) - murrant</li> <li>Fix injection vulnerability in ports pages (#15314) - murrant</li> <li>Fix another addcslashes incorrect escape in eventlog (#15313) - murrant</li> <li>Fix another injection in ipv4 search page (#15312) - murrant</li> <li>Fix injection in search pages ipv4, etc (#15311) - murrant</li> <li>Fix improperly escaped output in outages page (#15310) - murrant</li> </ul>"},{"location":"General/Changelog/#device_8","title":"Device","text":"<ul> <li>Fix smartos-dcp-m.yaml (#15295) - electrocret</li> <li>Use mtxrGaugeTable instead of mtxrHealthGroup (#15289) - murrant</li> <li>Added support for Nutanix VM count, disk state, CPU usage and RAM usage (#15252) - eskyuu</li> <li>Initial support for f5os (#15241) - fbouynot</li> </ul>"},{"location":"General/Changelog/#webui_7","title":"Webui","text":"<ul> <li>Fix login page HTML (#15321) - murrant</li> <li>Fix device display name in top interfaces widget (#15319) - murrant</li> <li>Timezone, fix user set no timezone (#15296) - murrant</li> <li>Availability Map: Show ignored device up when up (#15283) - SourceDoctor</li> <li>Custom ssh,telnet port with oxidized (#15255) - jepke</li> <li>WebUI Services, generate more compact table (#15243) - fbourqui</li> <li>Added empty string check (#15235) - Fehler12</li> <li>Use full name for vendor_oui (#15234) - PipoCanaja</li> <li>Add global NAC page (#15228) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#alerting_5","title":"Alerting","text":"<ul> <li>Fix error when mail-contact is missing (#15305) - murrant</li> <li>Hide token, keys and passwords in Transports (#15274) - LoveSkylark</li> </ul>"},{"location":"General/Changelog/#applications_6","title":"Applications","text":"<ul> <li>For the applications table set the defaults for app_instance and app_instance to '' (#15278) - VVelox</li> <li>Application Soft Delete (#15270) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_6","title":"Api","text":"<ul> <li>Allow port search API to search ifAlias again (#15320) - murrant</li> <li>Fix API availability graph duration (#15250) - murrant</li> </ul>"},{"location":"General/Changelog/#settings_3","title":"Settings","text":"<ul> <li>Add ui description for reporting dump_errors (#15264) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_2","title":"Polling","text":"<ul> <li>Fix port ifAlias polling (#15279) - murrant</li> <li>Fix ifSpeed override not being applied (#15237) - murrant</li> </ul>"},{"location":"General/Changelog/#authentication_2","title":"Authentication","text":"<ul> <li>ADAuthorizer auth skip count entry (#15322) - murrant</li> <li>Radius enforce roles (#15294) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_8","title":"Bug","text":"<ul> <li>FIX TP-Link JetStream 3.0.0 Build 20180511 Rel.36491(s) T1500-28PCT 3.0 (#15318) - MrMoCoDev</li> <li>Fix issue with rrdcached application and bad input (#15301) - murrant</li> <li>Fix .env quoting issue (#15298) - murrant</li> <li>Fix typo in default mibs for SnmpQuery (#15297) - murrant</li> <li>Readd missing key (#15291) - SourceDoctor</li> <li>Fix missing keys for new status (#15284) - SourceDoctor</li> <li>Revert \"Added empty string check\" (#15249) - murrant</li> <li>Fix manual port speed storage (#15238) - murrant</li> <li>Make the service template controller re-evaluate dynamic membership when apply all button is pushed (#15214) - eskyuu</li> </ul>"},{"location":"General/Changelog/#cleanup_3","title":"Cleanup","text":"<ul> <li>Return an 5XX error when an exception is raise (#15285) - Pelt10</li> </ul>"},{"location":"General/Changelog/#documentation_8","title":"Documentation","text":"<ul> <li>Note the package install command for dhcpd-pools for FreeBSD (#15247) - VVelox</li> <li>Update severity colours in SNMP-Traps.md (#15244) - adamsweet</li> </ul>"},{"location":"General/Changelog/#misc_5","title":"Misc","text":"<ul> <li>Another OR statement in GrayLog API (#15246) - hanserasmus</li> <li>Dispatcher option to log output (#15230) - murrant</li> </ul>"},{"location":"General/Changelog/#2380","title":"23.8.0","text":"<p>(2023-08-19)</p> <p>A big thank you to the following 32 contributors this last month:</p> <ul> <li>murrant (31)</li> <li>VVelox (5)</li> <li>Jellyfrog (4)</li> <li>electrocret (4)</li> <li>santiag0z (3)</li> <li>laf (3)</li> <li>viptampa (3)</li> <li>arjenz (2)</li> <li>knpo (1)</li> <li>WhiteyDude (1)</li> <li>jacobw (1)</li> <li>jepke (1)</li> <li>sjtarik (1)</li> <li>pjordanovic (1)</li> <li>Schouwenburg (1)</li> <li>eggbeater98 (1)</li> <li>i4networks (1)</li> <li>fbourqui (1)</li> <li>hirose003 (1)</li> <li>richard-ririe (1)</li> <li>robje (1)</li> <li>peejaychilds (1)</li> <li>bonzo81 (1)</li> <li>slashdoom (1)</li> <li>eskyuu (1)</li> <li>j796160836 (1)</li> <li>TheMysteriousX (1)</li> <li>VirTechSystems (1)</li> <li>fufroma (1)</li> <li>zappiehost (1)</li> <li>jgelinas (1)</li> <li>mwobst (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (26)</li> <li>Jellyfrog (25)</li> <li>electrocret (23)</li> <li>PipoCanaja (3)</li> <li>laf (2)</li> <li>VVelox (2)</li> <li>ottorei (1)</li> <li>streamthing (1)</li> </ul>"},{"location":"General/Changelog/#feature_8","title":"Feature","text":"<ul> <li>Add FDB table vendor search drop down (#15072) - bonzo81</li> <li>Port_error_perc macro (#15016) - electrocret</li> </ul>"},{"location":"General/Changelog/#security_5","title":"Security","text":"<ul> <li>Fix unsanitized input injection (#15184) - murrant</li> <li>Fix some xss injection for sysLocation and some other fields (#15183) - murrant</li> </ul>"},{"location":"General/Changelog/#device_9","title":"Device","text":"<ul> <li>Fix version comparison for RouterOS (#15227) - knpo</li> <li>Netscaler, don't use 0 divisor (#15204) - murrant</li> <li>Update Alpine Linux logos to SVG (#15185) - murrant</li> <li>APC new sensors and fix (#15179) - jepke</li> <li>Add SHARP BP series of devices (#15169) - pjordanovic</li> <li>Fix Timos SAR Cellular RSRP and RSSI sensors (#15163) - Schouwenburg</li> <li>Update bgp-peers.inc.php for timos (#15154) - i4networks</li> <li>Fortigate ipv6 ipsec (#15150) - fbourqui</li> <li>Add Calix E7 (EXA) PON port sensors (#15145) - murrant</li> <li>Add os check in discovery for aix/freenas storage and cisco cdp (#15104) - peejaychilds</li> <li>Add VLAN Discovery for arubaos-cx (#15055) - slashdoom</li> <li>Openmanage enterprise modular (#14408) - jgelinas</li> </ul>"},{"location":"General/Changelog/#webui_8","title":"Webui","text":"<ul> <li>Fixed CSS error causing generic image widgets not to do height correctly (#15220) - WhiteyDude</li> <li>Fix error when there is an untranslated sensor type (#15176) - murrant</li> <li>Fix select2 search field focus (#15171) - murrant</li> <li>Update text color in dark.css (#15155) - eggbeater98</li> </ul>"},{"location":"General/Changelog/#alerting_6","title":"Alerting","text":"<ul> <li>Discord Transport user configurable embed fields (#15068) - murrant</li> <li>Implement LINE Messaging API (#14867) - j796160836</li> </ul>"},{"location":"General/Changelog/#graphs_5","title":"Graphs","text":"<ul> <li>Fix Memmory spelling (#15231) - arjenz</li> <li>Add generic stats graph munging support and make uptime display as days again (#15097) - VVelox</li> </ul>"},{"location":"General/Changelog/#applications_7","title":"Applications","text":"<ul> <li>Add the Mojo CAPE Submit app (#15140) - VVelox</li> <li>Logsize monitoring for LibreNMS (#15137) - VVelox</li> <li>Update SMART monitoring to the use JSON (#15132) - VVelox</li> <li>Add a flag for adding app data to tests generated via scripts/json-app-tool.php (#15080) - VVelox</li> <li>Add BIRD2 BGP Peers application support (#14466) - zappiehost</li> </ul>"},{"location":"General/Changelog/#billing_1","title":"Billing","text":"<ul> <li>Fixed a zero value data insertion for billing (#15194) - laf</li> <li>Updated poll-billing.php to only query for data via snmp when the device and port are both up (#15164) - laf</li> <li>Added basic support for distributing billing (#15156) - laf</li> </ul>"},{"location":"General/Changelog/#api_7","title":"Api","text":"<ul> <li>Add API endpoint to get service graphs (#15138) - richard-ririe</li> <li>API get_location (#14779) - VirTechSystems</li> </ul>"},{"location":"General/Changelog/#discovery_4","title":"Discovery","text":"<ul> <li>Always mark device last_discovered (#15218) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_3","title":"Polling","text":"<ul> <li>Allow dispatcher service master timeout to be set (#15161) - murrant</li> <li>Fix fping 4.0+ prefers IPv6 (#14825) - TheMysteriousX</li> <li>Add module support for wrapper script calls (#14055) - mwobst</li> </ul>"},{"location":"General/Changelog/#authentication_3","title":"Authentication","text":"<ul> <li>Remove user_id cast to int (#15205) - jacobw</li> </ul>"},{"location":"General/Changelog/#bug_9","title":"Bug","text":"<ul> <li>Print a useful error if logfile is not writable (#15233) - murrant</li> <li>Make the installer use the schema dump (#15211) - Jellyfrog</li> <li>Change leaflet.default_zoom to Float (#15207) - electrocret</li> <li>Handle empty dbSchema table (#15198) - murrant</li> <li>Fix timezone controller bad return (#15191) - murrant</li> <li>Graylog API properly throw errors (#15188) - murrant</li> <li>Fixing the mac/vendor database download from wireshark, updated file \u2026 (#15175) - sjtarik</li> <li>Fix alert.macros.rule (#15172) - electrocret</li> <li>Miscellaneous fixes (#15162) - murrant</li> <li>Change display query of list_devices to pattern match (#15147) - hirose003</li> <li>Change rrd_prune find command to exlcude <code>.gitignore</code> (#15134) - robje</li> <li>Apply service templates on a per-device basis (#15024) - eskyuu</li> <li>RFC1628 - Force cast on some values before doing arithmetic (#14613) - fufroma</li> </ul>"},{"location":"General/Changelog/#refactor_4","title":"Refactor","text":"<ul> <li>Fix sensor discovery fetch issue (#15193) - murrant</li> <li>MAC Vendor OUI use scheduler (#15187) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_4","title":"Cleanup","text":"<ul> <li>Misc fixes 2 (#15190) - murrant</li> <li>Severity Enum (#14620) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_9","title":"Documentation","text":"<ul> <li>[DOC] Added social links in footer (#15195) - santiag0z</li> <li>OS discovery clarification (#15182) - murrant</li> <li>[DOC] Remove ~$ from BIND9 code block aka named (#15181) - santiag0z</li> <li>Fix settings titles in dark mode (#15174) - murrant</li> <li>Update Routeros.md (#15165) - viptampa</li> <li>Update Routeros.md (#15160) - viptampa</li> <li>RouterOS Vlan agent script clarification (#15158) - viptampa</li> <li>Fix bad link in Install-LibreNMS.md (#15152) - arjenz</li> </ul>"},{"location":"General/Changelog/#tests_3","title":"Tests","text":"<ul> <li>Only dump snmp logs on failure (#15200) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_6","title":"Misc","text":"<ul> <li>Use Laravel schema migration command directly (#14039) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#internal-features_3","title":"Internal Features","text":"<ul> <li>Set mibs explicitly in SnmpQuery (#15199) - murrant</li> <li>Editor yaml indent fine tuning (#15189) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_7","title":"Dependencies","text":"<ul> <li>Update composer dependencies (#15167) - Jellyfrog</li> <li>Update Ziggy (#15151) - murrant</li> <li>Dependency Updates (#15149) - murrant</li> </ul>"},{"location":"General/Changelog/#2370","title":"23.7.0","text":"<p>(2023-07-16)</p> <p>A big thank you to the following 19 contributors this last month:</p> <ul> <li>peejaychilds (4)</li> <li>tuxgasy (3)</li> <li>murrant (3)</li> <li>jepke (2)</li> <li>VVelox (2)</li> <li>laf (1)</li> <li>PipoCanaja (1)</li> <li>eggbeater98 (1)</li> <li>illogik (1)</li> <li>elianmanzueta (1)</li> <li>peelman (1)</li> <li>Blinq-SanderBlom (1)</li> <li>vincent5753 (1)</li> <li>electrocret (1)</li> <li>mtentilucci (1)</li> <li>edgesite (1)</li> <li>davromaniak (1)</li> <li>TheMysteriousX (1)</li> <li>sjtarik (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (12)</li> <li>electrocret (6)</li> <li>Jellyfrog (6)</li> <li>ottorei (4)</li> <li>laf (3)</li> <li>PipoCanaja (1)</li> <li>FadhliRais (1)</li> <li>VVelox (1)</li> <li>PJGuyTen (1)</li> </ul>"},{"location":"General/Changelog/#device_10","title":"Device","text":"<ul> <li>Fix MPLS Tab Display for Nokia devices using LDP and not RSVP (#15128) - peelman</li> <li>Change state value for unplugged linecard (#15126) - Blinq-SanderBlom</li> <li>Convert several JunOS sensors to yaml (#15118) - murrant</li> <li>Update Trellix NSP discovery (#15117) - mtentilucci</li> <li>APC new sensors (#15090) - jepke</li> <li>Add regex for Supermicro switches running firmware 2.0 or newer, now called \"SuperSwitch\" (#15083) - davromaniak</li> <li>Add support for PrimeKey Software Appliance (#15059) - TheMysteriousX</li> </ul>"},{"location":"General/Changelog/#webui_9","title":"Webui","text":"<ul> <li>Update Dark theme for readability on availability map (#15141) - eggbeater98</li> <li>Add Oxidized search clarification (#15124) - electrocret</li> <li>Sort port by interface name while list ports. (#15093) - edgesite</li> </ul>"},{"location":"General/Changelog/#alerting_7","title":"Alerting","text":"<ul> <li>Alert transport slack config fixes (#15131) - illogik</li> <li>Transport Messagebird voice message API (#15115) - jepke</li> </ul>"},{"location":"General/Changelog/#applications_8","title":"Applications","text":"<ul> <li>Add Privoxy stats support (#15114) - VVelox</li> <li>Add Suricata Extract submission stats app (#15105) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_8","title":"Api","text":"<ul> <li>Adding human readable version of /api/v0/fdb/{mac}/detail (#15045) - sjtarik</li> </ul>"},{"location":"General/Changelog/#discovery_5","title":"Discovery","text":"<ul> <li>Fix bogus reply from snmpwalk in ipNetToPhysicalPhysAddress (#15142) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#polling_4","title":"Polling","text":"<ul> <li>Fix for hrStorageIndex agility (#15028) - peejaychilds</li> </ul>"},{"location":"General/Changelog/#bug_10","title":"Bug","text":"<ul> <li>Skip hostnames which are blank when generating the smokeping config (#15144) - laf</li> <li>Change chunk to chunkById (#15139) - peejaychilds</li> <li>Use lock ports_purge in ports_purge rather than syslog_purge lock (#15135) - peejaychilds</li> <li>Fix validation: memcached required only if it is configured in .env (#15122) - tuxgasy</li> <li>Exit non-zero if composer bin not found (#15120) - tuxgasy</li> </ul>"},{"location":"General/Changelog/#documentation_10","title":"Documentation","text":"<ul> <li>Update openwrt doc following PR #15096 (#15119) - tuxgasy</li> </ul>"},{"location":"General/Changelog/#translation_4","title":"Translation","text":"<ul> <li>Fix typo in delhost.inc.php (#15130) - elianmanzueta</li> <li>Added missing zh-tw translation. (#15125) - vincent5753</li> </ul>"},{"location":"General/Changelog/#internal-features_4","title":"Internal Features","text":"<ul> <li>Yaml value filling improvements (#15116) - murrant</li> </ul>"},{"location":"General/Changelog/#2360","title":"23.6.0","text":"<p>(2023-06-23)</p> <p>A big thank you to the following 14 contributors this last month:</p> <ul> <li>VVelox (4)</li> <li>Jellyfrog (4)</li> <li>murrant (2)</li> <li>si458 (1)</li> <li>netravnen (1)</li> <li>tuxgasy (1)</li> <li>jepke (1)</li> <li>ajsiersema (1)</li> <li>wrongecho (1)</li> <li>peejaychilds (1)</li> <li>tim427 (1)</li> <li>kg6uyz (1)</li> <li>d-k-7 (1)</li> <li>electrocret (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (9)</li> <li>murrant (6)</li> <li>electrocret (4)</li> <li>ottorei (2)</li> </ul>"},{"location":"General/Changelog/#feature_9","title":"Feature","text":"<ul> <li>Alert transport cleanup, no_proxy support and other proxy cleanups (#14763) - murrant</li> </ul>"},{"location":"General/Changelog/#device_11","title":"Device","text":"<ul> <li>Improve OpenWRT detection (#15096) - tuxgasy</li> <li>TEG-S50ES and TPE-P521ES device detection (#15052) - kg6uyz</li> <li>Add sensor support for cefcModuleOperStatus (#15026) - d-k-7</li> <li>Extend Avocent Support (#14914) - electrocret</li> </ul>"},{"location":"General/Changelog/#alerting_8","title":"Alerting","text":"<ul> <li>Messagebird transport (#15079) - jepke</li> <li>Remove asterisk from recurring input (#15074) - wrongecho</li> <li>Fix syslog transport output format (#15070) - peejaychilds</li> <li>Fixed Markdown/Parse mode for Telegram (#15066) - tim427</li> </ul>"},{"location":"General/Changelog/#applications_9","title":"Applications","text":"<ul> <li>Add ZFS L2 support (#15095) - VVelox</li> <li>Add Linux Softnet Stat app (#15094) - VVelox</li> <li>Add Sneck support, making it very trivial to use Nagios style checks in a NRPE like manner (#13954) - VVelox</li> </ul>"},{"location":"General/Changelog/#bug_11","title":"Bug","text":"<ul> <li>Fixes #14975 Services in Device Groups not displayed correctly in Availability widget (#15076) - ajsiersema</li> <li>Fix Dusk tests after 13626 (#15057) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#cleanup_5","title":"Cleanup","text":"<ul> <li>Add AllowDynamicProperties to DynamicConfigItem (#15058) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_11","title":"Documentation","text":"<ul> <li>Add archlinux example (#15113) - si458</li> <li>Fix minor typo in Applications.md (#15111) - VVelox</li> </ul>"},{"location":"General/Changelog/#mibs_4","title":"Mibs","text":"<ul> <li>Update MIKROTIK-MIB to v7.10 release (#15110) - netravnen</li> </ul>"},{"location":"General/Changelog/#dependencies_8","title":"Dependencies","text":"<ul> <li>Laravel 10.x Shift (#14995) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2350","title":"23.5.0","text":"<p>(2023-05-19)</p> <p>A big thank you to the following 37 contributors this last month:</p> <ul> <li>murrant (29)</li> <li>Jellyfrog (6)</li> <li>mtentilucci (5)</li> <li>peelman (4)</li> <li>electrocret (4)</li> <li>laf (3)</li> <li>cjsoftuk (3)</li> <li>alchemyx (2)</li> <li>Bierchermuesli (2)</li> <li>bakerds (2)</li> <li>mpikzink (2)</li> <li>TheMysteriousX (2)</li> <li>QuadPiece (1)</li> <li>elipsion (1)</li> <li>etiennewan (1)</li> <li>jlo-lirmm (1)</li> <li>dscw (1)</li> <li>fbouynot (1)</li> <li>santiag0z (1)</li> <li>dependabot (1)</li> <li>VoipTelCH (1)</li> <li>otkd (1)</li> <li>ajsiersema (1)</li> <li>JStandiford (1)</li> <li>PipoCanaja (1)</li> <li>arjenz (1)</li> <li>maticomba (1)</li> <li>SourceDoctor (1)</li> <li>pjroehl (1)</li> <li>cjwbath (1)</li> <li>MajesticFalcon (1)</li> <li>bnerickson (1)</li> <li>bestlong (1)</li> <li>Olen (1)</li> <li>mboehn (1)</li> <li>ollb (1)</li> <li>eskyuu (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (47)</li> <li>electrocret (18)</li> <li>Jellyfrog (16)</li> <li>ottorei (1)</li> <li>PipoCanaja (1)</li> <li>JohnnyBBravo (1)</li> </ul>"},{"location":"General/Changelog/#feature_10","title":"Feature","text":"<ul> <li>Set focus to Global Search on Ctrl-F (#14947) - Bierchermuesli</li> <li>Add link to hosts mgmt (ipmi) interface (#14905) - mpikzink</li> <li>Implement authentication for Redis/Sentinel (#14805) - TheMysteriousX</li> </ul>"},{"location":"General/Changelog/#security_6","title":"Security","text":"<ul> <li>Convert the inventory page to Laravel (#15004) - murrant</li> </ul>"},{"location":"General/Changelog/#device_12","title":"Device","text":"<ul> <li>Add RoomAlert 12E Switch Sensors, fix Humidity Sensor (#15049) - peelman</li> <li>Fix WISI over graphs (#15040) - peelman</li> <li>Fix inventory display for Calix AXOS devices (#15039) - peelman</li> <li>Map GPS lat and lon to os module (#15033) - QuadPiece</li> <li>Firebrick CPU Monitoring (#15030) - cjsoftuk</li> <li>Fix Firebrick mempool polling (#15022) - cjsoftuk</li> <li>Add support for memory monitoring on Firebrick platform (#15021) - cjsoftuk</li> <li>Fix vsolution discovery yaml (#14970) - murrant</li> <li>Fix tait tnadmin processors (#14969) - murrant</li> <li>Fix Raisecom Processor (#14968) - murrant</li> <li>Fix Raisecom ROS processor collection (#14966) - murrant</li> <li>Add support for Trellix ATD devices (#14965) - mtentilucci</li> <li>Add support for Trellix NSP devices (#14964) - mtentilucci</li> <li>Cisco QFP polling fixes (#14961) - Bierchermuesli</li> <li>Add version, hardware and serial collection (#14956) - JStandiford</li> <li>Add Rubrik Discovery (#14951) - mtentilucci</li> <li>Add Nutanix AOS discovery (#14950) - mtentilucci</li> <li>RouterOS runtime quirk on first discovery (#14945) - murrant</li> <li>Added sensor support for older APC InfraStruXure PDUs (#14944) - bakerds</li> <li>Expand discovery of gigavue os (#14933) - mtentilucci</li> <li>Add discovery of NVT Phybridge FLEX24 (#14913) - pjroehl</li> <li>Add initial OS detection for LoadBalancer.org (#14902) - cjwbath</li> <li>Added graphing of DDoS-protection related OIDs for PAN-OS (#14847) - bakerds</li> <li>Add support for Alpha CXC HP Controller (#14829) - MajesticFalcon</li> <li>Change ESXi port naming to be stable (#14639) - TheMysteriousX</li> <li>Add advantech icr-os for advantech routers (#14171) - mboehn</li> <li>Fix cisco dbm sensors port link on discovery (NCS55A2) (#13965) - ollb</li> </ul>"},{"location":"General/Changelog/#webui_10","title":"Webui","text":"<ul> <li>Ondemand popup graphs (#15050) - murrant</li> <li>Add a global setting for Ctrl-F focus (improve #14947) (#15023) - etiennewan</li> <li>[About] Link to LinkedIn (#14991) - santiag0z</li> <li>Clarify Alert Notify Settings (#14974) - electrocret</li> <li>Fix Legacy vars Processing (#14967) - murrant</li> <li>Correct PowerConsumed SI Units in Overview (#14425) - mpikzink</li> <li>Added support for user timezones and user browser timezone by default (incomplete) (#13626) - eskyuu</li> </ul>"},{"location":"General/Changelog/#alerting_9","title":"Alerting","text":"<ul> <li>Fix undefined array key (#15025) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#graphs_6","title":"Graphs","text":"<ul> <li>Php implode arg mismatch (#15014) - jlo-lirmm</li> <li>Fix availability graphs to 100% (#15013) - laf</li> <li>Fix scale_rigid accidentally being set to false (#14992) - murrant</li> <li>Set device ping_perf scale_min to 0 (#14989) - murrant</li> <li>Poller perf: add per device average (#14940) - murrant</li> <li>Stacked graphs on zoom to speed (#14928) - electrocret</li> </ul>"},{"location":"General/Changelog/#applications_10","title":"Applications","text":"<ul> <li>Adding linux_config_files application support (#14776) - bnerickson</li> <li>Agent support OS Updates (#14687) - bestlong</li> </ul>"},{"location":"General/Changelog/#api_9","title":"Api","text":"<ul> <li>Allow device ignore to be set via API (#14985) - electrocret</li> <li>Enable disabling a device via api (#14983) - VoipTelCH</li> </ul>"},{"location":"General/Changelog/#discovery_6","title":"Discovery","text":"<ul> <li>Snmp-scan filter for dns resolved devices (#14934) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#polling_5","title":"Polling","text":"<ul> <li>Fixes #14957 missing IPv6 BGP peers (#14959) - ajsiersema</li> <li>Fix SnmpQuery and max_oid (#14955) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_12","title":"Bug","text":"<ul> <li>Fix timetaken columns too small (#15042) - murrant</li> <li>Fix some undefined constants (#14993) - murrant</li> <li>Fix routes after Laravel9 (#14977) - Jellyfrog</li> <li>Fix more divide by zero issues (#14954) - murrant</li> <li>Bug - wrong type in ports.inc.php (#14952) - PipoCanaja</li> <li>Solves error in discovering services module (#14939) - maticomba</li> <li>Ensure irc fifo-file is shared between dispatcher and core containers (#14647) - Olen</li> </ul>"},{"location":"General/Changelog/#refactor_5","title":"Refactor","text":"<ul> <li>Add a validation for checking if the scheduler is running (#14987) - Jellyfrog</li> <li>Refactor billing (#14979) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_6","title":"Cleanup","text":"<ul> <li>Remove old unused adduser page and script (#15035) - murrant</li> <li>Adopt anonymous migrations (#15005) - Jellyfrog</li> <li>Remove unused port fields (#14963) - murrant</li> <li>Cleanup enable bgp setting (#14931) - electrocret</li> </ul>"},{"location":"General/Changelog/#documentation_12","title":"Documentation","text":"<ul> <li>Re-add the Ubuntu Image page and links (#15041) - laf</li> <li>Remove references to VM images (#15031) - murrant</li> <li>Updated WebUI config options in docs to support direct linking to installs (#15009) - laf</li> <li>Fix spelling error in Graylog section (#15002) - dscw</li> <li>Update OAuth-SAML.md to prevent http code 419 error (#15000) - fbouynot</li> <li>Update Smokeping.md with better nginx config instructions (#14999) - alchemyx</li> <li>Update Copyright year to 2023 in README.md (#14972) - otkd</li> <li>Update Install-LibreNMS.md (#14949) - alchemyx</li> </ul>"},{"location":"General/Changelog/#tests_4","title":"Tests","text":"<ul> <li>Reduce OS module test noise (#15046) - murrant</li> <li>Test PHP 8.2 and MariaDB 10.11 (#15007) - murrant</li> <li>Slightly better OS module test output (#15001) - murrant</li> <li>Fix a bug when creating test data; if a community contained the strin\u2026 (#14739) - peelman</li> </ul>"},{"location":"General/Changelog/#mibs_5","title":"Mibs","text":"<ul> <li>Bump VMware MIBs (#15029) - elipsion</li> </ul>"},{"location":"General/Changelog/#dependencies_9","title":"Dependencies","text":"<ul> <li>Bump guzzlehttp/psr7 from 2.4.4 to 2.5.0 (#14986) - dependabot</li> <li>Laravel 9.x Shift (#14504) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2350_1","title":"23.5.0","text":"<p>(2023-05-19)</p> <p>A big thank you to the following 37 contributors this last month:</p> <ul> <li>murrant (29)</li> <li>Jellyfrog (6)</li> <li>mtentilucci (5)</li> <li>peelman (4)</li> <li>electrocret (4)</li> <li>laf (3)</li> <li>cjsoftuk (3)</li> <li>alchemyx (2)</li> <li>Bierchermuesli (2)</li> <li>bakerds (2)</li> <li>mpikzink (2)</li> <li>TheMysteriousX (2)</li> <li>QuadPiece (1)</li> <li>elipsion (1)</li> <li>etiennewan (1)</li> <li>jlo-lirmm (1)</li> <li>dscw (1)</li> <li>fbouynot (1)</li> <li>santiag0z (1)</li> <li>dependabot (1)</li> <li>VoipTelCH (1)</li> <li>otkd (1)</li> <li>ajsiersema (1)</li> <li>JStandiford (1)</li> <li>PipoCanaja (1)</li> <li>arjenz (1)</li> <li>maticomba (1)</li> <li>SourceDoctor (1)</li> <li>pjroehl (1)</li> <li>cjwbath (1)</li> <li>MajesticFalcon (1)</li> <li>bnerickson (1)</li> <li>bestlong (1)</li> <li>Olen (1)</li> <li>mboehn (1)</li> <li>ollb (1)</li> <li>eskyuu (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (47)</li> <li>electrocret (18)</li> <li>Jellyfrog (16)</li> <li>ottorei (1)</li> <li>PipoCanaja (1)</li> <li>JohnnyBBravo (1)</li> </ul>"},{"location":"General/Changelog/#feature_11","title":"Feature","text":"<ul> <li>Set focus to Global Search on Ctrl-F (#14947) - Bierchermuesli</li> <li>Add link to hosts mgmt (ipmi) interface (#14905) - mpikzink</li> </ul>"},{"location":"General/Changelog/#security_7","title":"Security","text":"<ul> <li>Convert the inventory page to Laravel (#15004) - murrant</li> </ul>"},{"location":"General/Changelog/#device_13","title":"Device","text":"<ul> <li>Add RoomAlert 12E Switch Sensors, fix Humidity Sensor (#15049) - peelman</li> <li>Fix WISI over graphs (#15040) - peelman</li> <li>Fix inventory display for Calix AXOS devices (#15039) - peelman</li> <li>Map GPS lat and lon to os module (#15033) - QuadPiece</li> <li>Fix vsolution discovery yaml (#14970) - murrant</li> <li>Fix tait tnadmin processors (#14969) - murrant</li> <li>Fix Raisecom Processor (#14968) - murrant</li> <li>Fix Raisecom ROS processor collection (#14966) - murrant</li> <li>Add support for Trellix ATD devices (#14965) - mtentilucci</li> <li>Add support for Trellix NSP devices (#14964) - mtentilucci</li> <li>Cisco QFP polling fixes (#14961) - Bierchermuesli</li> <li>Add version, hardware and serial collection (#14956) - JStandiford</li> <li>Add Rubrik Discovery (#14951) - mtentilucci</li> <li>Add Nutanix AOS discovery (#14950) - mtentilucci</li> <li>RouterOS runtime quirk on first discovery (#14945) - murrant</li> <li>Added sensor support for older APC InfraStruXure PDUs (#14944) - bakerds</li> <li>Expand discovery of gigavue os (#14933) - mtentilucci</li> <li>Add discovery of NVT Phybridge FLEX24 (#14913) - pjroehl</li> <li>Add initial OS detection for LoadBalancer.org (#14902) - cjwbath</li> <li>Added graphing of DDoS-protection related OIDs for PAN-OS (#14847) - bakerds</li> <li>Add support for Alpha CXC HP Controller (#14829) - MajesticFalcon</li> <li>Add advantech icr-os for advantech routers (#14171) - mboehn</li> <li>Fix cisco dbm sensors port link on discovery (NCS55A2) (#13965) - ollb</li> </ul>"},{"location":"General/Changelog/#webui_11","title":"Webui","text":"<ul> <li>Ondemand popup graphs (#15050) - murrant</li> <li>Clarify Alert Notify Settings (#14974) - electrocret</li> <li>Fix Legacy vars Processing (#14967) - murrant</li> <li>Correct PowerConsumed SI Units in Overview (#14425) - mpikzink</li> <li>Added support for user timezones and user browser timezone by default (incomplete) (#13626) - eskyuu</li> </ul>"},{"location":"General/Changelog/#alerting_10","title":"Alerting","text":"<ul> <li>Fix undefined array key (#15025) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#graphs_7","title":"Graphs","text":"<ul> <li>Php implode arg mismatch (#15014) - jlo-lirmm</li> <li>Fix availability graphs to 100% (#15013) - laf</li> <li>Fix scale_rigid accidentally being set to false (#14992) - murrant</li> <li>Set device ping_perf scale_min to 0 (#14989) - murrant</li> <li>Poller perf: add per device average (#14940) - murrant</li> <li>Stacked graphs on zoom to speed (#14928) - electrocret</li> </ul>"},{"location":"General/Changelog/#applications_11","title":"Applications","text":"<ul> <li>Agent support OS Updates (#14687) - bestlong</li> </ul>"},{"location":"General/Changelog/#api_10","title":"Api","text":"<ul> <li>Allow device ignore to be set via API (#14985) - electrocret</li> <li>Enable disabling a device via api (#14983) - VoipTelCH</li> </ul>"},{"location":"General/Changelog/#discovery_7","title":"Discovery","text":"<ul> <li>Snmp-scan filter for dns resolved devices (#14934) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#polling_6","title":"Polling","text":"<ul> <li>Fixes #14957 missing IPv6 BGP peers (#14959) - ajsiersema</li> <li>Fix SnmpQuery and max_oid (#14955) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_13","title":"Bug","text":"<ul> <li>Fix timetaken columns too small (#15042) - murrant</li> <li>Fix some undefined constants (#14993) - murrant</li> <li>Fix routes after Laravel9 (#14977) - Jellyfrog</li> <li>Fix more divide by zero issues (#14954) - murrant</li> <li>Bug - wrong type in ports.inc.php (#14952) - PipoCanaja</li> <li>Solves error in discovering services module (#14939) - maticomba</li> </ul>"},{"location":"General/Changelog/#refactor_6","title":"Refactor","text":"<ul> <li>Add a validation for checking if the scheduler is running (#14987) - Jellyfrog</li> <li>Refactor billing (#14979) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_7","title":"Cleanup","text":"<ul> <li>Remove old unused adduser page and script (#15035) - murrant</li> <li>Remove unused port fields (#14963) - murrant</li> <li>Cleanup enable bgp setting (#14931) - electrocret</li> </ul>"},{"location":"General/Changelog/#documentation_13","title":"Documentation","text":"<ul> <li>Re-add the Ubuntu Image page and links (#15041) - laf</li> <li>Remove references to VM images (#15031) - murrant</li> <li>Updated WebUI config options in docs to support direct linking to installs (#15009) - laf</li> <li>Fix spelling error in Graylog section (#15002) - dscw</li> <li>Update OAuth-SAML.md to prevent http code 419 error (#15000) - fbouynot</li> <li>Update Smokeping.md with better nginx config instructions (#14999) - alchemyx</li> <li>Update Copyright year to 2023 in README.md (#14972) - otkd</li> <li>Update Install-LibreNMS.md (#14949) - alchemyx</li> </ul>"},{"location":"General/Changelog/#tests_5","title":"Tests","text":"<ul> <li>Reduce OS module test noise (#15046) - murrant</li> <li>Test PHP 8.2 and MariaDB 10.11 (#15007) - murrant</li> <li>Slightly better OS module test output (#15001) - murrant</li> <li>Fix a bug when creating test data; if a community contained the strin\u2026 (#14739) - peelman</li> </ul>"},{"location":"General/Changelog/#misc_7","title":"Misc","text":"<ul> <li>Firebrick CPU Monitoring (#15030) - cjsoftuk</li> <li>Add a global setting for Ctrl-F focus (improve #14947) (#15023) - etiennewan</li> <li>Fix Firebrick mempool polling (#15022) - cjsoftuk</li> <li>Add support for memory monitoring on Firebrick platform (#15021) - cjsoftuk</li> <li>Adopt anonymous migrations (#15005) - Jellyfrog</li> <li>[About] Link to LinkedIn (#14991) - santiag0z</li> <li>Implement authentication for Redis/Sentinel (#14805) - TheMysteriousX</li> <li>Adding linux_config_files application support (#14776) - bnerickson</li> <li>Ensure irc fifo-file is shared between dispatcher and core containers (#14647) - Olen</li> <li>Change ESXi port naming to be stable (#14639) - TheMysteriousX</li> <li>Laravel 9.x Shift (#14504) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#mibs_6","title":"Mibs","text":"<ul> <li>Bump VMware MIBs (#15029) - elipsion</li> </ul>"},{"location":"General/Changelog/#dependencies_10","title":"Dependencies","text":"<ul> <li>Bump guzzlehttp/psr7 from 2.4.4 to 2.5.0 (#14986) - dependabot</li> </ul>"},{"location":"General/Changelog/#2340","title":"23.4.0","text":"<p>(2023-04-06)</p> <p>A big thank you to the following 25 contributors this last month:</p> <ul> <li>electrocret (8)</li> <li>VVelox (6)</li> <li>Jellyfrog (5)</li> <li>mtentilucci (4)</li> <li>Bierchermuesli (3)</li> <li>murrant (2)</li> <li>GeantRA (2)</li> <li>mwobst (2)</li> <li>dependabot (2)</li> <li>not-known (2)</li> <li>torbeckattsp (1)</li> <li>d-k-7 (1)</li> <li>arjenz (1)</li> <li>kirk444 (1)</li> <li>robje (1)</li> <li>pjroehl (1)</li> <li>peejaychilds (1)</li> <li>lukeofthetauri (1)</li> <li>fbouynot (1)</li> <li>bakerds (1)</li> <li>westerterp (1)</li> <li>peelman (1)</li> <li>jellejans (1)</li> <li>LoveSkylark (1)</li> <li>hvanoch (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (31)</li> <li>murrant (14)</li> <li>ottorei (6)</li> <li>electrocret (3)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#feature_12","title":"Feature","text":"<ul> <li>Indicator on Port Notes tab when Port has notes (#14923) - electrocret</li> <li>Syslog sink over http for logstash (or any json source) (#14424) - Bierchermuesli</li> </ul>"},{"location":"General/Changelog/#device_14","title":"Device","text":"<ul> <li>Update hikvision camera detection (#14943) - torbeckattsp</li> <li>APC UPS UIO sensor discovery bug (#14942) - d-k-7</li> <li>Add additional MOS / 7130 devices (#14922) - kirk444</li> <li>Add support for WTI console products (#14920) - robje</li> <li>Update junos discovery yaml to reference total memory instead of buff\u2026 (#14919) - GeantRA</li> <li>Add support for Trellix FireEye OS (#14908) - mtentilucci</li> <li>Added cisco FTD 1150 to ftd.yaml (#14907) - pjroehl</li> <li>Add more OIDs for determining hardware and serial attributes correctly (#14904) - mwobst</li> <li>Add Cisco FTD Support for security appliances (x3) (#14893) - mwobst</li> <li>Update test data to account for new vertiv.svg icon (#14892) - mtentilucci</li> <li>Improve Corero CMS support (#14876) - electrocret</li> <li>Add Avocent MergePoint Unity KVM Switch Support (#14874) - mtentilucci</li> <li>Add Fortigate Webfilter stats (#14873) - electrocret</li> <li>Add Cisco Firepower 4112 Support (#14872) - lukeofthetauri</li> <li>Added PoE controller load and status sensors for Junos devices (#14868) - bakerds</li> <li>Add Montclair EDFA Support (#14852) - peelman</li> <li>Device - Add support for Scalance SC646-2C (#14835) - jellejans</li> <li>Add Fortigate packet loss monitoring for Link-Monitor and SD-WAN (#14828) - not-known</li> <li>Refactored Juniper SLA to include support for TWAMP and remove ambigu\u2026 (#14787) - GeantRA</li> <li>Deltanet Lambdatrail LT2-S,HS (#14661) - Bierchermuesli</li> <li>Add support for Battery Recommended Days Remaining (#14653) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#webui_12","title":"Webui","text":"<ul> <li>Pseudowires refresh (#14882) - Bierchermuesli</li> </ul>"},{"location":"General/Changelog/#alerting_11","title":"Alerting","text":"<ul> <li>Jira transport: use template title (#14883) - not-known</li> <li>Remove Time Elapsed extra space (#14880) - electrocret</li> <li>Fix Alertlog messaging (#14861) - electrocret</li> </ul>"},{"location":"General/Changelog/#graphs_8","title":"Graphs","text":"<ul> <li>Add graph_stat_percentile_disable config item to disable percentile lines/value printing (#14887) - VVelox</li> <li>Convert NTP freq to use generic_stats (#14834) - VVelox</li> <li>Update fail2ban to have better stat graphs and and fix generic_stats graph.php (#14818) - VVelox</li> <li>Update various device graphs to to have better stats (#14815) - VVelox</li> </ul>"},{"location":"General/Changelog/#applications_12","title":"Applications","text":"<ul> <li>Add more docker stats (#14767) - hvanoch</li> </ul>"},{"location":"General/Changelog/#bug_14","title":"Bug","text":"<ul> <li>SnmpQuery, respect snmp.max_oid (#14894) - murrant</li> <li>Add poller_groups (served) to the poller_cluster table (#14886) - peejaychilds</li> <li>Actually use the stats graph for ntp-server_freq now, which as missed in #14834 (#14884) - VVelox</li> <li>Add type checking to generic_stats.inc.php for $vars['to'] and $vars['from'] (#14871) - VVelox</li> <li>Fix graphs for a search query (#14864) - westerterp</li> <li>Fix interface parse unsets (#14860) - electrocret</li> <li>Fix dbm calculation to return -60 instead of 0 (#14858) - electrocret</li> </ul>"},{"location":"General/Changelog/#cleanup_8","title":"Cleanup","text":"<ul> <li>Store empty user_func as null (#14900) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_14","title":"Documentation","text":"<ul> <li>Fix typo in lnms device:add help (#14937) - arjenz</li> <li>Add Azure example configuration for SAML authentication in documentation (#14870) - fbouynot</li> </ul>"},{"location":"General/Changelog/#tests_6","title":"Tests","text":"<ul> <li>Re-throw exceptions if we're in CI (#14890) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_8","title":"Misc","text":"<ul> <li>Reorder check_icmp command to follow documented usage (#14910) - mtentilucci</li> <li>Add multi-PR GitHub-apply (#14875) - electrocret</li> <li>Allows GEO lookup with detailed internal Location information wrapped inside parentheses. (#14799) - LoveSkylark</li> </ul>"},{"location":"General/Changelog/#dependencies_11","title":"Dependencies","text":"<ul> <li>PHP dependency update (#14927) - murrant</li> <li>Bump phpseclib/phpseclib from 3.0.18 to 3.0.19 (#14903) - dependabot</li> <li>Bump webpack from 5.66.0 to 5.76.1 (#14901) - dependabot</li> </ul>"},{"location":"General/Changelog/#2240","title":"22.4.0","text":"<p>(2023-04-06)</p> <p>A big thank you to the following 180 contributors this last month:</p> <ul> <li>murrant (230)</li> <li>Jellyfrog (73)</li> <li>electrocret (29)</li> <li>PipoCanaja (25)</li> <li>fbouynot (24)</li> <li>VVelox (21)</li> <li>Npeca75 (17)</li> <li>dependabot (15)</li> <li>bnerickson (11)</li> <li>gs-kamnas (10)</li> <li>bonzo81 (8)</li> <li>santiag0z (8)</li> <li>rhinoau (8)</li> <li>mwobst (7)</li> <li>Martin22 (7)</li> <li>westerterp (6)</li> <li>peelman (6)</li> <li>laf (6)</li> <li>LoveSkylark (5)</li> <li>TheMysteriousX (5)</li> <li>SourceDoctor (5)</li> <li>KayckMatias (5)</li> <li>mtentilucci (4)</li> <li>not-known (4)</li> <li>Bierchermuesli (4)</li> <li>hanserasmus (4)</li> <li>noaheroufus (4)</li> <li>opalivan (4)</li> <li>geg347 (4)</li> <li>ottorei (4)</li> <li>Fehler12 (4)</li> <li>ppasserini (4)</li> <li>tim427 (3)</li> <li>fcqpl (3)</li> <li>kimhaak (3)</li> <li>luc-ass (3)</li> <li>bp0 (3)</li> <li>loopodoopo (3)</li> <li>earendilfr (3)</li> <li>bl3nd3r (3)</li> <li>charlyforot (3)</li> <li>GeantRA (2)</li> <li>systeembeheerder (2)</li> <li>dennypage (2)</li> <li>jasoncheng7115 (2)</li> <li>carbinefreak (2)</li> <li>gdepeyrot (2)</li> <li>bogdanrotariu (2)</li> <li>mabra94 (2)</li> <li>josh-silvas (2)</li> <li>mprins-RAM (2)</li> <li>SirMaple (2)</li> <li>quentinsch (2)</li> <li>Schouwenburg (2)</li> <li>aztec102 (2)</li> <li>wrongecho (2)</li> <li>bennet-esyoil (2)</li> <li>duhow (2)</li> <li>Mar974 (2)</li> <li>QuadPiece (2)</li> <li>kruczek8989 (2)</li> <li>slimey99uk (2)</li> <li>Jimmy-Cl (2)</li> <li>si458 (2)</li> <li>torbeckattsp (1)</li> <li>d-k-7 (1)</li> <li>arjenz (1)</li> <li>kirk444 (1)</li> <li>robje (1)</li> <li>pjroehl (1)</li> <li>peejaychilds (1)</li> <li>lukeofthetauri (1)</li> <li>bakerds (1)</li> <li>guipoletto (1)</li> <li>goebelmeier (1)</li> <li>MarlinMr (1)</li> <li>florisvdk (1)</li> <li>jellejans (1)</li> <li>kylegordon (1)</li> <li>zenbeam (1)</li> <li>gilrim (1)</li> <li>AleksNovak (1)</li> <li>tristanbob (1)</li> <li>da-me (1)</li> <li>fdomain (1)</li> <li>jaannnis (1)</li> <li>knpo (1)</li> <li>trs80 (1)</li> <li>MANT5149 (1)</li> <li>support-capensis (1)</li> <li>zeroservices (1)</li> <li>hvanoch (1)</li> <li>angeletdemon (1)</li> <li>alchemyx (1)</li> <li>rinsekloek (1)</li> <li>gewuerfelt (1)</li> <li>tuxgasy (1)</li> <li>hugalafutro (1)</li> <li>Blinq-SanderBlom (1)</li> <li>nightcore500 (1)</li> <li>mrwold (1)</li> <li>koocotte (1)</li> <li>VoipTelCH (1)</li> <li>cfitzw (1)</li> <li>jaaruizgu (1)</li> <li>pertruccio (1)</li> <li>ianhodgson (1)</li> <li>talkstraightuk (1)</li> <li>fufroma (1)</li> <li>fuzzbawl (1)</li> <li>otkd (1)</li> <li>kiwibrew (1)</li> <li>andrekeller (1)</li> <li>Olen (1)</li> <li>Frazew (1)</li> <li>jgelinas (1)</li> <li>mpikzink (1)</li> <li>squidly (1)</li> <li>daniel-franca (1)</li> <li>sashashura (1)</li> <li>tuomari (1)</li> <li>sembeek (1)</li> <li>huntr-helper (1)</li> <li>ktims (1)</li> <li>VirTechSystems (1)</li> <li>washcroft (1)</li> <li>Laplacence (1)</li> <li>Jarod2801 (1)</li> <li>ciscoqid (1)</li> <li>enferas (1)</li> <li>00gh (1)</li> <li>PedroChaps (1)</li> <li>ajsiersema (1)</li> <li>prahal (1)</li> <li>paulgear (1)</li> <li>mostdaysarebaddays (1)</li> <li>dagbdagb (1)</li> <li>bile0026 (1)</li> <li>hjcday (1)</li> <li>spyfly (1)</li> <li>Bobdave (1)</li> <li>DaftBrit (1)</li> <li>nox-x (1)</li> <li>SanderBlom (1)</li> <li>thecityofguanyu (1)</li> <li>nsn-amagruder (1)</li> <li>mkuurstra (1)</li> <li>booth-f (1)</li> <li>sajiby3k (1)</li> <li>skandragon (1)</li> <li>glance- (1)</li> <li>twelch24 (1)</li> <li>kevinwallace (1)</li> <li>lfkeitel (1)</li> <li>steffann (1)</li> <li>p4k8 (1)</li> <li>micko (1)</li> <li>cliffalbert (1)</li> <li>HolgerHees (1)</li> <li>frenchie (1)</li> <li>claude191 (1)</li> <li>Cormoran96 (1)</li> <li>WillIrvine (1)</li> <li>lucalo72 (1)</li> <li>ssasso (1)</li> <li>dandare100 (1)</li> <li>ospfbgp (1)</li> <li>MrXermon (1)</li> <li>pandalion98 (1)</li> <li>eskyuu (1)</li> <li>martinberg (1)</li> <li>lpailhas (1)</li> <li>jonathanjdavis (1)</li> <li>IVI053 (1)</li> <li>LTangaF (1)</li> <li>dlangille (1)</li> <li>pfromme25 (1)</li> <li>woidi (1)</li> <li>manonfgoo (1)</li> <li>mzacchi (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (328)</li> <li>murrant (260)</li> <li>PipoCanaja (50)</li> <li>ottorei (36)</li> <li>laf (18)</li> <li>SourceDoctor (7)</li> <li>VVelox (6)</li> <li>electrocret (3)</li> <li>mpikzink (3)</li> <li>santiag0z (2)</li> <li>crazy-max (1)</li> <li>westerterp (1)</li> <li>SeeMyPing (1)</li> <li>fbouynot (1)</li> <li>Cormoran96 (1)</li> <li>bennet-esyoil (1)</li> <li>f0o (1)</li> <li>haxmeadroom (1)</li> <li>bboy8012 (1)</li> </ul>"},{"location":"General/Changelog/#feature_13","title":"Feature","text":"<ul> <li>Indicator on Port Notes tab when Port has notes (#14923) - electrocret</li> <li>Add display query to list_devices function (#14747) - bonzo81</li> <li>Split out lnms snmp convenience commands (#14603) - murrant</li> <li>Add --forgot-key to key:rotate command (#14495) - murrant</li> <li>Syslog sink over http for logstash (or any json source) (#14424) - Bierchermuesli</li> <li>Improved Modern Modules (#14315) - murrant</li> <li>Add @signedGraphTag() and @signedGraphUrl() blade directives (#14269) - murrant</li> <li>Device settings: attempt to open related tab (#14250) - murrant</li> <li>Error reporting (#14190) - Jellyfrog</li> <li>Prepare for PHP 8.1 (#14156) - Jellyfrog</li> <li>New Poller validations (#14148) - murrant</li> <li>New lnms command to enable and disable plugins (#14147) - murrant</li> <li>Support for SSL/TLS protected connections to MySQL databases (#14142) - gs-kamnas</li> <li>Collect OS distro and LibreNMS version (#14138) - murrant</li> <li>Lnms device:poll better feedback (#14130) - murrant</li> <li>Per-App data storage (#14087) - VVelox</li> <li>SnmpQuery walk multiple oids (#14015) - murrant</li> <li>Add support to REST API for creating Maintenance Schedules for Device Groups (#13985) - thecityofguanyu</li> <li>Automatic fixes for validation failures (#13930) - murrant</li> <li>Allow unordered OIDs (global and per-os) (#13923) - murrant</li> <li>Pre-Install settings (#13906) - murrant</li> <li>Add ISIS discovery and polling for iosxe devices (#13880) - WillIrvine</li> <li>Device_add support display field (#13846) - murrant</li> <li>Add configuration support for IPMIv2 Kg key (#13845) - pandalion98</li> <li>Display Name in availability map (#13841) - murrant</li> <li>Added --ping-only to snmp-scan.py (#13810) - IVI053</li> <li>Implement OAuth and SAML2 support (#13764) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#security_8","title":"Security","text":"<ul> <li>Fix Service Template XSS (#14659) - murrant</li> <li>Fix neighbours XSS (#14658) - murrant</li> <li>Fix SNMP trap -&gt; Eventlog XSS (#14657) - murrant</li> <li>Fix XSS in api access (#14551) - murrant</li> <li>XSS sanitize pwrstatd application script inputs (#14545) - bnerickson</li> <li>Block disabled user session auth (#14473) - murrant</li> <li>Fix group delete xss (#14472) - murrant</li> <li>Fix alert rules XSS (#14471) - murrant</li> <li>Fix xss in browser push transport (#14470) - murrant</li> <li>Fix users xss (#14469) - murrant</li> <li>Fix user mass assignment vulnerability (#14468) - murrant</li> <li>Fix billing xss (#14465) - murrant</li> <li>Fix memcached unserialize vulnerability (#14459) - murrant</li> <li>Fix possible RSS XSS (#14457) - murrant</li> <li>GitHub Workflows security hardening (#14388) - sashashura</li> <li>Fix scheduled maintenance xss (#14360) - murrant</li> <li>Add huntr.dev to SECURITY.md (#14359) - huntr-helper</li> <li>Security fixes XSS in oxidized-cfg-check.inc.php and print-customoid.php (#14126) - enferas</li> <li>Bumpver handlebars.js to 4.7.7 to resolve CVE-2021-23369 (#13990) - gs-kamnas</li> <li>Fix services command injection (#13932) - murrant</li> <li>Fix Graylog XSS (#13931) - murrant</li> <li>Bump minimist from 1.2.5 to 1.2.6 (#13872) - dependabot</li> <li>Fix SQL injection in get-host-dependencies (#13868) - Jellyfrog</li> <li>Resolved XSS issue from alert rule list modal (#13805) - laf</li> </ul>"},{"location":"General/Changelog/#device_15","title":"Device","text":"<ul> <li>Update hikvision camera detection (#14943) - torbeckattsp</li> <li>APC UPS UIO sensor discovery bug (#14942) - d-k-7</li> <li>Add additional MOS / 7130 devices (#14922) - kirk444</li> <li>Add support for WTI console products (#14920) - robje</li> <li>Update junos discovery yaml to reference total memory instead of buff\u2026 (#14919) - GeantRA</li> <li>Add support for Trellix FireEye OS (#14908) - mtentilucci</li> <li>Added cisco FTD 1150 to ftd.yaml (#14907) - pjroehl</li> <li>Add more OIDs for determining hardware and serial attributes correctly (#14904) - mwobst</li> <li>Add Cisco FTD Support for security appliances (x3) (#14893) - mwobst</li> <li>Update test data to account for new vertiv.svg icon (#14892) - mtentilucci</li> <li>Improve Corero CMS support (#14876) - electrocret</li> <li>Add Avocent MergePoint Unity KVM Switch Support (#14874) - mtentilucci</li> <li>Add Fortigate Webfilter stats (#14873) - electrocret</li> <li>Add Cisco Firepower 4112 Support (#14872) - lukeofthetauri</li> <li>Added PoE controller load and status sensors for Junos devices (#14868) - bakerds</li> <li>Fortigate IPS Intrusions detected stats (#14857) - electrocret</li> <li>Add support for Vsol v1600d EPON OLT (#14853) - guipoletto</li> <li>Add Montclair EDFA Support (#14852) - peelman</li> <li>Fix discovery for apc ats (#14837) - florisvdk</li> <li>Device - Add support for Scalance SC646-2C (#14835) - jellejans</li> <li>Include Samsung X Series printers (#14831) - kylegordon</li> <li>Add Fortigate packet loss monitoring for Link-Monitor and SD-WAN (#14828) - not-known</li> <li>EdgeOS OLT new sensors and changes (#14807) - noaheroufus</li> <li>Update XDP string to exclude modern Cisco lightweight APs from discovery (#14803) - tristanbob</li> <li>Extend filtering of graphs device_bits on cisco ASA (#14796) - PipoCanaja</li> <li>Changed discovery OID in ets.yaml (#14795) - da-me</li> <li>Added Support for SNS-3615-K9 (#14792) - jaannnis</li> <li>Routeros fix lldp discovery on 7.7+ (#14791) - knpo</li> <li>Refactored Juniper SLA to include support for TWAMP and remove ambigu\u2026 (#14787) - GeantRA</li> <li>Fix cisco-flash (#14772) - electrocret</li> <li>Eaton matrix wattage fix (#14770) - peelman</li> <li>Add Universal Input Output support for APC (#14766) - dennypage</li> <li>Eltek Enexus; Fix SmartpackS divisor and hardware discovery (#14762) - peelman</li> <li>Nokia PMC Microwave Improvements (#14761) - carbinefreak</li> <li>Additional sensors (#14756) - peelman</li> <li>Add AXOS sensor data for PON Transceivers (the only transceivers Cali\u2026 (#14741) - peelman</li> <li>Adding discovery of LSI MegaRAID Device Media Errors, Other Errors, a\u2026 (#14729) - bnerickson</li> <li>Update fs-nmu.inc.php (#14702) - gewuerfelt</li> <li>Stop net-snmp from interpreting the octet-string from rttMonEchoAdmin\u2026 (#14676) - not-known</li> <li>Add state of the Fortigate link monitor health checks (#14675) - not-known</li> <li>Adding support for loop-telecom devices (#14674) - Blinq-SanderBlom</li> <li>Support Huawei SMU02B (#14673) - nightcore500</li> <li>Use 'counter' RRD type for some TrueNAS sensors (#14670) - TheMysteriousX</li> <li>Device - Add support for \"Smartpack R\" (#14665) - mrwold</li> <li>Deltanet Lambdatrail LT2-S,HS (#14661) - Bierchermuesli</li> <li>Added divisor to SAF Integra-X temp sensors (#14655) - noaheroufus</li> <li>Corrected ICT MPS hardware detection (#14654) - noaheroufus</li> <li>Add support for Battery Recommended Days Remaining (#14653) - Jellyfrog</li> <li>Adjusted PMP to accomodate various other 450 models. (#14652) - noaheroufus</li> <li>Added support for Eltek Micropack 1U (#14645) - fcqpl</li> <li>Added support for Eltek Flatpack S (#14643) - fcqpl</li> <li>Added Moxa switching ifAlias/portName mapping (#14633) - rhinoau</li> <li>Improve VRP power display (#14624) - PipoCanaja</li> <li>Edgeos picked up as generic device (#14612) - ianhodgson</li> <li>Added Moxa EDS-G516E optical sensors (#14610) - rhinoau</li> <li>Fix eNexus total current for Smartpack S (#14606) - murrant</li> <li>Disable SNMP Bulk for Delta UPS devices (#14599) - fufroma</li> <li>Improved AIX os information collection (#14595) - murrant</li> <li>More inclusive Cisco SB os detection (#14594) - murrant</li> <li>IP Infusion OcNOS basic detection (#14588) - murrant</li> <li>Fix APC current divide by zero (#14578) - murrant</li> <li>Extend EfficientIP SolidServer support (#14549) - PipoCanaja</li> <li>TAIT-Infra93 - Fix state + skip_values for Battery (#14541) - opalivan</li> <li>Timos - Improve SAP stats graphing (#14534) - mabra94</li> <li>McAfee Web Proxy with COUNTER rrd_type on sensors (#14529) - PipoCanaja</li> <li>Fix 'bke.yaml' discovery file (#14524) - PipoCanaja</li> <li>Added support for additional Moxa EDS-P model (#14523) - rhinoau</li> <li>Fix awplus ntp polling bug (#14521) - murrant</li> <li>Add discovery support for Riedo Networks UPDU (#14496) - andrekeller</li> <li>Use correct description oid (#14489) - Jellyfrog</li> <li>Correct upsBypassVoltage oid (#14488) - Jellyfrog</li> <li>Correct variable typo (#14486) - Jellyfrog</li> <li>Hpe ilo: fix filesystem type regex (#14485) - Jellyfrog</li> <li>Added Fortigate SD-WAN Health checks (#14456) - mprins-RAM</li> <li>Dont include empty storage sensor (#14453) - Jellyfrog</li> <li>Remove undefined sensors (#14449) - Jellyfrog</li> <li>Use correct low warn limit variable (#14447) - Jellyfrog</li> <li>Correct aviatModemCurModulationRx oid (#14446) - Jellyfrog</li> <li>Fortinet FortiADC detection and basic statistics (#14434) - westerterp</li> <li>MNI Microwave OS Add (#14427) - carbinefreak</li> <li>Add OS tait-tnadmin for TN9300 (#14413) - opalivan</li> <li>Skip empty drac state sensors (#14409) - jgelinas</li> <li>Added support for additional Moxa EDS-G models (#14405) - rhinoau</li> <li>Device - Add support for Vultan Environmental Monitoring units (#14401) - squidly</li> <li>Issue samsung printer m4080 fx (#14391) - daniel-franca</li> <li>Added status checks for (BWCC) battery status and condition for onboa\u2026 (#14349) - quentinsch</li> <li>Enexus system output current fix (#14324) - loopodoopo</li> <li>UHP VSAT modems (#14317) - loopodoopo</li> <li>Ray2 - Oid repair at ber (#14302) - Martin22</li> <li>Routeros - Fix displaying distance in charts (#14300) - Martin22</li> <li>Added support for Ubiquiti UFiber OLT (#14256) - Martin22</li> <li>Fix ciena-sds inventory bugs (#14252) - murrant</li> <li>F5 partition ram (#14226) - fbouynot</li> <li>Add Cisco Flash storage support (#14219) - fbouynot</li> <li>Fix luminato port poll (#14217) - murrant</li> <li>Teltonika RUT fix (#14202) - loopodoopo</li> <li>Initial support for Moxa AWK Industrial APs (#14197) - rhinoau</li> <li>Mikrotik wifi station mode sensors (#14193) - Npeca75</li> <li>Update mellanox os image (#14184) - Laplacence</li> <li>Change state_name for Racoms modulation (#14174) - Martin22</li> <li>Cisco SB/CBS environment sensors (#14154) - Fehler12</li> <li>Fix Rocky Linux and AlmaLinux icons and logos (#14150) - murrant</li> <li>Add additional sysObjectIDs for variants of the Arista 7130 (#14144) - gs-kamnas</li> <li>Eltex MES 2324p Add (#14135) - aztec102</li> <li>Solid Optics EDFAMUX support (#14129) - murrant</li> <li>Merge netmanplus and riello and improve device support (#14125) - murrant</li> <li>Device - Basic hatteras dslam integration (#14115) - Bierchermuesli</li> <li>Bats support (#14108) - Schouwenburg</li> <li>Solved aos6 problem where Librenms wasn't identifying all vlans (#14107) - PedroChaps</li> <li>Fix Cisco polling BGP peers in non-default VRF (#14105) - ajsiersema</li> <li>Added support for CheckPoint 1100, 1450 &amp; 1490 models. (#14074) - quentinsch</li> <li>Missing \"s\" in NsBsd.php (#14067) - Mar974</li> <li>Add full version of Mikrotik logo (#14063) - QuadPiece</li> <li>Ns-bsd updated for SNS LTSB 3.7.19 (#14060) - Mar974</li> <li>Add apc battery operation time, including display in WebUI (#14058) - mwobst</li> <li>Fix the parsing of the temperature unit value (CMCIII devices) (#14056) - mwobst</li> <li>ZTE ZXA10 Update (Added dBm graphs) (#14049) - aztec102</li> <li>Update Mikrotik logo (#14045) - QuadPiece</li> <li>Fix use of incorrect variable to retrieve current sensor value (#14037) - dennypage</li> <li>Support Huawei SMU11B (#14029) - murrant</li> <li>Update Teltonika Sensors for FW R_00.07.02 (#14012) - hjcday</li> <li>Procurve hardware description cleanup (#14007) - murrant</li> <li>Racom Ray2 and Ray3 - Modulation states added (#14001) - Martin22</li> <li>Fix OS Detection for USW-Flex-XG (#13999) - spyfly</li> <li>Add support for Cisco Nexus 3550 series (formerly Exalink Fusion) devices (#13992) - gs-kamnas</li> <li>Improve support for Arista/Metamako MOS devices (#13988) - gs-kamnas</li> <li>Add Cisco Business Wirless to ciscowlc.yaml (#13984) - nsn-amagruder</li> <li>Add Eaton SC200 OS model (#13978) - slimey99uk</li> <li>Fortigate LTE sensor addition (#13977) - slimey99uk</li> <li>Added BKE power supply support. (#13972) - Martin22</li> <li>Workaround issues with lldp information from GS108Tv1 (#13971) - glance-</li> <li>Add additional OpenBSD PF graphs (#13963) - kevinwallace</li> <li>Don't use bulk-walk for PrimeKey Appliances (#13958) - bl3nd3r</li> <li>Fix avtech12e sensors (#13943) - lfkeitel</li> <li>Support tplink routers (#13922) - si458</li> <li>Aviat WTM reduce snmp load (#13918) - murrant</li> <li>Fix Hytera error (#13909) - murrant</li> <li>[mikrotik] fixed RouterOS ipv4/ipv6 routes (#13902) - Npeca75</li> <li>PrimeKey Improvements (#13901) - bl3nd3r</li> <li>Enhancements for Zyxel OS (#13897) - Jimmy-Cl</li> <li>Added support for Dell PowerVault ME4024 (#13883) - laf</li> <li>Add support for Riello NetMan 204 (#13878) - lucalo72</li> <li>Fix usw flex switch hardware detection (#13877) - Fehler12</li> <li>Added Polycom Lens SNMP support. (#13876) - Fehler12</li> <li>Fix for PFSense state table removals field (#13863) - dandare100</li> <li>Add support for VOSS 8.6 (#13857) - ospfbgp</li> <li>McAfee Proxy Sensor name update (#13853) - PipoCanaja</li> <li>Device - HWG-WLD version 2 support (#13849) - PipoCanaja</li> <li>Fix an issue with the APC current discovery (#13837) - eskyuu</li> <li>Add VS state for Gaia (#13831) - martinberg</li> <li>[new OS] Alpine OptoElectronics TDCM-EDFA support (#13825) - charlyforot</li> <li>Fix db delete on cisco-vrf-lite discovery (#13823) - lpailhas</li> <li>Add rocky linux OS identification (#13815) - hanserasmus</li> <li>Detect truenas scale (#13812) - si458</li> <li>Add support for PrimeKey Hardware Appliance (#13806) - bl3nd3r</li> <li>[comware] dropped dbfetch from discovery/sensors (#13796) - Npeca75</li> <li>BGP unnumbered support for Cumulus (#13785) - charlyforot</li> <li>Correct divisor in discovery definition vertiv-pdu.yaml (#13768) - woidi</li> <li>Netscaler new counter metrics (#13323) - mzacchi</li> </ul>"},{"location":"General/Changelog/#webui_13","title":"Webui","text":"<ul> <li>Pseudowires refresh (#14882) - Bierchermuesli</li> <li>Fix port speed setting feedback (#14743) - murrant</li> <li>Fix Cimc on Overview (#14727) - electrocret</li> <li>Search devices also in display (#14714) - gdepeyrot</li> <li>Fix check rrd file exists with remote rrdcached (#14690) - tuxgasy</li> <li>Use displayname instead of hostname for Device Maintenance Modal Title (#14681) - electrocret</li> <li>Remove ungrouped devices panel (#14664) - murrant</li> <li>Custom port view fix (#14637) - SourceDoctor</li> <li>Fix billing graph divide by zero when the period is zero or doesn't exist (#14623) - jaaruizgu</li> <li>Fix port neighbors missing (#14586) - murrant</li> <li>Fix some icons (#14584) - murrant</li> <li>[About] Open Laravel and RRDtool link in new tab (#14568) - santiag0z</li> <li>[About] Open the contributor list link in a new tab (#14553) - santiag0z</li> <li>Fix v2 plugins (#14506) - murrant</li> <li>Check if service_name is empty or equal to service_type (#14499) - luc-ass</li> <li>Show id on device dependencies (#14497) - SourceDoctor</li> <li>Userlist description fix (#14482) - mprins-RAM</li> <li>Sort alert transport by name (#14464) - SourceDoctor</li> <li>Fix missing device_id from device alert logs (#14460) - ottorei</li> <li>Fix about date display (#14442) - murrant</li> <li>Fix pseudowires pages (#14441) - murrant</li> <li>Enhanced Service Overview on Device Overview Page (#14410) - luc-ass</li> <li>Disable plugins that have errors (#14383) - murrant</li> <li>Fix Inventory table for Dark theme (#14377) - electrocret</li> <li>Add initselect2 to locations ports (#14375) - KayckMatias</li> <li>Update devices filter in alert-logs to init_select2 (#14361) - KayckMatias</li> <li>Load device selection dynamically on Ports page (#14353) - KayckMatias</li> <li>Port pages fixes and cleanups (#14310) - murrant</li> <li>Remove Caffeine (#14277) - murrant</li> <li>Updated brother.svg to make it render in Safari (#14271) - luc-ass</li> <li>Fix for Cisco group device health tab (#14265) - fbouynot</li> <li>Fix dashboard widgets becoming unlocked (especially when using a touchscreen) (#14222) - tim427</li> <li>Migrate xDSL code to module, and add support for VDSL2 MIB (#14207) - PipoCanaja</li> <li>Fix ports display (#14183) - murrant</li> <li>Ports by device group (#14175) - electrocret</li> <li>Empty Outages table (#14167) - Npeca75</li> <li>View Ports in Portgroups (#14141) - electrocret</li> <li>Fix eventlog filtering (#14136) - murrant</li> <li>Fix device filtering false values (#14103) - murrant</li> <li>[gui] enable permanent vertical scroll (#14102) - Npeca75</li> <li>Minor visual changes to the apps-overview page (#14090) - bennet-esyoil</li> <li>Improved sorting options for Availability Map (#14073) - mwobst</li> <li>Search device by MAC via URL (#14072) - duhow</li> <li>Add BGP description to eventlog BGP Peers messages (#14061) - mostdaysarebaddays</li> <li>Slightly easier validation page error access (#14044) - murrant</li> <li>Dashboard code cleanup (#13996) - murrant</li> <li>Update dark mode to fix BGP and Peering page (#13951) - Jimmy-Cl</li> <li>Validate base_url and server_name (#13941) - murrant</li> <li>Fix snmp.timeout setting via Web UI (#13937) - murrant</li> <li>Add ISIS-details to alert details (#13920) - ottorei</li> <li>Fix port mini graphs (#13911) - murrant</li> <li>Replaced OpenWRT icon with new logo (#13891) - frenchie</li> <li>Add \"Ping Response\" graph to \"Ping Only\" Device Overview page (#13886) - westerterp</li> <li>Remove fix size for column mac adresse (#13881) - Cormoran96</li> <li>Fixed the top port errors widget returning bits graphs instead (#13860) - laf</li> <li>Fix class error name prevents to show BER graph (#13833) - charlyforot</li> <li>Fixed displaying hostname in create bill when port is passed (#13830) - laf</li> <li>Fix Oxidized Config tab showing when Device OS or Device Type is disabled (#13809) - westerterp</li> <li>Position the buttons in the center on user preferences page (#13802) - santiag0z</li> <li>Add usage hints for Display Name placeholder usage (#13801) - LTangaF</li> <li>Fix second menu bar in Apps screens (#13800) - westerterp</li> <li>WebUI - Search results for ports (#13787) - PipoCanaja</li> <li>Device Types Widget (#13670) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#alerting_12","title":"Alerting","text":"<ul> <li>Jira transport: use template title (#14883) - not-known</li> <li>Remove Time Elapsed extra space (#14880) - electrocret</li> <li>Fix Alertlog messaging (#14861) - electrocret</li> <li>Fix MS Teams alert transport, correct HTTP header (#14843) - goebelmeier</li> <li>Add support for topics (#14804) - AleksNovak</li> <li>Adding sample alert for systemd application (#14711) - bnerickson</li> <li>Polling poller debug (#14691) - electrocret</li> <li>Add -I flag to Traceroute cmd (#14667) - electrocret</li> <li>Alert map location fix (#14380) - KayckMatias</li> <li>Populate the alert rule field with the builder json (#14374) - murrant</li> <li>Discord ability to attach graph images (#14276) - murrant</li> <li>Email Transport: embed graphs by default (#14270) - murrant</li> <li>Correct logic for recurring alert rules that span UTC days (#14145) - gs-kamnas</li> <li>Improvements to PagerDuty alert formatting (#14143) - gs-kamnas</li> <li>Example rules for diskspace on / (#14082) - VVelox</li> <li>Add rich (=html) support for messages via Matrix (#14054) - mwobst</li> <li>Add macro.past_20m macro (#14023) - kruczek8989</li> <li>Allow the use of a custom URL for accessing the PagerDuty API and correct API schema violation (#14010) - gs-kamnas</li> <li>Setting MSteams card summary to alert title (#13989) - DaftBrit</li> <li>More realistic alert test data (#13969) - murrant</li> <li>Use display name when sending alerts to Sensu (#13967) - TheMysteriousX</li> <li>Correct type hint (#13915) - TheMysteriousX</li> <li>Improve alert template saving (#13910) - murrant</li> <li>Added Basic authentication capability to Alertmanager Transport (#13867) - geg347</li> <li>Newer versions of Jira use HTTP code 201 fore created issues (#13852) - MrXermon</li> <li>Add extra dynamic values alerttransport alertmanager (#13828) - geg347</li> <li>Add generic PSU status failed alert rule template (#13821) - geg347</li> </ul>"},{"location":"General/Changelog/#graphs_9","title":"Graphs","text":"<ul> <li>Add graph_stat_percentile_disable config item to disable percentile lines/value printing (#14887) - VVelox</li> <li>Convert NTP freq to use generic_stats (#14834) - VVelox</li> <li>Update fail2ban to have better stat graphs and and fix generic_stats graph.php (#14818) - VVelox</li> <li>Update various device graphs to to have better stats (#14815) - VVelox</li> <li>Update HV::Monitor support to use generic_stats.inc.php (#14814) - VVelox</li> <li>Only show Eth errors when Etherlike is enabled (#14784) - electrocret</li> <li>Fix graph output base64 (#14701) - murrant</li> <li>Fix some graphs not respecting device display name (#14684) - murrant</li> <li>Adding Average into graphs (#14679) - bogdanrotariu</li> <li>Fix device poller modules graph (#14640) - murrant</li> <li>Bug - XDSL module - rrd_def and rrd file definition issue for Actual rate (#14597) - PipoCanaja</li> <li>Fix graph errors wrong content type (#14574) - murrant</li> <li>Improve graph embedded title handling (#14544) - murrant</li> <li>Graphing cleanup (#14492) - murrant</li> <li>Return GraphImage to include more metadata (#14307) - murrant</li> <li>Fix unauth application graphs (#14216) - murrant</li> <li>Allow specifying the background colour in graph images (#14192) - washcroft</li> <li>Ping perf (#14117) - 00gh</li> <li>[RRD] fix IPv6 folder name (#13945) - Npeca75</li> </ul>"},{"location":"General/Changelog/#snmp-traps_1","title":"Snmp Traps","text":"<ul> <li>Adds Cisco DHCP Server SNMP MIB and Trap Handlers. (#14618) - josh-silvas</li> <li>Improve LinkUp and LinkDown trap handling incomplete traps (#14385) - tuomari</li> <li>Add Cisco Err-Disable interface event trap handler (#13855) - bonzo81</li> <li>Add APC SmartAvrReducing trap handlers (#13839) - bonzo81</li> <li>Add APC upsOnBattery &amp; powerRestored trap handler (#13836) - bonzo81</li> <li>Add OspfTxRetransmit Trap Handler (#13824) - bonzo81</li> <li>Cisco Mac address violation trap handler (#13811) - bonzo81</li> </ul>"},{"location":"General/Changelog/#applications_13","title":"Applications","text":"<ul> <li>Add a few more graphs for CAPEv2 (#14813) - VVelox</li> <li>CAPEv2 support (#14801) - VVelox</li> <li>Add more docker stats (#14767) - hvanoch</li> <li>Update Nvidia application - values in wrong charts (#14736) - fcqpl</li> <li>Removing max polling restriction for wireguard traffic RRD data (#14710) - bnerickson</li> <li>Alarm Flag on UPS-Nut Application (#14635) - SourceDoctor</li> <li>Adding wireguard app to the apps overview page (#14629) - bnerickson</li> <li>Adding wireguard application support (#14625) - bnerickson</li> <li>Adding systemd service status application (#14540) - bnerickson</li> <li>Memcached application: improve error visibility (#14536) - murrant</li> <li>Fix memcached polling bug (#14501) - murrant</li> <li>Add pwrstatd application (#14365) - bnerickson</li> <li>Add HV Monitor, a generic means for monitoring hypvervisors (#14218) - VVelox</li> <li>Add possibility to monitor redis application through the unix-agent (#14182) - earendilfr</li> <li>Fix error between application module and unix-agent (#14177) - earendilfr</li> <li>Add possibility to monitor the php-fpm service with the unix agent (#14173) - earendilfr</li> <li>Base64 gzip compression support for json_app_get (#14169) - VVelox</li> <li>[apps] Docker only show current containers (#14152) - Npeca75</li> <li>Fix app docker (#14080) - prahal</li> <li>Add support for Sagan (#14070) - VVelox</li> <li>Add Opensearch\\Elasticsearch monitoring (#14053) - VVelox</li> <li>Add error-state to non-responsive mysql-servers (#13993) - bennet-esyoil</li> <li>Remove alert keys from component for Suricata (#13959) - VVelox</li> <li>Fix a few issues with variable names for Suricata (#13956) - VVelox</li> <li>Scripts/json-app-tool.php JSON generation fix and add -S for SNMP extend name (#13948) - VVelox</li> <li>Add Suricata monitoring (#13942) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_11","title":"Api","text":"<ul> <li>Fix for RIPE NCC API Tools (#14757) - LoveSkylark</li> <li>Use Oxidized API client and add support for groups on config get (#14750) - electrocret</li> <li>API list_devices update with sysName, location_id and type (#14731) - bonzo81</li> <li>Port search API search more than one fields (#14646) - murrant</li> <li>Added disable_notify and location_id (#14619) - pertruccio</li> <li>Add sortorder parameter to list_logs (#14600) - talkstraightuk</li> <li>API restore ability to update purpose and override_sysLocation (#14596) - murrant</li> <li>API graphs, variable whitelist (#14552) - murrant</li> <li>Graph API use new code path (#14493) - murrant</li> <li>Adding device's field in get_alert_rule and list-alert-rules API function (new) (#14481) - geg347</li> <li>Fix update_device hostname handling #14435 (#14448) - rhinoau</li> <li>Fix port search with slashes (#14403) - murrant</li> <li>Add Columns to search_ports API function (#14348) - electrocret</li> <li>Allow delete location by id (#14334) - bp0</li> <li>API update_device, make location field work (as does location_id) (#14325) - bp0</li> <li>Standardize device and device group maintenance API (#14153) - rhinoau</li> <li>Fix maintenance APIs not associating device or group (#14127) - murrant</li> <li>Ensure 'add_device' API returns indexed-array (as per doco) (#13887) - claude191</li> <li>Adds API call to update port notes on devices. (#13834) - josh-silvas</li> </ul>"},{"location":"General/Changelog/#discovery_8","title":"Discovery","text":"<ul> <li>Prevent spurious MAC changes on multi-interface devices (#14671) - TheMysteriousX</li> <li>Fix discovery ignores custom ipmi port (#14660) - VoipTelCH</li> <li>Cisco NAC fix (#14440) - murrant</li> <li>Fix legacy os extends (#14220) - murrant</li> <li>Sensors - Allow changing RRD type in YAML and PHP sensor discovery (#14208) - PipoCanaja</li> <li>Sensors, convert hex to strings (#14121) - murrant</li> <li>Fix printer count sensors when extra garbage is returned (#14014) - murrant</li> <li>Fix polling and discovery of FortiGate cluster sensors (#13980) - mkuurstra</li> </ul>"},{"location":"General/Changelog/#polling_7","title":"Polling","text":"<ul> <li>Fix ArubaInstance channel decode issue (#14732) - murrant</li> <li>Don't poll sysDescr, sysObjectID, and sysName so frequently (#14562) - murrant</li> <li>Add connection exception handling to all redis calls (#14467) - Frazew</li> <li>Fix bgp-peers bgpPeerIface bug and update test data (#14420) - murrant</li> <li>Fix ping.php skipped results (#14368) - sembeek</li> <li>Fix for number in sensor string (#14185) - Schouwenburg</li> <li>Increase traceroute timeout (#14084) - murrant</li> <li>Fix STP polling bug (#13924) - murrant</li> <li>Print full error message in poller/discovery output (#13903) - murrant</li> </ul>"},{"location":"General/Changelog/#rancid","title":"Rancid","text":"<ul> <li>Add MRV OptiDriver support in gen_rancid (#13900) - cliffalbert</li> <li>Add support for VyOS on Rancid conf (#13874) - ssasso</li> </ul>"},{"location":"General/Changelog/#oxidized_1","title":"Oxidized","text":"<ul> <li>Show display name in Oxidized config search (#14800) - electrocret</li> <li>Adding Fortigate switches to Oxidized model mapping config (#14782) - LoveSkylark</li> <li>Fix oxidized web requests unclosed connections or responding fast enough (#14370) - fbouynot</li> <li>Oxidized \"allow purpose and notes\" (#14352) - LoveSkylark</li> <li>Syslog-notify-oxidized.php now always notifies Oxidized (#14011) - murrant</li> <li>Fix Oxidized syslog change notifier when the change was made via snmp. (#14005) - kruczek8989</li> <li>Oxidized API to return groups based on device purpose or notes (#13976) - sajiby3k</li> </ul>"},{"location":"General/Changelog/#authentication_4","title":"Authentication","text":"<ul> <li>Update Radius auth to accept permissions attributes (#14531) - kimhaak</li> <li>Rework socialite integration (#14367) - Jellyfrog</li> <li>AD Auth PHP 8.1 fixes (#14215) - murrant</li> <li>Add option STARTTLS for authentication via AD (#14051) - dagbdagb</li> <li>Auth_ldap_skip_group_check when ldap_compare is not supported (#13926) - micko</li> <li>Implement support for usernames coming from reverse proxies (#13894) - HolgerHees</li> <li>Add LDAP bind and userlist filter support to ldap-authorization (#13788) - pfromme25</li> </ul>"},{"location":"General/Changelog/#bug_15","title":"Bug","text":"<ul> <li>SnmpQuery, respect snmp.max_oid (#14894) - murrant</li> <li>Add poller_groups (served) to the poller_cluster table (#14886) - peejaychilds</li> <li>Actually use the stats graph for ntp-server_freq now, which as missed in #14834 (#14884) - VVelox</li> <li>Add type checking to generic_stats.inc.php for $vars['to'] and $vars['from'] (#14871) - VVelox</li> <li>Fix graphs for a search query (#14864) - westerterp</li> <li>Fix interface parse unsets (#14860) - electrocret</li> <li>Fix dbm calculation to return -60 instead of 0 (#14858) - electrocret</li> <li>Revert \"Fix entity-state polling/discovery\" (#14811) - murrant</li> <li>Fix entity-state polling/discovery (#14793) - fdomain</li> <li>Update PingCheck.php to remove duplicate \"Device status changed to ... from icmp check.\" event (#14785) - MANT5149</li> <li>Fix calculated dbm (#14771) - electrocret</li> <li>Handle Division by 0 error for SvcFdbTableSize (#14672) - mabra94</li> <li>Fix sqlite test (#14642) - murrant</li> <li>Remove extends and hardware detection support (#14626) - murrant</li> <li>Set 0 as integer in loading of graylog. (#14621) - kimhaak</li> <li>Fix GeocodingHelper type-hinting (#14604) - Jellyfrog</li> <li>Bug in Ciscowlc AP graphs definition (#14585) - PipoCanaja</li> <li>SnmpQuery fix mib directory order (#14580) - murrant</li> <li>SnmpQuery Handle empty oids in get more gracefully (#14577) - murrant</li> <li>Fix PTOPO mib in module discovery-protocols (#14564) - PipoCanaja</li> <li>Fix Type error (#14555) - fbouynot</li> <li>Correct variable use in billing (#14533) - Jellyfrog</li> <li>Fix sensor limit linked port rules in collection (#14520) - electrocret</li> <li>EES Rectifier various fixes from MIB + added tests (#14519) - opalivan</li> <li>Fix fetch ifEntry logic (#14483) - Jellyfrog</li> <li>Add a few breaks to avoid connection flooding for the irc-bot (#14479) - Olen</li> <li>Snmpwalk functions: dont include invalid data (#14438) - Jellyfrog</li> <li>Fix VRP duplicate BGP Peers (#14431) - PipoCanaja</li> <li>Version and git helper improvements (#14412) - murrant</li> <li>Cache version data (#14404) - murrant</li> <li>Fix rpi codec state sensor (#14400) - murrant</li> <li>Fix libvirt count() uncountable error (#14398) - murrant</li> <li>Fix Firebrick local ASN (#14397) - murrant</li> <li>Fix ups nut PHP 8 issue (#14392) - murrant</li> <li>Fix cipsec-tunnels ftd bad data causes error (#14366) - murrant</li> <li>Handle null in unix-agent (#14358) - murrant</li> <li>Fix the case of 'Ungrouped' in smokeping integration (#14351) - fbouynot</li> <li>Fix for smokeping integration with ping-only devices (#14341) - fbouynot</li> <li>Match displayname source for graylog (#14339) - fbouynot</li> <li>Check dot1dBasePortIfIndex exists before using it (#14337) - Jellyfrog</li> <li>Prevent errors when hrStorageTable doesn't exist (#14327) - Jellyfrog</li> <li>Revert \"ZTE ZXA10 Update (Added dBm graphs)\" (#14320) - murrant</li> <li>Billing module fix/cleanup (#14309) - electrocret</li> <li>SnmpResponse filterBadLines fix (#14306) - murrant</li> <li>Fix ARP Table on Device overview (#14304) - Npeca75</li> <li>Disable error reporting when dependencies are outdated (#14291) - murrant</li> <li>Don't send zeros to Graphite for missing metrics (#14262) - ktims</li> <li>Fix removing all port groups (#14253) - murrant</li> <li>Move cronjob time for daily.sh (#14245) - Jellyfrog</li> <li>Firebrick bgp polling was broken (#14237) - murrant</li> <li>Quick fix for cipsec-tunnels Cisco implementation (#14232) - PipoCanaja</li> <li>Fix redeclare of function breaking tests in OS eltex-mes23xx (#14227) - PipoCanaja</li> <li>Autodiscovery fix (#14213) - Npeca75</li> <li>Fix alert log clearing SQL query (#14200) - Jellyfrog</li> <li>Fix error when ldap_search returns false (#14199) - Jellyfrog</li> <li>Fix unnecessary Updates of DB when values are equal (#14179) - opalivan</li> <li>Fix APP_KEY generation when using fpm (#14168) - Jellyfrog</li> <li>Fix validation error (#14163) - TheMysteriousX</li> <li>IPv6 Debug typo (#14162) - Npeca75</li> <li>Replace git show --no-patch option with --quiet (#14160) - ciscoqid</li> <li>Fix 500 error in validation when UI containers and poller containers have differing node_ids (#14146) - gs-kamnas</li> <li>Use --no-patch to support old git clients (#14137) - Jellyfrog</li> <li>Prevent duplicate plugin table entries (#14120) - murrant</li> <li>Fix auth_test.php debug (#14118) - murrant</li> <li>Fix config seeder will never run (#14113) - murrant</li> <li>Reset the opcache after install (#14098) - murrant</li> <li>Update config cache on install finalize step (#14097) - murrant</li> <li>Fix more webserver validation issues (#14096) - murrant</li> <li>Revert \"Add apc battery operation time, including display in WebUI\" (#14068) - PipoCanaja</li> <li>Use --no-patch instead (#14047) - Jellyfrog</li> <li>Git version validation improvement (#14042) - murrant</li> <li>Server name validation, handle ports better (#14041) - murrant</li> <li>Fix some broken migrations (#14040) - Jellyfrog</li> <li>Fix rrd version validation check (#14036) - murrant</li> <li>Fix DB timezone validation (#14035) - murrant</li> <li>Regression fix from #13596 (#14034) - Jellyfrog</li> <li>Fix an issue when getting the local version from git (#14020) - murrant</li> <li>Fix migrations failing one time after dashboard cleanup (#14002) - murrant</li> <li>Fix Netscaler VServer database updates during polling (#13995) - Bobdave</li> <li>Fix 500 error in validations when capabilities are not supported or set (#13991) - gs-kamnas</li> <li>Inconsistency in ldap starttls config parameter (#13987) - nox-x</li> <li>Fix version check error (#13981) - murrant</li> <li>Use full sudo path (#13975) - skandragon</li> <li>Fix IPv6 in service check host (#13939) - steffann</li> <li>Validate fixes (#13935) - murrant</li> <li>Lnms device:add handle snmp.community bad format (#13914) - murrant</li> <li>Fix install icons (#13904) - murrant</li> <li>Handle bad uptime input (#13899) - murrant</li> <li>Fix custom error messages (#13898) - murrant</li> <li>Migrate addhost.php to lnms device:add (#13870) - murrant</li> <li>Rewrite agent packages parsing code (#13840) - murrant</li> <li>Fix snmpv3 context when empty SnmpQuery (#13832) - murrant</li> <li>Regression fix from b6a8b602b891d9eb8633f62632c17bdc559cd620 (#13819) - Jellyfrog</li> <li>Fix PHPStan Deprecated test (#13794) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#refactor_7","title":"Refactor","text":"<ul> <li>Unify time interval formatting (#14733) - murrant</li> <li>Remove Log::event (#14526) - Jellyfrog</li> <li>Cleanup and optimize the availability widget (#14329) - murrant</li> <li>Fix a few Db* to Eloquent requests (#14278) - PipoCanaja</li> <li>Use \"database version\" instead of \"mysql version\" (#14158) - Jellyfrog</li> <li>Improve the efficiency of some queries (#13974) - murrant</li> <li>Move Config loading to a service provider (#13927) - murrant</li> <li>Port Validation Page to Laravel (#13921) - murrant</li> <li>Remove addHost from ModuleTestHelper (#13847) - murrant</li> <li>New device:add code (#13842) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_9","title":"Cleanup","text":"<ul> <li>Store empty user_func as null (#14900) - Jellyfrog</li> <li>Consolidate and improve snmptranslate usage (#14567) - murrant</li> <li>Remove graph_min (#14561) - murrant</li> <li>Remove $_GET from graphs (#14554) - murrant</li> <li>Undefined array key fixes (#14532) - Jellyfrog</li> <li>Use Collection instead of collect() (#14527) - Jellyfrog</li> <li>Convert string references to <code>::class</code> (#14508) - Jellyfrog</li> <li>Miscellaneous cleanup - part 5 (#14502) - Jellyfrog</li> <li>Type API methods and properties (#14476) - fbouynot</li> <li>Miscellaneous cleanup - part 4 (#14452) - Jellyfrog</li> <li>Miscellaneous cleanup - part 3 (#14450) - Jellyfrog</li> <li>Miscellaneous cleanup, mostly undefined variables - part2 (#14445) - Jellyfrog</li> <li>Remove tabs from yaml (#14437) - Jellyfrog</li> <li>Miscellaneous fixes, mostly undefined variables (#14432) - Jellyfrog</li> <li>Trim whitespaces from device data (#14429) - Jellyfrog</li> <li>Fix bgp_peer array_merge error (#14416) - PipoCanaja</li> <li>Defer loading cli option defaults (#14363) - Jellyfrog</li> <li>Remove call to Config from artisan (#14362) - Jellyfrog</li> <li>Mibs - Cleanup names (#14323) - PipoCanaja</li> <li>Enable more checks (#14318) - Jellyfrog</li> <li>Do not include _token in legacy vars (#14313) - murrant</li> <li>Don't include null os when loading defs (#14312) - murrant</li> <li>2fa not all routes have names (#14311) - murrant</li> <li>Cache astext for 1 day (#14303) - murrant</li> <li>Linux distro images require feature field (#14301) - murrant</li> <li>Silence return type mismatch (#14298) - Jellyfrog</li> <li>Fix more percent calculations (#14294) - murrant</li> <li>Fix rounding null in mempools module (#14290) - murrant</li> <li>Check if polling module exists (#14289) - murrant</li> <li>Fix undefined variable (#14287) - murrant</li> <li>Handle connection timed out errors in unix agent (#14286) - murrant</li> <li>Remove unused function (#14283) - murrant</li> <li>Remove reference to unused variable (#14280) - murrant</li> <li>Cleanup some RunAlerts issues (#14274) - murrant</li> <li>Fix a bunch of \"Since fakerphp/faker 1.14: Accessing property..\" (#14267) - Jellyfrog</li> <li>Fix more error exceptions (#14266) - Jellyfrog</li> <li>Fix hrStorageType being undefined (#14260) - Jellyfrog</li> <li>Misc errors cleanup (#14257) - Jellyfrog</li> <li>Fix ipv6 hexdec error (#14254) - murrant</li> <li>Use empty string instead of null for routes (#14247) - Jellyfrog</li> <li>Sort device types alphabetically (#14244) - VirTechSystems</li> <li>Misc webui code cleanups (#14242) - murrant</li> <li>Fix some ErrorExceptions (#14241) - Jellyfrog</li> <li>Fix os_group unset errors (#14238) - murrant</li> <li>Juniper bgp-peers cleanup (#14236) - murrant</li> <li>Percentage calculation helper (#14235) - murrant</li> <li>Memcached app undefined vars (#14225) - Npeca75</li> <li>Fix Undefined variable/key warnings (#14134) - murrant</li> <li>Remove mib poller module remnants (#14077) - murrant</li> <li>Remove traceroute6, it is unused (#14019) - murrant</li> <li>Remove DefaultWidgetSeeder (#14006) - murrant</li> <li>Better device:add error output (#13913) - murrant</li> <li>Remove non-working Dell specific alert rules from the collection (#13706) - Fehler12</li> </ul>"},{"location":"General/Changelog/#documentation_15","title":"Documentation","text":"<ul> <li>Fix typo in lnms device:add help (#14937) - arjenz</li> <li>Add Azure example configuration for SAML authentication in documentation (#14870) - fbouynot</li> <li>Fix Okta image in docs (#14848) - westerterp</li> <li>Change socialite settings URI (#14845) - fbouynot</li> <li>Fix possible confusion around php-fpm settings (#14844) - hanserasmus</li> <li>Use docker compose v2 (#14841) - MarlinMr</li> <li>Fix typo in Oauth doc (#14840) - fbouynot</li> <li>Add Zenduty Integration info to Transports.md docs (#14826) - zenbeam</li> <li>Update config docs - dump current config (#14820) - hanserasmus</li> <li>Add SELinux instructions for nginx monitoring (#14812) - fbouynot</li> <li>Add SELinux instructions for systemd monitoring (#14809) - fbouynot</li> <li>Add SELinux instructions for systemd monitoring (#14806) - fbouynot</li> <li>Debian 11 Sury DPA provides PHP 8.2 (#14798) - tim427</li> <li>Update Syslog.md (#14794) - systeembeheerder</li> <li>Update Authentication.md (#14788) - trs80</li> <li>Fix Doc Link for Canopsis transport (#14778) - support-capensis</li> <li>Update ElasticSearch Index pattern for php 8.1 changes (#14775) - zeroservices</li> <li>Install updates for Rocky8 (#14722) - angeletdemon</li> <li>Updating certificate script documentation (#14721) - bnerickson</li> <li>Update Docker.md with proper path to unzipped files (#14717) - alchemyx</li> <li>Fix typo: purge-port.php file name (#14712) - santiag0z</li> <li>Alert template example uses incorrect variable (#14683) - electrocret</li> <li>Correct squid snmpd.conf proxy host syntax (#14678) - hugalafutro</li> <li>Fix Traceroute debug alert template snippet (#14668) - electrocret</li> <li>Update Dispatcher docs for Debian and for non /opt/librenms installation (#14663) - koocotte</li> <li>Fix Location mapping docs (#14644) - electrocret</li> <li>Update config name for the default device display (#14641) - cfitzw</li> <li>Update Dispatcher-Service.md (#14632) - systeembeheerder</li> <li>Updating postgres application documentation (#14627) - bnerickson</li> <li>Documentation for Observium Migration (#14601) - LoveSkylark</li> <li>Add snmp_flags and tips on string oids to the docs (#14579) - murrant</li> <li>Clarify Dispatcher-Service.md for systemd (#14575) - fuzzbawl</li> <li>Update license section of readme (#14571) - otkd</li> <li>Remove outdated rules videos (#14505) - kiwibrew</li> <li>Docker quick install (#14475) - murrant</li> <li>Updating details of my LibreNMS install (#14458) - SirMaple</li> <li>Fix php7.2 occurence in Performance.md documentation (#14394) - fbouynot</li> <li>Fix documentation for php8.1 and bad package name (#14393) - fbouynot</li> <li>Move list_locations from devices to locations (#14328) - bp0</li> <li>Cisco-sla module was renamed to slas (#14288) - murrant</li> <li>Update docs around APP_URL (#14282) - murrant</li> <li>Update to mkdocs-material 8.3.9 (#14189) - Jellyfrog</li> <li>SNMP extend / fix mdadm documentation (#14186) - Npeca75</li> <li>Update index.md (#14178) - Jarod2801</li> <li>Add instructions for PHP 8.1 and Ubuntu 22.04 (#14166) - Jellyfrog</li> <li>Update php installation instruction for CentOS 8 to reflect the minim\u2026 (#14159) - fbouynot</li> <li>Fix typo in Smokeping SELinux documentation (#14155) - fbouynot</li> <li>Add device_default_display info (#14151) - murrant</li> <li>Change SELinux context for logs (#14128) - fbouynot</li> <li>Small documentation typos (#14101) - wrongecho</li> <li>Documentation typos (#14099) - wrongecho</li> <li>Add SELinux configuration for SNMPd on Centos8 in the documentation (#14095) - fbouynot</li> <li>Add SELinux configuration for LDAP/AD authentication on Centos8 in the documentation (#14094) - fbouynot</li> <li>Add SELinux configuration for Smokeping on Centos8 in the documentation (#14093) - fbouynot</li> <li>Add SELinux configuration for RRDCached on Centos8 in the documentation (#14092) - fbouynot</li> <li>Corrected API devicegroup curl creation examples (#14081) - rhinoau</li> <li>Minor grammar fixes in doc (#14078) - paulgear</li> <li>Add documentation for Chrony application monitoring (#14066) - ottorei</li> <li>Okta saml (#14038) - bile0026</li> <li>HPE Comware snmp config example (#13997) - murrant</li> <li>Fix typo in dispatcher service doc (#13979) - booth-f</li> <li>Fix  a typo in alerting doc (#13970) - twelch24</li> <li>DOCS, switch to dark or light mode (#13953) - santiag0z</li> <li>Assorted cleanups to alerting docs, primarily to make mdl happier (#13950) - VVelox</li> <li>Update test doc making it more mdl happy and add a section on writing JSON app tests (#13949) - VVelox</li> <li>Docs, fix code block in oxidized group (#13908) - santiag0z</li> <li>[DOC] Fix Code blocks Step 2 Installing Network-WeatherMap (#13905) - santiag0z</li> <li>[DOC] Styling the .env word quote (#13889) - santiag0z</li> <li>Docs, fix Linux SNMP example only listening on ::1 (#13882) - murrant</li> <li>Script that describes how to migrate traffic bills from observium. (#13757) - manonfgoo</li> </ul>"},{"location":"General/Changelog/#translation_5","title":"Translation","text":"<ul> <li>Update zh-TW.json (#14765) - jasoncheng7115</li> <li>Create files with Traditional Chinese translation (#14764) - jasoncheng7115</li> <li>Fix Typo in Settings (#14443) - electrocret</li> <li>Serbian translation, part3 (#14205) - Npeca75</li> <li>More Serbian translation (#14181) - Npeca75</li> <li>Enable translation on Eventlog &amp; Component-status widgets (#14180) - Npeca75</li> <li>Initial support for Serbian language (#14165) - Npeca75</li> <li>Enable translation in 3 Alert widget (#14164) - Npeca75</li> <li>Few more updates to Ita lang (#14091) - ppasserini</li> <li>Italian language update (#14085) - ppasserini</li> <li>Adjustments to german translation (#14083) - mwobst</li> <li>Small Italian lang update (#13960) - ppasserini</li> <li>Ukrainian translation update (#13933) - p4k8</li> <li>Few more language (ITA) updates (#13890) - ppasserini</li> </ul>"},{"location":"General/Changelog/#tests_7","title":"Tests","text":"<ul> <li>Re-throw exceptions if we're in CI (#14890) - Jellyfrog</li> <li>Adding certificate application tests (#14708) - bnerickson</li> <li>Mock astext (#14581) - murrant</li> <li>Github tests log improvement (#14559) - murrant</li> <li>Improve trap testing (#14546) - murrant</li> <li>Remove unused phpstan tests (#14503) - Jellyfrog</li> <li>Speed up tests (#14421) - murrant</li> <li>Fix cisco-pw test capture (#14415) - murrant</li> <li>Test supported PHP versions only (#14389) - murrant</li> <li>Run CI on ubuntu 22.04 (#14379) - Jellyfrog</li> <li>Do not allow sysDescr to be fetched in os module yaml (#14331) - murrant</li> <li>Remove PHP version constraint (#14314) - Jellyfrog</li> <li>Lnms dev:simulate check simulated device exists (#14243) - murrant</li> <li>Save-test-data to refresh all variants of an OS (#14231) - PipoCanaja</li> <li>Allow save-test-data.php to run all modules explicitely (#14212) - PipoCanaja</li> <li>Increase OS detection time, sometimes it is not ready by 5s (#14133) - murrant</li> <li>Test PHP 8.1 (#14109) - murrant</li> <li>Fix tests failing when device with IP 127.1.6.1 exists (#14016) - murrant</li> <li>PHP8 phpstan fix (#13843) - murrant</li> <li>Fix tests for MariaDB &gt; 10.5.15 (#13829) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_9","title":"Misc","text":"<ul> <li>Reorder check_icmp command to follow documented usage (#14910) - mtentilucci</li> <li>Add multi-PR GitHub-apply (#14875) - electrocret</li> <li>Use Device displayname on VRF page (#14851) - electrocret</li> <li>Fix empty output on validation test (#14822) - hanserasmus</li> <li>Allows GEO lookup with detailed internal Location information wrapped inside parentheses. (#14799) - LoveSkylark</li> <li>Add MAC OUI caching when code updates are disabled (#14713) - gdepeyrot</li> <li>New schema dump (#14630) - Jellyfrog</li> <li>Add check_hetzner_storagebox to includes/services (#14463) - SirMaple</li> <li>Add instance id to error reports (#14444) - murrant</li> <li>Update ports_purge docs and definitions (#14402) - KayckMatias</li> <li>Added Ubuntu and Raspbian to ifAlias script (#14399) - tim427</li> <li>Defer loading cli option values (#14354) - murrant</li> <li>Allow dumping of errors and warnings (#14275) - murrant</li> <li>Allow reapply yaml config via env (#14100) - murrant</li> <li>Lnms scan respect -q parameter (#14027) - murrant</li> <li>Improve lnms shortcut validation (#13982) - murrant</li> </ul>"},{"location":"General/Changelog/#internal-features_5","title":"Internal Features","text":"<ul> <li>Number Casting allow preceding space (#14699) - murrant</li> <li>DeviceCache::get() allow hostname (#14649) - murrant</li> <li>Improve SnmpResponse value() (#14605) - murrant</li> <li>SnmpQuery numeric accept a boolean (#14565) - murrant</li> <li>Support regex in os field replace (#14563) - murrant</li> <li>More Replacement Capabilities for sensor index computation (#14522) - PipoCanaja</li> <li>Ignore CommandNotFoundException from reporting (#14342) - Jellyfrog</li> <li>Allow SnmpQuery to optionally abort walks if one fails (#14255) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs_7","title":"Mibs","text":"<ul> <li>Add CISCO-ENTITY-ALARM-MIB file (#14754) - bonzo81</li> <li>Update Nokia MIBs to release R22.2 (#14734) - peelman</li> <li>More MIB fixing (#14018) - Jellyfrog</li> <li>Update MIBs (#14017) - Jellyfrog</li> <li>Updated existing Siemens MIBs and added trap MIB (#13986) - SanderBlom</li> </ul>"},{"location":"General/Changelog/#dependencies_12","title":"Dependencies","text":"<ul> <li>PHP dependency update (#14927) - murrant</li> <li>Bump phpseclib/phpseclib from 3.0.18 to 3.0.19 (#14903) - dependabot</li> <li>Bump webpack from 5.66.0 to 5.76.1 (#14901) - dependabot</li> <li>Bump symfony/http-kernel from 5.4.16 to 5.4.20 (#14824) - dependabot</li> <li>Bump json5 from 1.0.1 to 1.0.2 (#14774) - dependabot</li> <li>Update PHP dependencies (fix dependencies on PHP 8.2) (#14759) - murrant</li> <li>Bump qs and express (#14705) - dependabot</li> <li>Bump loader-utils from 1.4.0 to 1.4.2 (#14628) - dependabot</li> <li>Increase minimum version to PHP 8.1 (#14378) - murrant</li> <li>Update dependencies (#14319) - murrant</li> <li>Bump php-cs-fixer to 3.4.0 (#14224) - murrant</li> <li>Bump terser from 4.8.0 to 4.8.1 (#14123) - dependabot</li> <li>Bump guzzlehttp/guzzle from 7.4.4 to 7.4.5 (#14059) - dependabot</li> <li>Update Larastan (#14031) - murrant</li> <li>Update PHP dependencies (#14028) - murrant</li> <li>Bump guzzlehttp/guzzle from 7.4.3 to 7.4.4 (#14025) - dependabot</li> <li>Bump guzzlehttp/guzzle from 7.4.1 to 7.4.3 (#13994) - dependabot</li> <li>Bump async from 2.6.3 to 2.6.4 (#13947) - dependabot</li> <li>Bump composer/composer from 2.2.4 to 2.3.5 (#13944) - dependabot</li> <li>Bump guzzlehttp/psr7 from 2.1.0 to 2.2.1 (#13879) - dependabot</li> <li>Bump jpgraph version to 4 (#13875) - ottorei</li> <li>Bump node-forge from 1.2.1 to 1.3.0 (#13869) - dependabot</li> </ul>"},{"location":"General/Changelog/#2320","title":"23.2.0","text":"<p>(2023-02-23)</p> <p>A big thank you to the following 20 contributors this last month:</p> <ul> <li>electrocret (5)</li> <li>fbouynot (5)</li> <li>hanserasmus (3)</li> <li>VVelox (3)</li> <li>guipoletto (1)</li> <li>westerterp (1)</li> <li>goebelmeier (1)</li> <li>MarlinMr (1)</li> <li>florisvdk (1)</li> <li>kylegordon (1)</li> <li>zenbeam (1)</li> <li>dependabot (1)</li> <li>gilrim (1)</li> <li>murrant (1)</li> <li>noaheroufus (1)</li> <li>AleksNovak (1)</li> <li>tristanbob (1)</li> <li>tim427 (1)</li> <li>PipoCanaja (1)</li> <li>bonzo81 (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (22)</li> <li>murrant (9)</li> <li>ottorei (4)</li> <li>crazy-max (1)</li> <li>VVelox (1)</li> <li>westerterp (1)</li> </ul>"},{"location":"General/Changelog/#feature_14","title":"Feature","text":"<ul> <li>Add display query to list_devices function (#14747) - bonzo81</li> </ul>"},{"location":"General/Changelog/#device_16","title":"Device","text":"<ul> <li>Fortigate IPS Intrusions detected stats (#14857) - electrocret</li> <li>Add support for Vsol v1600d EPON OLT (#14853) - guipoletto</li> <li>Fix discovery for apc ats (#14837) - florisvdk</li> <li>Include Samsung X Series printers (#14831) - kylegordon</li> <li>EdgeOS OLT new sensors and changes (#14807) - noaheroufus</li> <li>Update XDP string to exclude modern Cisco lightweight APs from discovery (#14803) - tristanbob</li> <li>Extend filtering of graphs device_bits on cisco ASA (#14796) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#alerting_13","title":"Alerting","text":"<ul> <li>Fix MS Teams alert transport, correct HTTP header (#14843) - goebelmeier</li> <li>Add support for topics (#14804) - AleksNovak</li> </ul>"},{"location":"General/Changelog/#graphs_10","title":"Graphs","text":"<ul> <li>Update HV::Monitor support to use generic_stats.inc.php (#14814) - VVelox</li> <li>Only show Eth errors when Etherlike is enabled (#14784) - electrocret</li> </ul>"},{"location":"General/Changelog/#applications_14","title":"Applications","text":"<ul> <li>Add a few more graphs for CAPEv2 (#14813) - VVelox</li> <li>CAPEv2 support (#14801) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_12","title":"Api","text":"<ul> <li>Use Oxidized API client and add support for groups on config get (#14750) - electrocret</li> </ul>"},{"location":"General/Changelog/#oxidized_2","title":"Oxidized","text":"<ul> <li>Show display name in Oxidized config search (#14800) - electrocret</li> </ul>"},{"location":"General/Changelog/#bug_16","title":"Bug","text":"<ul> <li>Revert \"Fix entity-state polling/discovery\" (#14811) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_16","title":"Documentation","text":"<ul> <li>Fix Okta image in docs (#14848) - westerterp</li> <li>Change socialite settings URI (#14845) - fbouynot</li> <li>Fix possible confusion around php-fpm settings (#14844) - hanserasmus</li> <li>Use docker compose v2 (#14841) - MarlinMr</li> <li>Fix typo in Oauth doc (#14840) - fbouynot</li> <li>Add Zenduty Integration info to Transports.md docs (#14826) - zenbeam</li> <li>Update config docs - dump current config (#14820) - hanserasmus</li> <li>Add SELinux instructions for nginx monitoring (#14812) - fbouynot</li> <li>Add SELinux instructions for systemd monitoring (#14809) - fbouynot</li> <li>Add SELinux instructions for systemd monitoring (#14806) - fbouynot</li> <li>Debian 11 Sury DPA provides PHP 8.2 (#14798) - tim427</li> </ul>"},{"location":"General/Changelog/#misc_10","title":"Misc","text":"<ul> <li>Use Device displayname on VRF page (#14851) - electrocret</li> <li>Fix empty output on validation test (#14822) - hanserasmus</li> </ul>"},{"location":"General/Changelog/#dependencies_13","title":"Dependencies","text":"<ul> <li>Bump symfony/http-kernel from 5.4.16 to 5.4.20 (#14824) - dependabot</li> </ul>"},{"location":"General/Changelog/#2310","title":"23.1.0","text":"<p>(2023-01-24)</p> <p>A big thank you to the following 19 contributors this last month:</p> <ul> <li>electrocret (3)</li> <li>peelman (3)</li> <li>jasoncheng7115 (2)</li> <li>not-known (2)</li> <li>da-me (1)</li> <li>systeembeheerder (1)</li> <li>fdomain (1)</li> <li>jaannnis (1)</li> <li>knpo (1)</li> <li>trs80 (1)</li> <li>MANT5149 (1)</li> <li>LoveSkylark (1)</li> <li>support-capensis (1)</li> <li>zeroservices (1)</li> <li>dependabot (1)</li> <li>dennypage (1)</li> <li>carbinefreak (1)</li> <li>bnerickson (1)</li> <li>Blinq-SanderBlom (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (23)</li> <li>murrant (2)</li> <li>SourceDoctor (1)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#device_17","title":"Device","text":"<ul> <li>Changed discovery OID in ets.yaml (#14795) - da-me</li> <li>Added Support for SNS-3615-K9 (#14792) - jaannnis</li> <li>Routeros fix lldp discovery on 7.7+ (#14791) - knpo</li> <li>Fix cisco-flash (#14772) - electrocret</li> <li>Eaton matrix wattage fix (#14770) - peelman</li> <li>Add Universal Input Output support for APC (#14766) - dennypage</li> <li>Eltek Enexus; Fix SmartpackS divisor and hardware discovery (#14762) - peelman</li> <li>Nokia PMC Microwave Improvements (#14761) - carbinefreak</li> <li>Add AXOS sensor data for PON Transceivers (the only transceivers Cali\u2026 (#14741) - peelman</li> <li>Adding discovery of LSI MegaRAID Device Media Errors, Other Errors, a\u2026 (#14729) - bnerickson</li> <li>Stop net-snmp from interpreting the octet-string from rttMonEchoAdmin\u2026 (#14676) - not-known</li> <li>Add state of the Fortigate link monitor health checks (#14675) - not-known</li> <li>Adding support for loop-telecom devices (#14674) - Blinq-SanderBlom</li> </ul>"},{"location":"General/Changelog/#oxidized_3","title":"Oxidized","text":"<ul> <li>Adding Fortigate switches to Oxidized model mapping config (#14782) - LoveSkylark</li> </ul>"},{"location":"General/Changelog/#bug_17","title":"Bug","text":"<ul> <li>Fix entity-state polling/discovery (#14793) - fdomain</li> <li>Update PingCheck.php to remove duplicate \"Device status changed to ... from icmp check.\" event (#14785) - MANT5149</li> <li>Fix calculated dbm (#14771) - electrocret</li> </ul>"},{"location":"General/Changelog/#documentation_17","title":"Documentation","text":"<ul> <li>Update Syslog.md (#14794) - systeembeheerder</li> <li>Update Authentication.md (#14788) - trs80</li> <li>Fix Doc Link for Canopsis transport (#14778) - support-capensis</li> <li>Update ElasticSearch Index pattern for php 8.1 changes (#14775) - zeroservices</li> </ul>"},{"location":"General/Changelog/#translation_6","title":"Translation","text":"<ul> <li>Update zh-TW.json (#14765) - jasoncheng7115</li> <li>Create files with Traditional Chinese translation (#14764) - jasoncheng7115</li> </ul>"},{"location":"General/Changelog/#misc_11","title":"Misc","text":"<ul> <li>Use displayname instead of hostname for Device Maintenance Modal Title (#14681) - electrocret</li> </ul>"},{"location":"General/Changelog/#dependencies_14","title":"Dependencies","text":"<ul> <li>Bump json5 from 1.0.1 to 1.0.2 (#14774) - dependabot</li> </ul>"},{"location":"General/Changelog/#22120","title":"22.12.0","text":"<p>(2022-12-28)</p> <p>A big thank you to the following 21 contributors this last month:</p> <ul> <li>murrant (10)</li> <li>electrocret (4)</li> <li>bnerickson (4)</li> <li>peelman (2)</li> <li>bonzo81 (2)</li> <li>gdepeyrot (2)</li> <li>bogdanrotariu (2)</li> <li>TheMysteriousX (2)</li> <li>LoveSkylark (1)</li> <li>fcqpl (1)</li> <li>angeletdemon (1)</li> <li>alchemyx (1)</li> <li>rinsekloek (1)</li> <li>SantiagoSilvaZ (1)</li> <li>dependabot (1)</li> <li>gewuerfelt (1)</li> <li>tuxgasy (1)</li> <li>hugalafutro (1)</li> <li>nightcore500 (1)</li> <li>mrwold (1)</li> <li>rhinoau (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (15)</li> <li>murrant (14)</li> <li>PipoCanaja (3)</li> <li>ottorei (3)</li> <li>SeeMyPing (1)</li> </ul>"},{"location":"General/Changelog/#feature_15","title":"Feature","text":"<ul> <li>Pre-Install settings (#13906) - murrant</li> </ul>"},{"location":"General/Changelog/#device_18","title":"Device","text":"<ul> <li>Additional sensors (#14756) - peelman</li> <li>Update fs-nmu.inc.php (#14702) - gewuerfelt</li> <li>Support Huawei SMU02B (#14673) - nightcore500</li> <li>Use 'counter' RRD type for some TrueNAS sensors (#14670) - TheMysteriousX</li> <li>Device - Add support for \"Smartpack R\" (#14665) - mrwold</li> <li>Added Moxa switching ifAlias/portName mapping (#14633) - rhinoau</li> </ul>"},{"location":"General/Changelog/#webui_14","title":"Webui","text":"<ul> <li>Fix port speed setting feedback (#14743) - murrant</li> <li>Fix Cimc on Overview (#14727) - electrocret</li> <li>Search devices also in display (#14714) - gdepeyrot</li> <li>Fix check rrd file exists with remote rrdcached (#14690) - tuxgasy</li> </ul>"},{"location":"General/Changelog/#alerting_14","title":"Alerting","text":"<ul> <li>Adding sample alert for systemd application (#14711) - bnerickson</li> <li>Polling poller debug (#14691) - electrocret</li> <li>Add -I flag to Traceroute cmd (#14667) - electrocret</li> </ul>"},{"location":"General/Changelog/#graphs_11","title":"Graphs","text":"<ul> <li>Fix graph output base64 (#14701) - murrant</li> <li>Fix some graphs not respecting device display name (#14684) - murrant</li> <li>Adding Average into graphs (#14679) - bogdanrotariu</li> </ul>"},{"location":"General/Changelog/#applications_15","title":"Applications","text":"<ul> <li>Update Nvidia application - values in wrong charts (#14736) - fcqpl</li> <li>Removing max polling restriction for wireguard traffic RRD data (#14710) - bnerickson</li> </ul>"},{"location":"General/Changelog/#api_13","title":"Api","text":"<ul> <li>Fix for RIPE NCC API Tools (#14757) - LoveSkylark</li> <li>API list_devices update with sysName, location_id and type (#14731) - bonzo81</li> </ul>"},{"location":"General/Changelog/#discovery_9","title":"Discovery","text":"<ul> <li>Prevent spurious MAC changes on multi-interface devices (#14671) - TheMysteriousX</li> </ul>"},{"location":"General/Changelog/#polling_8","title":"Polling","text":"<ul> <li>Fix ArubaInstance channel decode issue (#14732) - murrant</li> </ul>"},{"location":"General/Changelog/#refactor_8","title":"Refactor","text":"<ul> <li>Unify time interval formatting (#14733) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_18","title":"Documentation","text":"<ul> <li>Install updates for Rocky8 (#14722) - angeletdemon</li> <li>Updating certificate script documentation (#14721) - bnerickson</li> <li>Update Docker.md with proper path to unzipped files (#14717) - alchemyx</li> <li>Fix typo: purge-port.php file name (#14712) - SantiagoSilvaZ</li> <li>Alert template example uses incorrect variable (#14683) - electrocret</li> <li>Correct squid snmpd.conf proxy host syntax (#14678) - hugalafutro</li> </ul>"},{"location":"General/Changelog/#tests_8","title":"Tests","text":"<ul> <li>Adding certificate application tests (#14708) - bnerickson</li> </ul>"},{"location":"General/Changelog/#misc_12","title":"Misc","text":"<ul> <li>Add MAC OUI caching when code updates are disabled (#14713) - gdepeyrot</li> </ul>"},{"location":"General/Changelog/#internal-features_6","title":"Internal Features","text":"<ul> <li>Number Casting allow preceding space (#14699) - murrant</li> <li>Improve SnmpResponse value() (#14605) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs_8","title":"Mibs","text":"<ul> <li>Add CISCO-ENTITY-ALARM-MIB file (#14754) - bonzo81</li> <li>Update Nokia MIBs to release R22.2 (#14734) - peelman</li> </ul>"},{"location":"General/Changelog/#dependencies_15","title":"Dependencies","text":"<ul> <li>Update PHP dependencies (fix dependencies on PHP 8.2) (#14759) - murrant</li> <li>Bump qs and express (#14705) - dependabot</li> </ul>"},{"location":"General/Changelog/#22110","title":"22.11.0","text":"<p>(2022-11-24)</p> <p>A big thank you to the following 40 contributors this last month:</p> <ul> <li>murrant (52)</li> <li>Jellyfrog (23)</li> <li>PipoCanaja (9)</li> <li>bnerickson (5)</li> <li>electrocret (4)</li> <li>SourceDoctor (4)</li> <li>noaheroufus (3)</li> <li>rhinoau (3)</li> <li>mabra94 (2)</li> <li>fcqpl (2)</li> <li>kimhaak (2)</li> <li>SantiagoSilvaZ (2)</li> <li>fbouynot (2)</li> <li>opalivan (2)</li> <li>mprins-RAM (2)</li> <li>VVelox (2)</li> <li>koocotte (1)</li> <li>VoipTelCH (1)</li> <li>cfitzw (1)</li> <li>systeembeheerder (1)</li> <li>dependabot (1)</li> <li>jaaruizgu (1)</li> <li>pertruccio (1)</li> <li>josh-silvas (1)</li> <li>ianhodgson (1)</li> <li>LoveSkylark (1)</li> <li>talkstraightuk (1)</li> <li>fufroma (1)</li> <li>fuzzbawl (1)</li> <li>otkd (1)</li> <li>kiwibrew (1)</li> <li>luc-ass (1)</li> <li>andrekeller (1)</li> <li>geg347 (1)</li> <li>Olen (1)</li> <li>Frazew (1)</li> <li>SirMaple (1)</li> <li>westerterp (1)</li> <li>squidly (1)</li> <li>Bierchermuesli (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (53)</li> <li>murrant (44)</li> <li>PipoCanaja (15)</li> <li>ottorei (1)</li> <li>VVelox (1)</li> <li>SantiagoSilvaZ (1)</li> <li>fbouynot (1)</li> </ul>"},{"location":"General/Changelog/#feature_16","title":"Feature","text":"<ul> <li>Split out lnms snmp convenience commands (#14603) - murrant</li> <li>Add --forgot-key to key:rotate command (#14495) - murrant</li> </ul>"},{"location":"General/Changelog/#security_9","title":"Security","text":"<ul> <li>Fix Service Template XSS (#14659) - murrant</li> <li>Fix neighbours XSS (#14658) - murrant</li> <li>Fix SNMP trap -&gt; Eventlog XSS (#14657) - murrant</li> <li>Fix XSS in api access (#14551) - murrant</li> <li>XSS sanitize pwrstatd application script inputs (#14545) - bnerickson</li> </ul>"},{"location":"General/Changelog/#device_19","title":"Device","text":"<ul> <li>Added divisor to SAF Integra-X temp sensors (#14655) - noaheroufus</li> <li>Corrected ICT MPS hardware detection (#14654) - noaheroufus</li> <li>Adjusted PMP to accomodate various other 450 models. (#14652) - noaheroufus</li> <li>Added support for Eltek Micropack 1U (#14645) - fcqpl</li> <li>Added support for Eltek Flatpack S (#14643) - fcqpl</li> <li>Improve VRP power display (#14624) - PipoCanaja</li> <li>Edgeos picked up as generic device (#14612) - ianhodgson</li> <li>Added Moxa EDS-G516E optical sensors (#14610) - rhinoau</li> <li>Fix eNexus total current for Smartpack S (#14606) - murrant</li> <li>Disable SNMP Bulk for Delta UPS devices (#14599) - fufroma</li> <li>Improved AIX os information collection (#14595) - murrant</li> <li>More inclusive Cisco SB os detection (#14594) - murrant</li> <li>IP Infusion OcNOS basic detection (#14588) - murrant</li> <li>Fix APC current divide by zero (#14578) - murrant</li> <li>Extend EfficientIP SolidServer support (#14549) - PipoCanaja</li> <li>TAIT-Infra93 - Fix state + skip_values for Battery (#14541) - opalivan</li> <li>Timos - Improve SAP stats graphing (#14534) - mabra94</li> <li>McAfee Web Proxy with COUNTER rrd_type on sensors (#14529) - PipoCanaja</li> <li>Fix 'bke.yaml' discovery file (#14524) - PipoCanaja</li> <li>Added support for additional Moxa EDS-P model (#14523) - rhinoau</li> <li>Fix awplus ntp polling bug (#14521) - murrant</li> <li>Add discovery support for Riedo Networks UPDU (#14496) - andrekeller</li> <li>Use correct description oid (#14489) - Jellyfrog</li> <li>Correct upsBypassVoltage oid (#14488) - Jellyfrog</li> <li>Correct variable typo (#14486) - Jellyfrog</li> <li>Hpe ilo: fix filesystem type regex (#14485) - Jellyfrog</li> <li>Added Fortigate SD-WAN Health checks (#14456) - mprins-RAM</li> <li>Dont include empty storage sensor (#14453) - Jellyfrog</li> <li>Remove undefined sensors (#14449) - Jellyfrog</li> <li>Use correct low warn limit variable (#14447) - Jellyfrog</li> <li>Fortinet FortiADC detection and basic statistics (#14434) - westerterp</li> <li>Device - Add support for Vultan Environmental Monitoring units (#14401) - squidly</li> <li>Device - Basic hatteras dslam integration (#14115) - Bierchermuesli</li> </ul>"},{"location":"General/Changelog/#webui_15","title":"Webui","text":"<ul> <li>Remove ungrouped devices panel (#14664) - murrant</li> <li>Custom port view fix (#14637) - SourceDoctor</li> <li>Fix billing graph divide by zero when the period is zero or doesn't exist (#14623) - jaaruizgu</li> <li>Fix port neighbors missing (#14586) - murrant</li> <li>Fix some icons (#14584) - murrant</li> <li>[About] Open Laravel and RRDtool link in new tab (#14568) - SantiagoSilvaZ</li> <li>[About] Open the contributor list link in a new tab (#14553) - SantiagoSilvaZ</li> <li>Fix v2 plugins (#14506) - murrant</li> <li>Check if service_name is empty or equal to service_type (#14499) - luc-ass</li> <li>Show id on device dependencies (#14497) - SourceDoctor</li> <li>Userlist description fix (#14482) - mprins-RAM</li> <li>Sort alert transport by name (#14464) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#graphs_12","title":"Graphs","text":"<ul> <li>Fix device poller modules graph (#14640) - murrant</li> <li>Bug - XDSL module - rrd_def and rrd file definition issue for Actual rate (#14597) - PipoCanaja</li> <li>Fix graph errors wrong content type (#14574) - murrant</li> <li>Improve graph embedded title handling (#14544) - murrant</li> <li>Graphing cleanup (#14492) - murrant</li> </ul>"},{"location":"General/Changelog/#snmp-traps_2","title":"Snmp Traps","text":"<ul> <li>Adds Cisco DHCP Server SNMP MIB and Trap Handlers. (#14618) - josh-silvas</li> </ul>"},{"location":"General/Changelog/#applications_16","title":"Applications","text":"<ul> <li>Alarm Flag on UPS-Nut Application (#14635) - SourceDoctor</li> <li>Adding wireguard app to the apps overview page (#14629) - bnerickson</li> <li>Adding wireguard application support (#14625) - bnerickson</li> <li>Adding systemd service status application (#14540) - bnerickson</li> <li>Memcached application: improve error visibility (#14536) - murrant</li> <li>Fix memcached polling bug (#14501) - murrant</li> <li>Add HV Monitor, a generic means for monitoring hypvervisors (#14218) - VVelox</li> <li>Base64 gzip compression support for json_app_get (#14169) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_14","title":"Api","text":"<ul> <li>Port search API search more than one fields (#14646) - murrant</li> <li>Added disable_notify and location_id (#14619) - pertruccio</li> <li>Add sortorder parameter to list_logs (#14600) - talkstraightuk</li> <li>API restore ability to update purpose and override_sysLocation (#14596) - murrant</li> <li>API graphs, variable whitelist (#14552) - murrant</li> <li>Graph API use new code path (#14493) - murrant</li> <li>Adding device's field in get_alert_rule and list-alert-rules API function (new) (#14481) - geg347</li> <li>Fix update_device hostname handling #14435 (#14448) - rhinoau</li> <li>Add Columns to search_ports API function (#14348) - electrocret</li> </ul>"},{"location":"General/Changelog/#discovery_10","title":"Discovery","text":"<ul> <li>Fix discovery ignores custom ipmi port (#14660) - VoipTelCH</li> <li>Sensors - Allow changing RRD type in YAML and PHP sensor discovery (#14208) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#polling_9","title":"Polling","text":"<ul> <li>Don't poll sysDescr, sysObjectID, and sysName so frequently (#14562) - murrant</li> <li>Add connection exception handling to all redis calls (#14467) - Frazew</li> </ul>"},{"location":"General/Changelog/#authentication_5","title":"Authentication","text":"<ul> <li>Update Radius auth to accept permissions attributes (#14531) - kimhaak</li> </ul>"},{"location":"General/Changelog/#bug_18","title":"Bug","text":"<ul> <li>Handle Division by 0 error for SvcFdbTableSize (#14672) - mabra94</li> <li>Fix sqlite test (#14642) - murrant</li> <li>Remove extends and hardware detection support (#14626) - murrant</li> <li>Set 0 as integer in loading of graylog. (#14621) - kimhaak</li> <li>Fix GeocodingHelper type-hinting (#14604) - Jellyfrog</li> <li>Bug in Ciscowlc AP graphs definition (#14585) - PipoCanaja</li> <li>SnmpQuery fix mib directory order (#14580) - murrant</li> <li>SnmpQuery Handle empty oids in get more gracefully (#14577) - murrant</li> <li>Fix PTOPO mib in module discovery-protocols (#14564) - PipoCanaja</li> <li>Fix Type error (#14555) - fbouynot</li> <li>Correct variable use in billing (#14533) - Jellyfrog</li> <li>Fix sensor limit linked port rules in collection (#14520) - electrocret</li> <li>EES Rectifier various fixes from MIB + added tests (#14519) - opalivan</li> <li>Fix fetch ifEntry logic (#14483) - Jellyfrog</li> <li>Add a few breaks to avoid connection flooding for the irc-bot (#14479) - Olen</li> </ul>"},{"location":"General/Changelog/#refactor_9","title":"Refactor","text":"<ul> <li>Remove Log::event (#14526) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#cleanup_10","title":"Cleanup","text":"<ul> <li>Fix snmp_disable type (#14650) - murrant</li> <li>Consolidate and improve snmptranslate usage (#14567) - murrant</li> <li>Remove graph_min (#14561) - murrant</li> <li>Remove $_GET from graphs (#14554) - murrant</li> <li>Undefined array key fixes (#14532) - Jellyfrog</li> <li>Use Collection instead of collect() (#14527) - Jellyfrog</li> <li>Convert string references to <code>::class</code> (#14508) - Jellyfrog</li> <li>Miscellaneous cleanup - part 5 (#14502) - Jellyfrog</li> <li>Type API methods and properties (#14476) - fbouynot</li> <li>Miscellaneous cleanup - part 4 (#14452) - Jellyfrog</li> <li>Miscellaneous cleanup - part 3 (#14450) - Jellyfrog</li> <li>Miscellaneous cleanup, mostly undefined variables - part2 (#14445) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_19","title":"Documentation","text":"<ul> <li>Fix Traceroute debug alert template snippet (#14668) - electrocret</li> <li>Update Dispatcher docs for Debian and for non /opt/librenms installation (#14663) - koocotte</li> <li>Fix Location mapping docs (#14644) - electrocret</li> <li>Update config name for the default device display (#14641) - cfitzw</li> <li>Update Dispatcher-Service.md (#14632) - systeembeheerder</li> <li>Updating postgres application documentation (#14627) - bnerickson</li> <li>Documentation for Observium Migration (#14601) - LoveSkylark</li> <li>Add snmp_flags and tips on string oids to the docs (#14579) - murrant</li> <li>Clarify Dispatcher-Service.md for systemd (#14575) - fuzzbawl</li> <li>Update license section of readme (#14571) - otkd</li> <li>Remove outdated rules videos (#14505) - kiwibrew</li> <li>Docker quick install (#14475) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_9","title":"Tests","text":"<ul> <li>Mock astext (#14581) - murrant</li> <li>Github tests log improvement (#14559) - murrant</li> <li>Improve trap testing (#14546) - murrant</li> <li>Remove unused phpstan tests (#14503) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_13","title":"Misc","text":"<ul> <li>New schema dump (#14630) - Jellyfrog</li> <li>Add check_hetzner_storagebox to includes/services (#14463) - SirMaple</li> <li>Add instance id to error reports (#14444) - murrant</li> </ul>"},{"location":"General/Changelog/#internal-features_7","title":"Internal Features","text":"<ul> <li>DeviceCache::get() allow hostname (#14649) - murrant</li> <li>SnmpQuery numeric accept a boolean (#14565) - murrant</li> <li>Support regex in os field replace (#14563) - murrant</li> <li>More Replacement Capabilities for sensor index computation (#14522) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#dependencies_16","title":"Dependencies","text":"<ul> <li>Bump loader-utils from 1.4.0 to 1.4.2 (#14628) - dependabot</li> </ul>"},{"location":"General/Changelog/#22100","title":"22.10.0","text":"<p>(2022-10-17)</p> <p>A big thank you to the following 22 contributors this last month:</p> <ul> <li>murrant (29)</li> <li>Jellyfrog (8)</li> <li>KayckMatias (4)</li> <li>Martin22 (3)</li> <li>PipoCanaja (3)</li> <li>fbouynot (3)</li> <li>electrocret (2)</li> <li>ottorei (1)</li> <li>SirMaple (1)</li> <li>carbinefreak (1)</li> <li>opalivan (1)</li> <li>luc-ass (1)</li> <li>jgelinas (1)</li> <li>mpikzink (1)</li> <li>rhinoau (1)</li> <li>tim427 (1)</li> <li>daniel-franca (1)</li> <li>sashashura (1)</li> <li>tuomari (1)</li> <li>kimhaak (1)</li> <li>bnerickson (1)</li> <li>loopodoopo (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (20)</li> <li>murrant (16)</li> <li>PipoCanaja (11)</li> <li>ottorei (3)</li> <li>VVelox (2)</li> <li>SantiagoSilvaZ (1)</li> </ul>"},{"location":"General/Changelog/#security_10","title":"Security","text":"<ul> <li>Block disabled user session auth (#14473) - murrant</li> <li>Fix group delete xss (#14472) - murrant</li> <li>Fix alert rules XSS (#14471) - murrant</li> <li>Fix xss in browser push transport (#14470) - murrant</li> <li>Fix users xss (#14469) - murrant</li> <li>Fix user mass assignment vulnerability (#14468) - murrant</li> <li>Fix billing xss (#14465) - murrant</li> <li>Fix memcached unserialize vulnerability (#14459) - murrant</li> <li>Fix possible RSS XSS (#14457) - murrant</li> <li>GitHub Workflows security hardening (#14388) - sashashura</li> </ul>"},{"location":"General/Changelog/#device_20","title":"Device","text":"<ul> <li>Correct aviatModemCurModulationRx oid (#14446) - Jellyfrog</li> <li>MNI Microwave OS Add (#14427) - carbinefreak</li> <li>Add OS tait-tnadmin for TN9300 (#14413) - opalivan</li> <li>Skip empty drac state sensors (#14409) - jgelinas</li> <li>Added support for additional Moxa EDS-G models (#14405) - rhinoau</li> <li>Issue samsung printer m4080 fx (#14391) - daniel-franca</li> <li>Enexus system output current fix (#14324) - loopodoopo</li> <li>Routeros - Fix displaying distance in charts (#14300) - Martin22</li> <li>Added support for Ubiquiti UFiber OLT (#14256) - Martin22</li> </ul>"},{"location":"General/Changelog/#webui_16","title":"Webui","text":"<ul> <li>Fix missing device_id from device alert logs (#14460) - ottorei</li> <li>Fix about date display (#14442) - murrant</li> <li>Fix pseudowires pages (#14441) - murrant</li> <li>Enhanced Service Overview on Device Overview Page (#14410) - luc-ass</li> <li>Disable plugins that have errors (#14383) - murrant</li> <li>Fix Inventory table for Dark theme (#14377) - electrocret</li> <li>Add initselect2 to locations ports (#14375) - KayckMatias</li> <li>Update devices filter in alert-logs to init_select2 (#14361) - KayckMatias</li> </ul>"},{"location":"General/Changelog/#alerting_15","title":"Alerting","text":"<ul> <li>Alert map location fix (#14380) - KayckMatias</li> <li>Populate the alert rule field with the builder json (#14374) - murrant</li> </ul>"},{"location":"General/Changelog/#snmp-traps_3","title":"Snmp Traps","text":"<ul> <li>Improve LinkUp and LinkDown trap handling incomplete traps (#14385) - tuomari</li> </ul>"},{"location":"General/Changelog/#applications_17","title":"Applications","text":"<ul> <li>Add pwrstatd application (#14365) - bnerickson</li> </ul>"},{"location":"General/Changelog/#api_15","title":"Api","text":"<ul> <li>Fix port search with slashes (#14403) - murrant</li> </ul>"},{"location":"General/Changelog/#discovery_11","title":"Discovery","text":"<ul> <li>Cisco NAC fix (#14440) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_10","title":"Polling","text":"<ul> <li>Fix bgp-peers bgpPeerIface bug and update test data (#14420) - murrant</li> </ul>"},{"location":"General/Changelog/#oxidized_4","title":"Oxidized","text":"<ul> <li>Fix oxidized web requests unclosed connections or responding fast enough (#14370) - fbouynot</li> </ul>"},{"location":"General/Changelog/#authentication_6","title":"Authentication","text":"<ul> <li>Rework socialite integration (#14367) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#bug_19","title":"Bug","text":"<ul> <li>Snmpwalk functions: dont include invalid data (#14438) - Jellyfrog</li> <li>Fix VRP duplicate BGP Peers (#14431) - PipoCanaja</li> <li>Version and git helper improvements (#14412) - murrant</li> <li>Cache version data (#14404) - murrant</li> <li>Fix rpi codec state sensor (#14400) - murrant</li> <li>Fix libvirt count() uncountable error (#14398) - murrant</li> <li>Fix Firebrick local ASN (#14397) - murrant</li> <li>Fix ups nut PHP 8 issue (#14392) - murrant</li> </ul>"},{"location":"General/Changelog/#refactor_10","title":"Refactor","text":"<ul> <li>Fix a few Db* to Eloquent requests (#14278) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#cleanup_11","title":"Cleanup","text":"<ul> <li>Remove tabs from yaml (#14437) - Jellyfrog</li> <li>Miscellaneous fixes, mostly undefined variables (#14432) - Jellyfrog</li> <li>Trim whitespaces from device data (#14429) - Jellyfrog</li> <li>Fix bgp_peer array_merge error (#14416) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#documentation_20","title":"Documentation","text":"<ul> <li>Updating details of my LibreNMS install (#14458) - SirMaple</li> <li>Fix php7.2 occurence in Performance.md documentation (#14394) - fbouynot</li> <li>Fix documentation for php8.1 and bad package name (#14393) - fbouynot</li> </ul>"},{"location":"General/Changelog/#translation_7","title":"Translation","text":"<ul> <li>Fix Typo in Settings (#14443) - electrocret</li> </ul>"},{"location":"General/Changelog/#tests_10","title":"Tests","text":"<ul> <li>Speed up tests (#14421) - murrant</li> <li>Fix cisco-pw test capture (#14415) - murrant</li> <li>Test supported PHP versions only (#14389) - murrant</li> <li>Run CI on ubuntu 22.04 (#14379) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_14","title":"Misc","text":"<ul> <li>Update ports_purge docs and definitions (#14402) - KayckMatias</li> <li>Added Ubuntu and Raspbian to ifAlias script (#14399) - tim427</li> </ul>"},{"location":"General/Changelog/#dependencies_17","title":"Dependencies","text":"<ul> <li>Increase minimum version to PHP 8.1 (#14378) - murrant</li> </ul>"},{"location":"General/Changelog/#2290","title":"22.9.0","text":"<p>(2022-09-21)</p> <p>A big thank you to the following 19 contributors this last month:</p> <ul> <li>murrant (53)</li> <li>Jellyfrog (17)</li> <li>PipoCanaja (7)</li> <li>fbouynot (6)</li> <li>bp0 (3)</li> <li>Npeca75 (2)</li> <li>sembeek (1)</li> <li>huntr-helper (1)</li> <li>KayckMatias (1)</li> <li>LoveSkylark (1)</li> <li>quentinsch (1)</li> <li>loopodoopo (1)</li> <li>electrocret (1)</li> <li>Martin22 (1)</li> <li>luc-ass (1)</li> <li>ktims (1)</li> <li>VirTechSystems (1)</li> <li>tim427 (1)</li> <li>mwobst (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (43)</li> <li>murrant (39)</li> <li>PipoCanaja (9)</li> <li>ottorei (4)</li> <li>SourceDoctor (1)</li> </ul>"},{"location":"General/Changelog/#feature_17","title":"Feature","text":"<ul> <li>Improved Modern Modules (#14315) - murrant</li> <li>Add @signedGraphTag() and @signedGraphUrl() blade directives (#14269) - murrant</li> <li>Device settings: attempt to open related tab (#14250) - murrant</li> <li>Error reporting (#14190) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#security_11","title":"Security","text":"<ul> <li>Fix scheduled maintenance xss (#14360) - murrant</li> <li>Add huntr.dev to SECURITY.md (#14359) - huntr-helper</li> </ul>"},{"location":"General/Changelog/#device_21","title":"Device","text":"<ul> <li>Added status checks for (BWCC) battery status and condition for onboa\u2026 (#14349) - quentinsch</li> <li>UHP VSAT modems (#14317) - loopodoopo</li> <li>Ray2 - Oid repair at ber (#14302) - Martin22</li> <li>Fix ciena-sds inventory bugs (#14252) - murrant</li> <li>F5 partition ram (#14226) - fbouynot</li> <li>Add Cisco Flash storage support (#14219) - fbouynot</li> </ul>"},{"location":"General/Changelog/#webui_17","title":"Webui","text":"<ul> <li>Load device selection dynamically on Ports page (#14353) - KayckMatias</li> <li>Port pages fixes and cleanups (#14310) - murrant</li> <li>Remove Caffeine (#14277) - murrant</li> <li>Updated brother.svg to make it render in Safari (#14271) - luc-ass</li> <li>Fix for Cisco group device health tab (#14265) - fbouynot</li> <li>Fix dashboard widgets becoming unlocked (especially when using a touchscreen) (#14222) - tim427</li> <li>Migrate xDSL code to module, and add support for VDSL2 MIB (#14207) - PipoCanaja</li> <li>Improved sorting options for Availability Map (#14073) - mwobst</li> </ul>"},{"location":"General/Changelog/#alerting_16","title":"Alerting","text":"<ul> <li>Discord ability to attach graph images (#14276) - murrant</li> <li>Email Transport: embed graphs by default (#14270) - murrant</li> </ul>"},{"location":"General/Changelog/#graphs_13","title":"Graphs","text":"<ul> <li>Return GraphImage to include more metadata (#14307) - murrant</li> </ul>"},{"location":"General/Changelog/#api_16","title":"Api","text":"<ul> <li>Allow delete location by id (#14334) - bp0</li> <li>API update_device, make location field work (as does location_id) (#14325) - bp0</li> </ul>"},{"location":"General/Changelog/#polling_11","title":"Polling","text":"<ul> <li>Fix ping.php skipped results (#14368) - sembeek</li> </ul>"},{"location":"General/Changelog/#oxidized_5","title":"Oxidized","text":"<ul> <li>Oxidized \"allow purpose and notes\" (#14352) - LoveSkylark</li> </ul>"},{"location":"General/Changelog/#bug_20","title":"Bug","text":"<ul> <li>Fix cipsec-tunnels ftd bad data causes error (#14366) - murrant</li> <li>Handle null in unix-agent (#14358) - murrant</li> <li>Fix the case of 'Ungrouped' in smokeping integration (#14351) - fbouynot</li> <li>Fix for smokeping integration with ping-only devices (#14341) - fbouynot</li> <li>Match displayname source for graylog (#14339) - fbouynot</li> <li>Check dot1dBasePortIfIndex exists before using it (#14337) - Jellyfrog</li> <li>Prevent errors when hrStorageTable doesn't exist (#14327) - Jellyfrog</li> <li>Revert \"ZTE ZXA10 Update (Added dBm graphs)\" (#14320) - murrant</li> <li>Billing module fix/cleanup (#14309) - electrocret</li> <li>SnmpResponse filterBadLines fix (#14306) - murrant</li> <li>Fix ARP Table on Device overview (#14304) - Npeca75</li> <li>Disable error reporting when dependencies are outdated (#14291) - murrant</li> <li>Don't send zeros to Graphite for missing metrics (#14262) - ktims</li> <li>Fix removing all port groups (#14253) - murrant</li> <li>Move cronjob time for daily.sh (#14245) - Jellyfrog</li> <li>Firebrick bgp polling was broken (#14237) - murrant</li> <li>Quick fix for cipsec-tunnels Cisco implementation (#14232) - PipoCanaja</li> <li>Fix redeclare of function breaking tests in OS eltex-mes23xx (#14227) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#refactor_11","title":"Refactor","text":"<ul> <li>Cleanup and optimize the availability widget (#14329) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_12","title":"Cleanup","text":"<ul> <li>Defer loading cli option defaults (#14363) - Jellyfrog</li> <li>Remove call to Config from artisan (#14362) - Jellyfrog</li> <li>Mibs - Cleanup names (#14323) - PipoCanaja</li> <li>Enable more checks (#14318) - Jellyfrog</li> <li>Do not include _token in legacy vars (#14313) - murrant</li> <li>Don't include null os when loading defs (#14312) - murrant</li> <li>2fa not all routes have names (#14311) - murrant</li> <li>Cache astext for 1 day (#14303) - murrant</li> <li>Linux distro images require feature field (#14301) - murrant</li> <li>Silence return type mismatch (#14298) - Jellyfrog</li> <li>Fix more percent calculations (#14294) - murrant</li> <li>Fix rounding null in mempools module (#14290) - murrant</li> <li>Check if polling module exists (#14289) - murrant</li> <li>Fix undefined variable (#14287) - murrant</li> <li>Handle connection timed out errors in unix agent (#14286) - murrant</li> <li>Remove unused function (#14283) - murrant</li> <li>Remove reference to unused variable (#14280) - murrant</li> <li>Cleanup some RunAlerts issues (#14274) - murrant</li> <li>Fix a bunch of \"Since fakerphp/faker 1.14: Accessing property..\" (#14267) - Jellyfrog</li> <li>Fix more error exceptions (#14266) - Jellyfrog</li> <li>Fix hrStorageType being undefined (#14260) - Jellyfrog</li> <li>Misc errors cleanup (#14257) - Jellyfrog</li> <li>Fix ipv6 hexdec error (#14254) - murrant</li> <li>Use empty string instead of null for routes (#14247) - Jellyfrog</li> <li>Sort device types alphabetically (#14244) - VirTechSystems</li> <li>Misc webui code cleanups (#14242) - murrant</li> <li>Fix some ErrorExceptions (#14241) - Jellyfrog</li> <li>Fix os_group unset errors (#14238) - murrant</li> <li>Juniper bgp-peers cleanup (#14236) - murrant</li> <li>Percentage calculation helper (#14235) - murrant</li> <li>Memcached app undefined vars (#14225) - Npeca75</li> <li>Fix Undefined variable/key warnings (#14134) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_21","title":"Documentation","text":"<ul> <li>Move list_locations from devices to locations (#14328) - bp0</li> <li>Cisco-sla module was renamed to slas (#14288) - murrant</li> <li>Update docs around APP_URL (#14282) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_11","title":"Tests","text":"<ul> <li>Do not allow sysDescr to be fetched in os module yaml (#14331) - murrant</li> <li>Remove PHP version constraint (#14314) - Jellyfrog</li> <li>Lnms dev:simulate check simulated device exists (#14243) - murrant</li> <li>Save-test-data to refresh all variants of an OS (#14231) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#misc_15","title":"Misc","text":"<ul> <li>Defer loading cli option values (#14354) - murrant</li> <li>Ignore CommandNotFoundException from reporting (#14342) - Jellyfrog</li> <li>Allow dumping of errors and warnings (#14275) - murrant</li> <li>Allow SnmpQuery to optionally abort walks if one fails (#14255) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_18","title":"Dependencies","text":"<ul> <li>Update dependencies (#14319) - murrant</li> <li>Bump php-cs-fixer to 3.4.0 (#14224) - murrant</li> </ul>"},{"location":"General/Changelog/#2280","title":"22.8.0","text":"<p>(2022-08-19)</p> <p>A big thank you to the following 26 contributors this last month:</p> <ul> <li>murrant (18)</li> <li>Npeca75 (12)</li> <li>Jellyfrog (9)</li> <li>gs-kamnas (5)</li> <li>earendilfr (3)</li> <li>fbouynot (3)</li> <li>VVelox (3)</li> <li>rhinoau (2)</li> <li>Schouwenburg (2)</li> <li>electrocret (2)</li> <li>aztec102 (2)</li> <li>PipoCanaja (1)</li> <li>loopodoopo (1)</li> <li>washcroft (1)</li> <li>Laplacence (1)</li> <li>opalivan (1)</li> <li>Jarod2801 (1)</li> <li>Martin22 (1)</li> <li>TheMysteriousX (1)</li> <li>ciscoqid (1)</li> <li>Fehler12 (1)</li> <li>PedroChaps (1)</li> <li>ajsiersema (1)</li> <li>quentinsch (1)</li> <li>Mar974 (1)</li> <li>mwobst (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (46)</li> <li>Jellyfrog (26)</li> <li>PipoCanaja (2)</li> <li>VVelox (1)</li> <li>Cormoran96 (1)</li> <li>bennet-esyoil (1)</li> <li>ottorei (1)</li> </ul>"},{"location":"General/Changelog/#feature_18","title":"Feature","text":"<ul> <li>Prepare for PHP 8.1 (#14156) - Jellyfrog</li> <li>New Poller validations (#14148) - murrant</li> <li>New lnms command to enable and disable plugins (#14147) - murrant</li> <li>Support for SSL/TLS protected connections to MySQL databases (#14142) - gs-kamnas</li> <li>Collect OS distro and LibreNMS version (#14138) - murrant</li> <li>Lnms device:poll better feedback (#14130) - murrant</li> <li>Per-App data storage (#14087) - VVelox</li> </ul>"},{"location":"General/Changelog/#device_22","title":"Device","text":"<ul> <li>Fix luminato port poll (#14217) - murrant</li> <li>Teltonika RUT fix (#14202) - loopodoopo</li> <li>Initial support for Moxa AWK Industrial APs (#14197) - rhinoau</li> <li>Mikrotik wifi station mode sensors (#14193) - Npeca75</li> <li>Update mellanox os image (#14184) - Laplacence</li> <li>Change state_name for Racoms modulation (#14174) - Martin22</li> <li>Cisco SB/CBS environment sensors (#14154) - Fehler12</li> <li>Fix Rocky Linux and AlmaLinux icons and logos (#14150) - murrant</li> <li>Add additional sysObjectIDs for variants of the Arista 7130 (#14144) - gs-kamnas</li> <li>Eltex MES 2324p Add (#14135) - aztec102</li> <li>Solid Optics EDFAMUX support (#14129) - murrant</li> <li>Merge netmanplus and riello and improve device support (#14125) - murrant</li> <li>Bats support (#14108) - Schouwenburg</li> <li>Solved aos6 problem where Librenms wasn't identifying all vlans (#14107) - PedroChaps</li> <li>Fix Cisco polling BGP peers in non-default VRF (#14105) - ajsiersema</li> <li>Added support for CheckPoint 1100, 1450 &amp; 1490 models. (#14074) - quentinsch</li> <li>Ns-bsd updated for SNS LTSB 3.7.19 (#14060) - Mar974</li> <li>ZTE ZXA10 Update (Added dBm graphs) (#14049) - aztec102</li> </ul>"},{"location":"General/Changelog/#webui_18","title":"Webui","text":"<ul> <li>Fix ports display (#14183) - murrant</li> <li>Ports by device group (#14175) - electrocret</li> <li>Empty Outages table (#14167) - Npeca75</li> <li>View Ports in Portgroups (#14141) - electrocret</li> <li>Fix eventlog filtering (#14136) - murrant</li> <li>[gui] enable permanent vertical scroll (#14102) - Npeca75</li> </ul>"},{"location":"General/Changelog/#alerting_17","title":"Alerting","text":"<ul> <li>Correct logic for recurring alert rules that span UTC days (#14145) - gs-kamnas</li> <li>Improvements to PagerDuty alert formatting (#14143) - gs-kamnas</li> <li>Add rich (=html) support for messages via Matrix (#14054) - mwobst</li> </ul>"},{"location":"General/Changelog/#graphs_14","title":"Graphs","text":"<ul> <li>Fix unauth application graphs (#14216) - murrant</li> <li>Allow specifying the background colour in graph images (#14192) - washcroft</li> </ul>"},{"location":"General/Changelog/#applications_18","title":"Applications","text":"<ul> <li>Add possibility to monitor redis application through the unix-agent (#14182) - earendilfr</li> <li>Fix error between application module and unix-agent (#14177) - earendilfr</li> <li>Add possibility to monitor the php-fpm service with the unix agent (#14173) - earendilfr</li> <li>[apps] Docker only show current containers (#14152) - Npeca75</li> <li>Add support for Sagan (#14070) - VVelox</li> <li>Add Opensearch\\Elasticsearch monitoring (#14053) - VVelox</li> </ul>"},{"location":"General/Changelog/#api_17","title":"Api","text":"<ul> <li>Standardize device and device group maintenance API (#14153) - rhinoau</li> <li>Fix maintenance APIs not associating device or group (#14127) - murrant</li> </ul>"},{"location":"General/Changelog/#discovery_12","title":"Discovery","text":"<ul> <li>Fix legacy os extends (#14220) - murrant</li> <li>Sensors, convert hex to strings (#14121) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_12","title":"Polling","text":"<ul> <li>Fix for number in sensor string (#14185) - Schouwenburg</li> </ul>"},{"location":"General/Changelog/#authentication_7","title":"Authentication","text":"<ul> <li>AD Auth PHP 8.1 fixes (#14215) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_21","title":"Bug","text":"<ul> <li>Autodiscovery fix (#14213) - Npeca75</li> <li>Fix alert log clearing SQL query (#14200) - Jellyfrog</li> <li>Fix error when ldap_search returns false (#14199) - Jellyfrog</li> <li>Fix unnecessary Updates of DB when values are equal (#14179) - opalivan</li> <li>Fix APP_KEY generation when using fpm (#14168) - Jellyfrog</li> <li>Fix validation error (#14163) - TheMysteriousX</li> <li>IPv6 Debug typo (#14162) - Npeca75</li> <li>Replace git show --no-patch option with --quiet (#14160) - ciscoqid</li> <li>Fix 500 error in validation when UI containers and poller containers have differing node_ids (#14146) - gs-kamnas</li> <li>Use --no-patch to support old git clients (#14137) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#refactor_12","title":"Refactor","text":"<ul> <li>Use \"database version\" instead of \"mysql version\" (#14158) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_22","title":"Documentation","text":"<ul> <li>Update to mkdocs-material 8.3.9 (#14189) - Jellyfrog</li> <li>SNMP extend / fix mdadm documentation (#14186) - Npeca75</li> <li>Update index.md (#14178) - Jarod2801</li> <li>Add instructions for PHP 8.1 and Ubuntu 22.04 (#14166) - Jellyfrog</li> <li>Update php installation instruction for CentOS 8 to reflect the minim\u2026 (#14159) - fbouynot</li> <li>Fix typo in Smokeping SELinux documentation (#14155) - fbouynot</li> <li>Add device_default_display info (#14151) - murrant</li> <li>Change SELinux context for logs (#14128) - fbouynot</li> </ul>"},{"location":"General/Changelog/#translation_8","title":"Translation","text":"<ul> <li>Serbian translation, part3 (#14205) - Npeca75</li> <li>More Serbian translation (#14181) - Npeca75</li> <li>Enable translation on Eventlog &amp; Component-status widgets (#14180) - Npeca75</li> <li>Initial support for Serbian language (#14165) - Npeca75</li> <li>Enable translation in 3 Alert widget (#14164) - Npeca75</li> </ul>"},{"location":"General/Changelog/#tests_12","title":"Tests","text":"<ul> <li>Allow save-test-data.php to run all modules explicitely (#14212) - PipoCanaja</li> <li>Increase OS detection time, sometimes it is not ready by 5s (#14133) - murrant</li> </ul>"},{"location":"General/Changelog/#2270","title":"22.7.0","text":"<p>(2022-07-20)</p> <p>A big thank you to the following 21 contributors this last month:</p> <ul> <li>murrant (12)</li> <li>fbouynot (4)</li> <li>mwobst (3)</li> <li>dependabot (2)</li> <li>wrongecho (2)</li> <li>ppasserini (2)</li> <li>QuadPiece (2)</li> <li>Jellyfrog (2)</li> <li>enferas (1)</li> <li>00gh (1)</li> <li>bennet-esyoil (1)</li> <li>VVelox (1)</li> <li>rhinoau (1)</li> <li>prahal (1)</li> <li>paulgear (1)</li> <li>duhow (1)</li> <li>PipoCanaja (1)</li> <li>Mar974 (1)</li> <li>ottorei (1)</li> <li>mostdaysarebaddays (1)</li> <li>dagbdagb (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (19)</li> <li>murrant (14)</li> <li>ottorei (2)</li> <li>PipoCanaja (2)</li> <li>mpikzink (1)</li> <li>VVelox (1)</li> </ul>"},{"location":"General/Changelog/#security_12","title":"Security","text":"<ul> <li>Security fixes XSS in oxidized-cfg-check.inc.php and print-customoid.php (#14126) - enferas</li> </ul>"},{"location":"General/Changelog/#device_23","title":"Device","text":"<ul> <li>Missing \"s\" in NsBsd.php (#14067) - Mar974</li> <li>Add full version of Mikrotik logo (#14063) - QuadPiece</li> <li>Add apc battery operation time, including display in WebUI (#14058) - mwobst</li> <li>Fix the parsing of the temperature unit value (CMCIII devices) (#14056) - mwobst</li> <li>Update Mikrotik logo (#14045) - QuadPiece</li> <li>Aviat WTM reduce snmp load (#13918) - murrant</li> </ul>"},{"location":"General/Changelog/#webui_19","title":"Webui","text":"<ul> <li>Fix device filtering false values (#14103) - murrant</li> <li>Minor visual changes to the apps-overview page (#14090) - bennet-esyoil</li> <li>Search device by MAC via URL (#14072) - duhow</li> <li>Add BGP description to eventlog BGP Peers messages (#14061) - mostdaysarebaddays</li> </ul>"},{"location":"General/Changelog/#alerting_18","title":"Alerting","text":"<ul> <li>Example rules for diskspace on / (#14082) - VVelox</li> </ul>"},{"location":"General/Changelog/#graphs_15","title":"Graphs","text":"<ul> <li>Ping perf (#14117) - 00gh</li> </ul>"},{"location":"General/Changelog/#applications_19","title":"Applications","text":"<ul> <li>Fix app docker (#14080) - prahal</li> </ul>"},{"location":"General/Changelog/#polling_13","title":"Polling","text":"<ul> <li>Increase traceroute timeout (#14084) - murrant</li> </ul>"},{"location":"General/Changelog/#authentication_8","title":"Authentication","text":"<ul> <li>Add option STARTTLS for authentication via AD (#14051) - dagbdagb</li> </ul>"},{"location":"General/Changelog/#bug_22","title":"Bug","text":"<ul> <li>Prevent duplicate plugin table entries (#14120) - murrant</li> <li>Fix auth_test.php debug (#14118) - murrant</li> <li>Fix config seeder will never run (#14113) - murrant</li> <li>Reset the opcache after install (#14098) - murrant</li> <li>Update config cache on install finalize step (#14097) - murrant</li> <li>Fix more webserver validation issues (#14096) - murrant</li> <li>Revert \"Add apc battery operation time, including display in WebUI\" (#14068) - PipoCanaja</li> <li>Use --no-patch instead (#14047) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#cleanup_13","title":"Cleanup","text":"<ul> <li>Remove mib poller module remnants (#14077) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_23","title":"Documentation","text":"<ul> <li>Small documentation typos (#14101) - wrongecho</li> <li>Documentation typos (#14099) - wrongecho</li> <li>Add SELinux configuration for SNMPd on Centos8 in the documentation (#14095) - fbouynot</li> <li>Add SELinux configuration for LDAP/AD authentication on Centos8 in the documentation (#14094) - fbouynot</li> <li>Add SELinux configuration for Smokeping on Centos8 in the documentation (#14093) - fbouynot</li> <li>Add SELinux configuration for RRDCached on Centos8 in the documentation (#14092) - fbouynot</li> <li>Corrected API devicegroup curl creation examples (#14081) - rhinoau</li> <li>Minor grammar fixes in doc (#14078) - paulgear</li> <li>Add documentation for Chrony application monitoring (#14066) - ottorei</li> </ul>"},{"location":"General/Changelog/#translation_9","title":"Translation","text":"<ul> <li>Few more updates to Ita lang (#14091) - ppasserini</li> <li>Italian language update (#14085) - ppasserini</li> <li>Adjustments to german translation (#14083) - mwobst</li> </ul>"},{"location":"General/Changelog/#tests_13","title":"Tests","text":"<ul> <li>Test PHP 8.1 (#14109) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_16","title":"Misc","text":"<ul> <li>Allow reapply yaml config via env (#14100) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs_9","title":"Mibs","text":"<ul> <li>More MIB fixing (#14018) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#dependencies_19","title":"Dependencies","text":"<ul> <li>Bump terser from 4.8.0 to 4.8.1 (#14123) - dependabot</li> <li>Bump guzzlehttp/guzzle from 7.4.4 to 7.4.5 (#14059) - dependabot</li> </ul>"},{"location":"General/Changelog/#2260","title":"22.6.0","text":"<p>(2022-06-14)</p> <p>A big thank you to the following 22 contributors this last month:</p> <ul> <li>murrant (22)</li> <li>gs-kamnas (5)</li> <li>Jellyfrog (4)</li> <li>dependabot (2)</li> <li>kruczek8989 (2)</li> <li>bile0026 (1)</li> <li>dennypage (1)</li> <li>hjcday (1)</li> <li>Martin22 (1)</li> <li>spyfly (1)</li> <li>Bobdave (1)</li> <li>bennet-esyoil (1)</li> <li>DaftBrit (1)</li> <li>SanderBlom (1)</li> <li>thecityofguanyu (1)</li> <li>glance- (1)</li> <li>duhow (1)</li> <li>TheMysteriousX (1)</li> <li>kevinwallace (1)</li> <li>HolgerHees (1)</li> <li>charlyforot (1)</li> <li>SourceDoctor (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (21)</li> <li>Jellyfrog (14)</li> <li>ottorei (5)</li> <li>PipoCanaja (2)</li> <li>mpikzink (1)</li> <li>f0o (1)</li> </ul>"},{"location":"General/Changelog/#feature_19","title":"Feature","text":"<ul> <li>SnmpQuery walk multiple oids (#14015) - murrant</li> <li>Add support to REST API for creating Maintenance Schedules for Device Groups (#13985) - thecityofguanyu</li> <li>Automatic fixes for validation failures (#13930) - murrant</li> </ul>"},{"location":"General/Changelog/#security_13","title":"Security","text":"<ul> <li>Bumpver handlebars.js to 4.7.7 to resolve CVE-2021-23369 (#13990) - gs-kamnas</li> </ul>"},{"location":"General/Changelog/#device_24","title":"Device","text":"<ul> <li>Fix use of incorrect variable to retrieve current sensor value (#14037) - dennypage</li> <li>Support Huawei SMU11B (#14029) - murrant</li> <li>Update Teltonika Sensors for FW R_00.07.02 (#14012) - hjcday</li> <li>Procurve hardware description cleanup (#14007) - murrant</li> <li>Racom Ray2 and Ray3 - Modulation states added (#14001) - Martin22</li> <li>Fix OS Detection for USW-Flex-XG (#13999) - spyfly</li> <li>Add support for Cisco Nexus 3550 series (formerly Exalink Fusion) devices (#13992) - gs-kamnas</li> <li>Improve support for Arista/Metamako MOS devices (#13988) - gs-kamnas</li> <li>Workaround issues with lldp information from GS108Tv1 (#13971) - glance-</li> <li>Add additional OpenBSD PF graphs (#13963) - kevinwallace</li> <li>BGP unnumbered support for Cumulus (#13785) - charlyforot</li> </ul>"},{"location":"General/Changelog/#webui_20","title":"Webui","text":"<ul> <li>Dashboard code cleanup (#13996) - murrant</li> <li>Device Types Widget (#13670) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#alerting_19","title":"Alerting","text":"<ul> <li>Add macro.past_20m macro (#14023) - kruczek8989</li> <li>Allow the use of a custom URL for accessing the PagerDuty API and correct API schema violation (#14010) - gs-kamnas</li> <li>Setting MSteams card summary to alert title (#13989) - DaftBrit</li> <li>Use display name when sending alerts to Sensu (#13967) - TheMysteriousX</li> </ul>"},{"location":"General/Changelog/#applications_20","title":"Applications","text":"<ul> <li>Add error-state to non-responsive mysql-servers (#13993) - bennet-esyoil</li> </ul>"},{"location":"General/Changelog/#discovery_13","title":"Discovery","text":"<ul> <li>Fix printer count sensors when extra garbage is returned (#14014) - murrant</li> </ul>"},{"location":"General/Changelog/#oxidized_6","title":"Oxidized","text":"<ul> <li>Syslog-notify-oxidized.php now always notifies Oxidized (#14011) - murrant</li> <li>Fix Oxidized syslog change notifier when the change was made via snmp. (#14005) - kruczek8989</li> </ul>"},{"location":"General/Changelog/#authentication_9","title":"Authentication","text":"<ul> <li>Implement support for usernames coming from reverse proxies (#13894) - HolgerHees</li> </ul>"},{"location":"General/Changelog/#bug_23","title":"Bug","text":"<ul> <li>Git version validation improvement (#14042) - murrant</li> <li>Server name validation, handle ports better (#14041) - murrant</li> <li>Fix some broken migrations (#14040) - Jellyfrog</li> <li>Fix rrd version validation check (#14036) - murrant</li> <li>Fix DB timezone validation (#14035) - murrant</li> <li>Regression fix from #13596 (#14034) - Jellyfrog</li> <li>Fix an issue when getting the local version from git (#14020) - murrant</li> <li>Fix migrations failing one time after dashboard cleanup (#14002) - murrant</li> <li>Fix Netscaler VServer database updates during polling (#13995) - Bobdave</li> <li>Fix 500 error in validations when capabilities are not supported or set (#13991) - gs-kamnas</li> </ul>"},{"location":"General/Changelog/#cleanup_14","title":"Cleanup","text":"<ul> <li>Remove traceroute6, it is unused (#14019) - murrant</li> <li>Remove DefaultWidgetSeeder (#14006) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_24","title":"Documentation","text":"<ul> <li>Okta saml (#14038) - bile0026</li> <li>HPE Comware snmp config example (#13997) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_14","title":"Tests","text":"<ul> <li>Fix tests failing when device with IP 127.1.6.1 exists (#14016) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_17","title":"Misc","text":"<ul> <li>Slightly easier validation page error access (#14044) - murrant</li> <li>Lnms scan respect -q parameter (#14027) - murrant</li> <li>Custom OID processing of numeric strings with filters (#13968) - duhow</li> <li>Validate base_url and server_name (#13941) - murrant</li> </ul>"},{"location":"General/Changelog/#mibs_10","title":"Mibs","text":"<ul> <li>Update MIBs (#14017) - Jellyfrog</li> <li>Updated existing Siemens MIBs and added trap MIB (#13986) - SanderBlom</li> </ul>"},{"location":"General/Changelog/#dependencies_20","title":"Dependencies","text":"<ul> <li>Update Larastan (#14031) - murrant</li> <li>Update PHP dependencies (#14028) - murrant</li> <li>Bump guzzlehttp/guzzle from 7.4.3 to 7.4.4 (#14025) - dependabot</li> <li>Bump guzzlehttp/guzzle from 7.4.1 to 7.4.3 (#13994) - dependabot</li> </ul>"},{"location":"General/Changelog/#2250","title":"22.5.0","text":"<p>(2022-05-21)</p> <p>A big thank you to the following 23 contributors this last month:</p> <ul> <li>murrant (7)</li> <li>VVelox (6)</li> <li>slimey99uk (2)</li> <li>dependabot (2)</li> <li>Npeca75 (2)</li> <li>nox-x (1)</li> <li>nsn-amagruder (1)</li> <li>mkuurstra (1)</li> <li>booth-f (1)</li> <li>sajiby3k (1)</li> <li>skandragon (1)</li> <li>Martin22 (1)</li> <li>twelch24 (1)</li> <li>ppasserini (1)</li> <li>bl3nd3r (1)</li> <li>SantiagoSilvaZ (1)</li> <li>Jimmy-Cl (1)</li> <li>lfkeitel (1)</li> <li>steffann (1)</li> <li>micko (1)</li> <li>IVI053 (1)</li> <li>pfromme25 (1)</li> <li>mzacchi (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (19)</li> <li>murrant (16)</li> <li>ottorei (3)</li> <li>mpikzink (1)</li> </ul>"},{"location":"General/Changelog/#feature_20","title":"Feature","text":"<ul> <li>Allow unordered OIDs (global and per-os) (#13923) - murrant</li> <li>Added --ping-only to snmp-scan.py (#13810) - IVI053</li> </ul>"},{"location":"General/Changelog/#device_25","title":"Device","text":"<ul> <li>Add Cisco Business Wirless to ciscowlc.yaml (#13984) - nsn-amagruder</li> <li>Add Eaton SC200 OS model (#13978) - slimey99uk</li> <li>Fortigate LTE sensor addition (#13977) - slimey99uk</li> <li>Added BKE power supply support. (#13972) - Martin22</li> <li>Don't use bulk-walk for PrimeKey Appliances (#13958) - bl3nd3r</li> <li>Fix avtech12e sensors (#13943) - lfkeitel</li> <li>[mikrotik] fixed RouterOS ipv4/ipv6 routes (#13902) - Npeca75</li> <li>Netscaler new counter metrics (#13323) - mzacchi</li> </ul>"},{"location":"General/Changelog/#webui_21","title":"Webui","text":"<ul> <li>Update dark mode to fix BGP and Peering page (#13951) - Jimmy-Cl</li> <li>Fix snmp.timeout setting via Web UI (#13937) - murrant</li> </ul>"},{"location":"General/Changelog/#alerting_20","title":"Alerting","text":"<ul> <li>More realistic alert test data (#13969) - murrant</li> </ul>"},{"location":"General/Changelog/#graphs_16","title":"Graphs","text":"<ul> <li>[RRD] fix IPv6 folder name (#13945) - Npeca75</li> </ul>"},{"location":"General/Changelog/#applications_21","title":"Applications","text":"<ul> <li>Remove alert keys from component for Suricata (#13959) - VVelox</li> <li>Fix a few issues with variable names for Suricata (#13956) - VVelox</li> <li>Scripts/json-app-tool.php JSON generation fix and add -S for SNMP extend name (#13948) - VVelox</li> <li>Add Suricata monitoring (#13942) - VVelox</li> </ul>"},{"location":"General/Changelog/#discovery_14","title":"Discovery","text":"<ul> <li>Fix polling and discovery of FortiGate cluster sensors (#13980) - mkuurstra</li> </ul>"},{"location":"General/Changelog/#oxidized_7","title":"Oxidized","text":"<ul> <li>Oxidized API to return groups based on device purpose or notes (#13976) - sajiby3k</li> </ul>"},{"location":"General/Changelog/#authentication_10","title":"Authentication","text":"<ul> <li>Auth_ldap_skip_group_check when ldap_compare is not supported (#13926) - micko</li> <li>Add LDAP bind and userlist filter support to ldap-authorization (#13788) - pfromme25</li> </ul>"},{"location":"General/Changelog/#bug_24","title":"Bug","text":"<ul> <li>Inconsistency in ldap starttls config parameter (#13987) - nox-x</li> <li>Fix version check error (#13981) - murrant</li> <li>Use full sudo path (#13975) - skandragon</li> <li>Fix IPv6 in service check host (#13939) - steffann</li> </ul>"},{"location":"General/Changelog/#refactor_13","title":"Refactor","text":"<ul> <li>Improve the efficiency of some queries (#13974) - murrant</li> <li>Move Config loading to a service provider (#13927) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_25","title":"Documentation","text":"<ul> <li>Fix typo in dispatcher service doc (#13979) - booth-f</li> <li>Fix  a typo in alerting doc (#13970) - twelch24</li> <li>DOCS, switch to dark or light mode (#13953) - SantiagoSilvaZ</li> <li>Assorted cleanups to alerting docs, primarily to make mdl happier (#13950) - VVelox</li> <li>Update test doc making it more mdl happy and add a section on writing JSON app tests (#13949) - VVelox</li> </ul>"},{"location":"General/Changelog/#translation_10","title":"Translation","text":"<ul> <li>Small Italian lang update (#13960) - ppasserini</li> </ul>"},{"location":"General/Changelog/#misc_18","title":"Misc","text":"<ul> <li>Improve lnms shortcut validation (#13982) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_21","title":"Dependencies","text":"<ul> <li>Bump async from 2.6.3 to 2.6.4 (#13947) - dependabot</li> <li>Bump composer/composer from 2.2.4 to 2.3.5 (#13944) - dependabot</li> </ul>"},{"location":"General/Changelog/#2240_1","title":"22.4.0","text":"<p>(2022-04-21)</p> <p>A big thank you to the following 27 contributors this last month:</p> <ul> <li>murrant (18)</li> <li>SantiagoSilvaZ (3)</li> <li>laf (3)</li> <li>dependabot (3)</li> <li>Fehler12 (3)</li> <li>ottorei (2)</li> <li>bl3nd3r (2)</li> <li>p4k8 (1)</li> <li>si458 (1)</li> <li>TheMysteriousX (1)</li> <li>cliffalbert (1)</li> <li>Jimmy-Cl (1)</li> <li>frenchie (1)</li> <li>ppasserini (1)</li> <li>claude191 (1)</li> <li>westerterp (1)</li> <li>Cormoran96 (1)</li> <li>WillIrvine (1)</li> <li>lucalo72 (1)</li> <li>ssasso (1)</li> <li>Jellyfrog (1)</li> <li>geg347 (1)</li> <li>dandare100 (1)</li> <li>bonzo81 (1)</li> <li>PipoCanaja (1)</li> <li>jonathanjdavis (1)</li> <li>manonfgoo (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (25)</li> <li>murrant (16)</li> <li>laf (10)</li> <li>ottorei (3)</li> <li>PipoCanaja (3)</li> <li>SourceDoctor (2)</li> <li>haxmeadroom (1)</li> </ul>"},{"location":"General/Changelog/#feature_21","title":"Feature","text":"<ul> <li>Add ISIS discovery and polling for iosxe devices (#13880) - WillIrvine</li> </ul>"},{"location":"General/Changelog/#security_14","title":"Security","text":"<ul> <li>Fix services command injection (#13932) - murrant</li> <li>Fix Graylog XSS (#13931) - murrant</li> <li>Bump minimist from 1.2.5 to 1.2.6 (#13872) - dependabot</li> <li>Fix SQL injection in get-host-dependencies (#13868) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#device_26","title":"Device","text":"<ul> <li>Support tplink routers (#13922) - si458</li> <li>Fix Hytera error (#13909) - murrant</li> <li>PrimeKey Improvements (#13901) - bl3nd3r</li> <li>Enhancements for Zyxel OS (#13897) - Jimmy-Cl</li> <li>Added support for Dell PowerVault ME4024 (#13883) - laf</li> <li>Add support for Riello NetMan 204 (#13878) - lucalo72</li> <li>Fix usw flex switch hardware detection (#13877) - Fehler12</li> <li>Added Polycom Lens SNMP support. (#13876) - Fehler12</li> <li>Fix for PFSense state table removals field (#13863) - dandare100</li> <li>McAfee Proxy Sensor name update (#13853) - PipoCanaja</li> <li>Add support for PrimeKey Hardware Appliance (#13806) - bl3nd3r</li> </ul>"},{"location":"General/Changelog/#webui_22","title":"Webui","text":"<ul> <li>Add ISIS-details to alert details (#13920) - ottorei</li> <li>Fix port mini graphs (#13911) - murrant</li> <li>Replaced OpenWRT icon with new logo (#13891) - frenchie</li> <li>Add \"Ping Response\" graph to \"Ping Only\" Device Overview page (#13886) - westerterp</li> <li>Remove fix size for column mac adresse (#13881) - Cormoran96</li> <li>Fixed the top port errors widget returning bits graphs instead (#13860) - laf</li> </ul>"},{"location":"General/Changelog/#alerting_21","title":"Alerting","text":"<ul> <li>Correct type hint (#13915) - TheMysteriousX</li> <li>Improve alert template saving (#13910) - murrant</li> <li>Added Basic authentication capability to Alertmanager Transport (#13867) - geg347</li> </ul>"},{"location":"General/Changelog/#snmp-traps_4","title":"Snmp Traps","text":"<ul> <li>Add Cisco Err-Disable interface event trap handler (#13855) - bonzo81</li> </ul>"},{"location":"General/Changelog/#api_18","title":"Api","text":"<ul> <li>Ensure 'add_device' API returns indexed-array (as per doco) (#13887) - claude191</li> </ul>"},{"location":"General/Changelog/#polling_14","title":"Polling","text":"<ul> <li>Fix STP polling bug (#13924) - murrant</li> <li>Print full error message in poller/discovery output (#13903) - murrant</li> </ul>"},{"location":"General/Changelog/#rancid_1","title":"Rancid","text":"<ul> <li>Add MRV OptiDriver support in gen_rancid (#13900) - cliffalbert</li> <li>Add support for VyOS on Rancid conf (#13874) - ssasso</li> </ul>"},{"location":"General/Changelog/#bug_25","title":"Bug","text":"<ul> <li>Validate fixes (#13935) - murrant</li> <li>Lnms device:add handle snmp.community bad format (#13914) - murrant</li> <li>Fix install icons (#13904) - murrant</li> <li>Handle bad uptime input (#13899) - murrant</li> <li>Fix custom error messages (#13898) - murrant</li> <li>Migrate addhost.php to lnms device:add (#13870) - murrant</li> </ul>"},{"location":"General/Changelog/#refactor_14","title":"Refactor","text":"<ul> <li>Port Validation Page to Laravel (#13921) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_15","title":"Cleanup","text":"<ul> <li>Better device:add error output (#13913) - murrant</li> <li>Remove non-working Dell specific alert rules from the collection (#13706) - Fehler12</li> </ul>"},{"location":"General/Changelog/#documentation_26","title":"Documentation","text":"<ul> <li>Docs, fix code block in oxidized group (#13908) - SantiagoSilvaZ</li> <li>[DOC] Fix Code blocks Step 2 Installing Network-WeatherMap (#13905) - SantiagoSilvaZ</li> <li>[DOC] Styling the .env word quote (#13889) - SantiagoSilvaZ</li> <li>Docs, fix Linux SNMP example only listening on ::1 (#13882) - murrant</li> <li>Script that describes how to migrate traffic bills from observium. (#13757) - manonfgoo</li> </ul>"},{"location":"General/Changelog/#translation_11","title":"Translation","text":"<ul> <li>Ukrainian translation update (#13933) - p4k8</li> <li>Few more language (ITA) updates (#13890) - ppasserini</li> </ul>"},{"location":"General/Changelog/#dependencies_22","title":"Dependencies","text":"<ul> <li>Bump guzzlehttp/psr7 from 2.1.0 to 2.2.1 (#13879) - dependabot</li> <li>Bump jpgraph version to 4 (#13875) - ottorei</li> <li>Bump node-forge from 1.2.1 to 1.3.0 (#13869) - dependabot</li> </ul>"},{"location":"General/Changelog/#2230","title":"22.3.0","text":"<p>(2022-03-17)</p> <p>A big thank you to the following 22 contributors this last month:</p> <ul> <li>murrant (7)</li> <li>Jellyfrog (5)</li> <li>bonzo81 (4)</li> <li>laf (3)</li> <li>PipoCanaja (2)</li> <li>charlyforot (2)</li> <li>geg347 (2)</li> <li>westerterp (2)</li> <li>ospfbgp (1)</li> <li>MrXermon (1)</li> <li>pandalion98 (1)</li> <li>eskyuu (1)</li> <li>josh-silvas (1)</li> <li>martinberg (1)</li> <li>lpailhas (1)</li> <li>hanserasmus (1)</li> <li>si458 (1)</li> <li>SantiagoSilvaZ (1)</li> <li>LTangaF (1)</li> <li>dlangille (1)</li> <li>Npeca75 (1)</li> <li>woidi (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (19)</li> <li>murrant (10)</li> <li>laf (8)</li> <li>SourceDoctor (3)</li> <li>ottorei (1)</li> <li>bboy8012 (1)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#feature_22","title":"Feature","text":"<ul> <li>Device_add support display field (#13846) - murrant</li> <li>Display Name in availability map (#13841) - murrant</li> <li>Implement OAuth and SAML2 support (#13764) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#security_15","title":"Security","text":"<ul> <li>Resolved XSS issue from alert rule list modal (#13805) - laf</li> </ul>"},{"location":"General/Changelog/#device_27","title":"Device","text":"<ul> <li>Add support for VOSS 8.6 (#13857) - ospfbgp</li> <li>Device - HWG-WLD version 2 support (#13849) - PipoCanaja</li> <li>Fix an issue with the APC current discovery (#13837) - eskyuu</li> <li>Add VS state for Gaia (#13831) - martinberg</li> <li>[new OS] Alpine OptoElectronics TDCM-EDFA support (#13825) - charlyforot</li> <li>Fix db delete on cisco-vrf-lite discovery (#13823) - lpailhas</li> <li>Add rocky linux OS identification (#13815) - hanserasmus</li> <li>Detect truenas scale (#13812) - si458</li> <li>[comware] dropped dbfetch from discovery/sensors (#13796) - Npeca75</li> <li>Correct divisor in discovery definition vertiv-pdu.yaml (#13768) - woidi</li> </ul>"},{"location":"General/Changelog/#webui_23","title":"Webui","text":"<ul> <li>Fixed displaying hostname in create bill when port is passed (#13830) - laf</li> <li>Fix Oxidized Config tab showing when Device OS or Device Type is disabled (#13809) - westerterp</li> <li>Position the buttons in the center on user preferences page (#13802) - SantiagoSilvaZ</li> <li>Add usage hints for Display Name placeholder usage (#13801) - LTangaF</li> <li>Fix second menu bar in Apps screens (#13800) - westerterp</li> <li>WebUI - Search results for ports (#13787) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#alerting_22","title":"Alerting","text":"<ul> <li>Newer versions of Jira use HTTP code 201 fore created issues (#13852) - MrXermon</li> <li>Add extra dynamic values alerttransport alertmanager (#13828) - geg347</li> </ul>"},{"location":"General/Changelog/#snmp-traps_5","title":"Snmp Traps","text":"<ul> <li>Add APC SmartAvrReducing trap handlers (#13839) - bonzo81</li> <li>Add APC upsOnBattery &amp; powerRestored trap handler (#13836) - bonzo81</li> <li>Add OspfTxRetransmit Trap Handler (#13824) - bonzo81</li> <li>Cisco Mac address violation trap handler (#13811) - bonzo81</li> </ul>"},{"location":"General/Changelog/#api_19","title":"Api","text":"<ul> <li>Adds API call to update port notes on devices. (#13834) - josh-silvas</li> </ul>"},{"location":"General/Changelog/#bug_26","title":"Bug","text":"<ul> <li>Rewrite agent packages parsing code (#13840) - murrant</li> <li>Fix snmpv3 context when empty SnmpQuery (#13832) - murrant</li> <li>Regression fix from b6a8b602b891d9eb8633f62632c17bdc559cd620 (#13819) - Jellyfrog</li> <li>Fix PHPStan Deprecated test (#13794) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#refactor_15","title":"Refactor","text":"<ul> <li>Remove addHost from ModuleTestHelper (#13847) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_15","title":"Tests","text":"<ul> <li>PHP8 phpstan fix (#13843) - murrant</li> <li>Fix tests for MariaDB &gt; 10.5.15 (#13829) - Jellyfrog</li> <li>Add MIB to OS helper to tests (#13795) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_19","title":"Misc","text":"<ul> <li>Add configuration support for IPMIv2 Kg key (#13845) - pandalion98</li> <li>New device:add code (#13842) - murrant</li> <li>Fix class error name prevents to show BER graph (#13833) - charlyforot</li> <li>Add generic PSU status failed alert rule template (#13821) - geg347</li> <li>Bump version to 22.2.1 (#13798) - dlangille</li> </ul>"},{"location":"General/Changelog/#2220","title":"22.2.0","text":"<p>(2022-02-16)</p> <p>A big thank you to the following 22 contributors this last month:</p> <ul> <li>Jellyfrog (22)</li> <li>murrant (11)</li> <li>PipoCanaja (7)</li> <li>Npeca75 (7)</li> <li>ilGino (6)</li> <li>SantiagoSilvaZ (4)</li> <li>laf (3)</li> <li>h-barnhart (2)</li> <li>aztec102 (2)</li> <li>Fehler12 (1)</li> <li>JKJameson (1)</li> <li>jepke (1)</li> <li>sGoico (1)</li> <li>dorkmatt (1)</li> <li>SourceDoctor (1)</li> <li>si458 (1)</li> <li>dfitton (1)</li> <li>Martin22 (1)</li> <li>fsmeets (1)</li> <li>dependabot (1)</li> <li>knpo (1)</li> <li>guipoletto (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (35)</li> <li>murrant (16)</li> <li>laf (14)</li> <li>PipoCanaja (10)</li> <li>ottorei (6)</li> <li>SourceDoctor (5)</li> <li>kkrumm1 (1)</li> </ul>"},{"location":"General/Changelog/#feature_23","title":"Feature","text":"<ul> <li>Implement system for user packages in composer (#13718) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#security_16","title":"Security","text":"<ul> <li>Hide community and make it XSS safer (#13783) - PipoCanaja</li> <li>Moved some pages to be within admin route (#13782) - laf</li> <li>XSS fix (#13780),(#13778),(#13776),(#13775) - PipoCanaja</li> <li>Bump follow-redirects package from 1.14.7 to 1.14.8 (#13774) - dependabot</li> </ul>"},{"location":"General/Changelog/#device_28","title":"Device","text":"<ul> <li>Support for Terra sdi410c / sdi480 devices (#13759) - Npeca75</li> <li>Added BER to Racom Ray and Ray3 (#13758) - Martin22</li> <li>Added system temperature support including state for Extreme VSP 4900 devices (#13743) - laf</li> <li>Added ipv6 route discovery for Mikrotik devices (#13737) - Npeca75</li> <li>Fixed airos temp in 8.7.7 for ubnt devices (#13731) - murrant</li> <li>Added sensors to ZXA OS (#13724) - aztec102</li> <li>Added support for Volius OS (#13723) - aztec102</li> <li>Updated DDM MIBs for Jetstream OS (#13715) - Npeca75</li> <li>Added support for Ubiquiti Airfiber60 devices (#13680) - jepke</li> <li>Fixed Temperature Sensor for AirOS 8.7.4+ (#13655) - JKJameson</li> <li>Added support for Lenovo think station devices (#13617) - Fehler12</li> <li>Added sensors for huawei vrp devices (#13352) - guipoletto</li> </ul>"},{"location":"General/Changelog/#webui_24","title":"Webui","text":"<ul> <li>Rewrite includes/html/pages/device/health.inc.php (#13777) - Npeca75</li> <li>Various fixes for STP (#13773) - PipoCanaja</li> <li>Added missing icons for progressive web app (#13771) - murrant</li> <li>Show selected selection option on graphs page in Mono theme (#13765) - SantiagoSilvaZ</li> <li>Show selected option of devices-graphs-select in Mono theme (#13752) - SantiagoSilvaZ</li> <li>Upgrade to font awesome 6 (#13760) - Jellyfrog</li> <li>Upgrade to font awesome 5 (#13754) - Jellyfrog</li> <li>Update dark.css to improve visibility (#13749) - dfitton</li> <li>Removing colon symbol from multiple dialogs (#13742) - ilGino</li> <li>Added the word Actions in the header of the oxidized-nodes table (#13741) - SantiagoSilvaZ</li> <li>Updated icons of links pointing to Health pages (#13729) - ilGino</li> <li>Updated to a more consistent Fontawesome icon for the Export to PDF (#13713) - ilGino</li> <li>Removing the colon symbol to the right of a control labels (#13704),(#13705) - ilGino</li> <li>Update to tailwind 3 (#13695) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#alerting_23","title":"Alerting","text":"<ul> <li>Added better default sensor alert template (#13703) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#snmp-traps_6","title":"Snmp Traps","text":"<ul> <li>Added SNMP Traps for Brocade login traps (#13770) - h-barnhart</li> <li>Added SNMP Traps for APC Overload Traps (#13726) - h-barnhart</li> </ul>"},{"location":"General/Changelog/#discovery_15","title":"Discovery","text":"<ul> <li>Check for empty SLA tags so we skip bad entries (#13679) - laf</li> </ul>"},{"location":"General/Changelog/#bug_27","title":"Bug","text":"<ul> <li>Only try contexts in STP for Cisco devices (#13767) - murrant</li> <li>Fix settings array initial value (#13755) - Jellyfrog</li> <li>Use better filesystem functions to delete host rrd dir (#13735) - Jellyfrog</li> <li>Device:poll log poll complete (#13733) - murrant</li> <li>Fixed \\&lt; 0 exception in ports poller (#13732) - murrant</li> <li>Fixed ups-nut check (#13722) - Jellyfrog</li> <li>Changed fping hardcoded binary to user defined fping (#13720) - sGoico</li> </ul>"},{"location":"General/Changelog/#refactor_16","title":"Refactor","text":"<ul> <li>Oxidized reload called on Device update and remove (#13730) - murrant</li> <li>Stp module rewrite (#13570) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_16","title":"Cleanup","text":"<ul> <li>Dropped dbfetch from discovery/sensors for pbn devices (#13789) - Npeca75</li> <li>Dropped dbfetch from discovery/sensors for junos devices (#13784) - Npeca75</li> <li>Removed contrib directory (#13727) - murrant</li> <li>Removed old vendor fix (#13717) - Jellyfrog</li> <li>Replace Requests library with HTTP Client (#13689) - Jellyfrog</li> <li>Use built in method to render a string with Blade (#13688) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_27","title":"Documentation","text":"<ul> <li>Simple docs tweaking (#13792) - Jellyfrog</li> <li>Update Switching API doc to fix link (#13786) - knpo</li> <li>Rename DHCP Stats to ISC DHCP Stats (#13756) - SourceDoctor</li> <li>Update Install-LibreNMS.md to include pip3 install (#13746) - si458</li> <li>validate-config-icon better positioning in the text (#13744) - SantiagoSilvaZ</li> <li>Updated Debian install docs to include pip3 install (#13721) - dorkmatt</li> <li>Full rework of documentation for better nav, cleanup and fixes (#13709) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#tests_16","title":"Tests","text":"<ul> <li>Bump test timeout to 2 hours (#13769) - Jellyfrog</li> <li>Speed up tests by reducing snmp timeout (#13725) - murrant</li> <li>Lnms dev:check add --os-modules-only option (#13700) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_20","title":"Misc","text":"<ul> <li>Set default DB_TEST_PORT in database config (#13793) - Jellyfrog</li> <li>Fixed links to connected devices in old style maps (#13762) - fsmeets</li> <li>Updated Top Devices widget to include filtering on ifOperStatus (#13748) - Npeca75</li> <li>Correct prefix for \"kilo\" should be small k, not capital K (#13714) - ilGino</li> <li>Remove old composer preinstall script (#13712) - Jellyfrog</li> <li>Improve Proxy::shouldBeUsed (#13702) - Jellyfrog</li> <li>Use commit date to compare pull requestes (#13701) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#dependencies_23","title":"Dependencies","text":"<ul> <li>Update JS deps (#13694) - Jellyfrog</li> <li>Update dependencies (#13684) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2210","title":"22.1.0","text":"<p>(2022-01-23)</p> <p>A big thank you to the following 26 contributors this last month:</p> <ul> <li>murrant (9)</li> <li>Npeca75 (4)</li> <li>loopodoopo (3)</li> <li>ilGino (2)</li> <li>Jellyfrog (2)</li> <li>SourceDoctor (2)</li> <li>laf (2)</li> <li>aztec102 (2)</li> <li>twelch24 (1)</li> <li>tkjaer (1)</li> <li>ssasso (1)</li> <li>TechieDylan (1)</li> <li>hvanoch (1)</li> <li>h-barnhart (1)</li> <li>gdepeyrot (1)</li> <li>k0079898 (1)</li> <li>efelon (1)</li> <li>westerterp (1)</li> <li>avermeer-tc (1)</li> <li>Fehler12 (1)</li> <li>bonzo81 (1)</li> <li>glance- (1)</li> <li>VirTechSystems (1)</li> <li>iopsthecloud (1)</li> <li>blubecks (1)</li> <li>thford89 (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (22)</li> <li>Jellyfrog (13)</li> <li>laf (10)</li> <li>PipoCanaja (6)</li> <li>ottorei (2)</li> <li>SourceDoctor (2)</li> </ul>"},{"location":"General/Changelog/#feature_24","title":"Feature","text":"<ul> <li>Add Sla jitter packet loss percent graph (#13600) - bonzo81</li> <li>Add API-routes for listing MPLS SAPs and services (#13561) - blubecks</li> </ul>"},{"location":"General/Changelog/#device_29","title":"Device","text":"<ul> <li>Merge enviromux-micro in existing NTI (#13696) - Npeca75</li> <li>Change the variable to detect version for mikrotik ups runtime device divisor (#13678) - TechieDylan</li> <li>VRP BGP fixes (#13675) - murrant</li> <li>Added new sensors to mes23xx (#13671) - Npeca75</li> <li>Added initial detection MES2324F or MES2324FB (#13669) - aztec102</li> <li>New OS: Adva XG 304 (#13668) - h-barnhart</li> <li>Basic ZTE ZXA10 detection (#13658) - murrant</li> <li>Added CET Power T2S TSI (#13645) - aztec102</li> <li>Eltek ospf poller disable (#13635) - loopodoopo</li> <li>Smartoptics dcp m 40 zr (#13634) - avermeer-tc</li> <li>Updated XOS (Extreme) processor data to use correct OID (#13633) - laf</li> <li>Initial Support for Fujitsu RX300 with iRMC4 (#13631) - Fehler12</li> <li>Teleste Luminato ports &amp; qam/asi output sensors &amp; yaml (#13616) - Npeca75</li> <li>Workaround linksys always mapping to g1 (#13595) - glance-</li> <li>Equallogic fix typo on os name in the storage module (#13580) - iopsthecloud</li> </ul>"},{"location":"General/Changelog/#webui_25","title":"Webui","text":"<ul> <li>[WebUI] Removing the colon symbol to the right of a control label (#13698) - ilGino</li> <li>Remove unneccessary Section Description (#13677) - SourceDoctor</li> <li>Device tracepath using wrong variables to check for traceroute output (#13674) - laf</li> <li>Allow filter by display name in device list (#13665) - gdepeyrot</li> <li>Sort Vlan Ports by ifName, ifDescr (#13657) - SourceDoctor</li> <li>Fix horizontal scrollbar in device list always visible (#13653) - efelon</li> </ul>"},{"location":"General/Changelog/#alerting_24","title":"Alerting","text":"<ul> <li>Use display name in alerts (#13650) - murrant</li> </ul>"},{"location":"General/Changelog/#graphs_17","title":"Graphs","text":"<ul> <li>Timos sap dot1q graphing fix (#13654) - loopodoopo</li> </ul>"},{"location":"General/Changelog/#applications_22","title":"Applications","text":"<ul> <li>Add supervisord application (#13673) - hvanoch</li> </ul>"},{"location":"General/Changelog/#api_20","title":"Api","text":"<ul> <li>API detect if new location should be fixed by default (#13637) - murrant</li> <li>Set fixed_coordinates via api (#13593) - VirTechSystems</li> </ul>"},{"location":"General/Changelog/#polling_15","title":"Polling","text":"<ul> <li>Added oids.no_bulk os setting (#13666) - Npeca75</li> <li>Add consistent output of name and app_id to Poller for all Applications (fixes #13641) (#13648) - westerterp</li> <li>Fix SnmpQuery bulk boolean backwards (#13636) - murrant</li> </ul>"},{"location":"General/Changelog/#rancid_2","title":"Rancid","text":"<ul> <li>Gen RANCID host also for FS.com devices (#13682) - ssasso</li> </ul>"},{"location":"General/Changelog/#bug_28","title":"Bug","text":"<ul> <li>Use PHP_BINARY directly instead of trying to build path to PHP binary (#13690) - Jellyfrog</li> <li>Small text change for misspelled Virtual (#13686) - ilGino</li> <li>Snmp timeout is a float, allow in config (#13676) - murrant</li> <li>Fix NULL device alert caused by services (#13663) - k0079898</li> <li>Disable VRP VLANs test, seems to be a bug in snmpsim snmpbulkwalk (#13649) - murrant</li> <li>Remove extra rows with duplicate keys in SyncsModels trait (#13632) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_28","title":"Documentation","text":"<ul> <li>Update rrdcached link (#13692) - twelch24</li> <li>Add missing python3-pip installation dependency for debian11 (#13691) - tkjaer</li> </ul>"},{"location":"General/Changelog/#translation_12","title":"Translation","text":"<ul> <li>Fix settings language file to include Distributed Poller labels. (#13511) - thford89</li> </ul>"},{"location":"General/Changelog/#dependencies_24","title":"Dependencies","text":"<ul> <li>Update recommended PHP version to 8.0 (#13687) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#21120","title":"21.12.0","text":"<p>(2021-12-21)</p> <p>A big thank you to the following 30 contributors this last month:</p> <ul> <li>murrant (38)</li> <li>Npeca75 (6)</li> <li>Jellyfrog (3)</li> <li>twelch24 (3)</li> <li>johnstruse (2)</li> <li>nightcore500 (2)</li> <li>Martin22 (2)</li> <li>wkamlun (2)</li> <li>martinberg (1)</li> <li>mathieu-artic (1)</li> <li>dependabot (1)</li> <li>carranzamarioagustin (1)</li> <li>SourceDoctor (1)</li> <li>si458 (1)</li> <li>Cormoran96 (1)</li> <li>claude191 (1)</li> <li>ottorei (1)</li> <li>banachtarski-91 (1)</li> <li>RockyVod (1)</li> <li>enferas (1)</li> <li>jepke (1)</li> <li>duhow (1)</li> <li>Nocturr (1)</li> <li>hjcday (1)</li> <li>djamp42 (1)</li> <li>PipoCanaja (1)</li> <li>amanualgoldstein (1)</li> <li>pepperoni-pi (1)</li> <li>paulierco (1)</li> <li>TheGreatDoc (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (42)</li> <li>murrant (20)</li> <li>SourceDoctor (3)</li> <li>ottorei (3)</li> <li>bakerds (2)</li> <li>jaypo82 (1)</li> <li>mpikzink (1)</li> <li>troublestarter (1)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#feature_25","title":"Feature","text":"<ul> <li>Catch all module errors (#13542) - murrant</li> <li>Lnms snmp:fetch query multiple devices (#13538) - murrant</li> <li>Configurable device display name (#13528) - murrant</li> <li>RRD Allow specifying a source file and ds to fill data (#13480) - murrant</li> </ul>"},{"location":"General/Changelog/#security_17","title":"Security","text":"<ul> <li>Fix unescaped strings XSS issues (#13554) - enferas</li> </ul>"},{"location":"General/Changelog/#device_30","title":"Device","text":"<ul> <li>Fix EdgeOS hardware detection (#13629) - johnstruse</li> <li>Add additional ICX 7150 devices (#13627) - johnstruse</li> <li>Fix axiscam serial format (#13620) - murrant</li> <li>Fix Cisco WLC AP cleanup (#13615) - murrant</li> <li>CPU, HW type, HW ver, Fan state discovery (#13608) - Npeca75</li> <li>Initial Eltex-mes IPv6 address discovery (#13594) - Npeca75</li> <li>Add better support for Eaton UPS (#13588) - mathieu-artic</li> <li>SmartAX supports IF-MIB, skip custom polling and fix polling GPON ports (#13579) - carranzamarioagustin</li> <li>Add back Areca secondary hardware OID (#13562) - murrant</li> <li>Ray3 - Added memory chart (#13557) - Martin22</li> <li>Add all Aviat WTM4k family devices (#13556) - RockyVod</li> <li>Fix discovery and pooling Racom Ray2 (#13553) - Martin22</li> <li>Add version for ironware (#13551) - wkamlun</li> <li>Add ICX 7150 description (#13550) - wkamlun</li> <li>Add discovery for APC EPDU1132M (#13545) - duhow</li> <li>Split Eltex-mes OS to mes21xx / mes23xx. + few improvements (#13544) - Npeca75</li> <li>Add Initial Support for VMware SD-WAN / Velocloud (#13536) - Nocturr</li> <li>Arista EOS, use sysObjectID for detection (to include vEOS) (#13534) - murrant</li> <li>RUTX fix sensor limits (#13526) - hjcday</li> <li>Added support for Himoinsa gensets status state sensors (#13456) - TheGreatDoc</li> </ul>"},{"location":"General/Changelog/#webui_26","title":"Webui","text":"<ul> <li>VLANs sort in GUI (#13628) - Npeca75</li> <li>Fix broken links (#13625) - murrant</li> <li>Fix the displayed unit for frequency and distance in the wireless section (#13614) - nightcore500</li> <li>Add more device fields to oxidized map configuration (#13604) - martinberg</li> <li>Correct graph row component responsive layout for linked graphs (#13587) - murrant</li> <li>Global search: search device display (#13583) - murrant</li> <li>Availibility Map - show Display Name if set (#13574) - SourceDoctor</li> <li>Do not show location in device overview if location is not found (#13572) - murrant</li> <li>Don't use @lang() it doesn't escape the string (#13566) - murrant</li> <li>Allow LegacyPlugin Pages to receive all parameters (#13519) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#alerting_25","title":"Alerting","text":"<ul> <li>Use http for proxy urls via guzzle (#13601) - Jellyfrog</li> <li>Twilio change text to show alert termplate msg (#13521) - djamp42</li> </ul>"},{"location":"General/Changelog/#graphs_18","title":"Graphs","text":"<ul> <li>Fix nototal graph option (#13589) - nightcore500</li> <li>Add additional type tag for Bind metrics (#13581) - murrant</li> </ul>"},{"location":"General/Changelog/#snmp-traps_7","title":"Snmp Traps","text":"<ul> <li>Veeam SNMP traps fix and extend (#13549) - jepke</li> <li>Add Alcatel Omniswitch Traps Handlers (#13492) - paulierco</li> </ul>"},{"location":"General/Changelog/#applications_23","title":"Applications","text":"<ul> <li>PHP8 compatibility for ntp-server polling app (#13513) - amanualgoldstein</li> </ul>"},{"location":"General/Changelog/#billing_2","title":"Billing","text":"<ul> <li>Billing fix a couple divide by zero errors (#13517) - murrant</li> </ul>"},{"location":"General/Changelog/#api_21","title":"Api","text":"<ul> <li>API 'list_parents_of_host' - mostly doco, but one small code enhancement (#13567) - claude191</li> </ul>"},{"location":"General/Changelog/#discovery_16","title":"Discovery","text":"<ul> <li>Q-bridge-mib, discover missing VLANs, v2 (#13569) - Npeca75</li> </ul>"},{"location":"General/Changelog/#polling_16","title":"Polling","text":"<ul> <li>Ios-fdb-table-fix -- Fixed misnamed dictionary keys for dot1dTpFdbPor\u2026 (#13559) - banachtarski-91</li> <li>OSPF issue when devices don't support OSPF-MIB::ospfIfTable (#13530) - murrant</li> <li>Poller command rewrite (#13414) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_29","title":"Bug","text":"<ul> <li>Escape net-snmp unformatted strings, try 2 (#13584) - murrant</li> <li>Workaround don't poll WLC on IOSXE (#13563) - murrant</li> <li>Fix Ciscowlc AP-polling (#13560) - ottorei</li> <li>Mark OID not increasing as invalid (#13548) - murrant</li> <li>Skip invalid OSPF data (#13547) - murrant</li> <li>Remove color markers when logging to files (#13541) - murrant</li> <li>Fix plugin_active check when plugin is not found (#13531) - murrant</li> <li>Remove unused buggy arp_discovery code (#13529) - murrant</li> <li>Pseudowire cpwVcID can exceed database max value (#13510) - pepperoni-pi</li> </ul>"},{"location":"General/Changelog/#refactor_17","title":"Refactor","text":"<ul> <li>Ipv6 discovery switch to new DB syntax (#13591) - Npeca75</li> <li>OSPF port module (#13498) - murrant</li> </ul>"},{"location":"General/Changelog/#cleanup_17","title":"Cleanup","text":"<ul> <li>Fix bad snmp context option (#13497) - murrant</li> <li>Polling cleanup, fix PHP warnings (#13460) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_29","title":"Documentation","text":"<ul> <li>Clarify docker app setup on debian/ubuntu (#13573) - si458</li> <li>Update winbox launcher doc (again) (#13558) - twelch24</li> <li>Add more detailed instructions to winbox launcher (#13552) - twelch24</li> <li>Link for can't check Python dependencies validation (#13520) - murrant</li> <li>Elaborate on feeding Oxidized (#13514) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_17","title":"Tests","text":"<ul> <li>Tests dont include empty tables (#13619) - murrant</li> <li>Collect-snmp-data.php can now capture snmp context test data (#13596) - murrant</li> <li>Snmp.unescape setting (#13590) - murrant</li> <li>Use phpstan-deprecation-rules instead (#13582) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#mibs_11","title":"Mibs","text":"<ul> <li>Update netapp mib (#13571) - Cormoran96</li> </ul>"},{"location":"General/Changelog/#dependencies_25","title":"Dependencies","text":"<ul> <li>Bump symfony/http-kernel from 5.3.9 to 5.4.0 (#13585) - dependabot</li> </ul>"},{"location":"General/Changelog/#21110","title":"21.11.0","text":"<p>(2021-11-12)</p> <p>A big thank you to the following 49 contributors this last month:</p> <ul> <li>murrant (39)</li> <li>Jellyfrog (6)</li> <li>arrmo (4)</li> <li>Nocturr (4)</li> <li>PipoCanaja (3)</li> <li>TheGreatDoc (3)</li> <li>martinberg (3)</li> <li>robje (2)</li> <li>loopodoopo (2)</li> <li>Npeca75 (2)</li> <li>drshawnkwang (2)</li> <li>jul13579 (2)</li> <li>bakerds (2)</li> <li>SourceDoctor (2)</li> <li>deajan (2)</li> <li>jonathansm (1)</li> <li>lfkeitel (1)</li> <li>Deltawings (1)</li> <li>fcuello-gc (1)</li> <li>drommc (1)</li> <li>techladsjamie (1)</li> <li>duhow (1)</li> <li>hjcday (1)</li> <li>DanielMuller-TN (1)</li> <li>blagh (1)</li> <li>cenjui (1)</li> <li>TheGracens (1)</li> <li>eskyuu (1)</li> <li>nq5 (1)</li> <li>mjbnz (1)</li> <li>roycruse (1)</li> <li>ottorei (1)</li> <li>si458 (1)</li> <li>nmanzi (1)</li> <li>apokryphal (1)</li> <li>thford89 (1)</li> <li>arjitc (1)</li> <li>tuxgasy (1)</li> <li>kterobinson (1)</li> <li>bl3nd3r (1)</li> <li>hanserasmus (1)</li> <li>mpikzink (1)</li> <li>dagbdagb (1)</li> <li>sthen (1)</li> <li>ahmedsajid (1)</li> <li>dorkmatt (1)</li> <li>evheros (1)</li> <li>nightcore500 (1)</li> <li>CirnoT (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (53)</li> <li>Jellyfrog (47)</li> <li>PipoCanaja (7)</li> <li>SourceDoctor (5)</li> <li>ottorei (5)</li> <li>mpikzink (2)</li> <li>arjitc (1)</li> <li>salmayno (1)</li> <li>yoeunes (1)</li> <li>Aeet (1)</li> <li>oussama-aitmi (1)</li> <li>nightcore500 (1)</li> <li>drshawnkwang (1)</li> </ul>"},{"location":"General/Changelog/#feature_26","title":"Feature","text":"<ul> <li>Discovery on Reboot (#13422) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#security_18","title":"Security","text":"<ul> <li>Fix widget title injection vulnerability (#13452) - murrant</li> <li>Kick other sessions when changing password (#13194) - murrant</li> </ul>"},{"location":"General/Changelog/#device_31","title":"Device","text":"<ul> <li>APC Load, wrong low precision oid (#13506) - jonathansm</li> <li>Nokia SAR HMC (#13503) - loopodoopo</li> <li>Ciena 2 (#13491) - loopodoopo</li> <li>Added initial IPv6 Address discovery for TP-LINK Jetstream (#13484) - Npeca75</li> <li>Update Windows Versions (#13474) - arrmo</li> <li>Support for PDUMNV30HVLX with PADM 20 (#13473) - drommc</li> <li>Opengear improvement, don't needlessly fetch ogEmdTemperatureTable (#13471) - drshawnkwang</li> <li>RouterOS now returns the correct runtime (#13461) - murrant</li> <li>Fix latitude having an extra - in the middle after the decimal point (#13454) - techladsjamie</li> <li>Fix Sophos-XG OID for number of active tunnels (#13444) - Nocturr</li> <li>Fix hwg poseidon state sensors (#13438) - TheGreatDoc</li> <li>UniFi/EdgeSwitch OS support for fw 5.x (#13434) - Nocturr</li> <li>Added support for Extreme SLX-OS switches (#13431) - bakerds</li> <li>Mikrotik vlans discovery, v2 (#13427) - Npeca75</li> <li>Added sensor discovery for APC NetworkAIR FM and InfraStruXure ATS (#13426) - bakerds</li> <li>Add Sophos-XG OID for monitoring HA, IPSec and license state (#13423) - Nocturr</li> <li>Add more discovery components for Dell PowerConnect 28xx (#13420) - duhow</li> <li>Added Wireless Sensors for Teltonika RUTX Routers (#13419) - hjcday</li> <li>Add APC PowerChute sysObjectID (#13406) - cenjui</li> <li>Fix APC high precision divisor (#13405) - TheGracens</li> <li>Luminato device doesn't support alternative uptimes (#13399) - eskyuu</li> <li>Update ports module to accept VDSL2 ifType in xDSL polling (#13393) - roycruse</li> <li>Fix windows fanspeed (#13376) - si458</li> <li>Add support for Teltonika RUT360 (#13375) - martinberg</li> <li>Add support for NTI Enviromux (#13373) - martinberg</li> <li>Update Himoinsa Genset discovery (#13356) - TheGreatDoc</li> <li>Improve Poweralert based devices support (#13340) - arjitc</li> <li>Add iDrac physical disk state (#13264) - tuxgasy</li> <li>Add opengear humidity to sensors (#13226) - drshawnkwang</li> <li>IOS/IOSXE PoE stats (#13213) - martinberg</li> <li>Poll SPU memory from Juniper SRX devices (#13191) - bl3nd3r</li> <li>Extend support for Endrun Sonoma Meridian II devices. (#13069) - hanserasmus</li> <li>Bintec be.IP plus support (#12993) - jul13579</li> <li>Eaton Network MS xups sensors (#12992) - dagbdagb</li> <li>Don't hardcode index for Mikrotik LTE wireless statistics (#12976) - sthen</li> <li>OS support for West Mountain 4005i DC PDU (#12885) - dorkmatt</li> <li>FabOS remove disabled dbm sensors (#12877) - evheros</li> <li>Raspberry Pi: Add SNMP extend to monitor IO pins or sensor modules connected to the GPIO header (#12749) - nightcore500</li> <li>Use high precision OIDs for APC UPS sensors (#12594) - CirnoT</li> </ul>"},{"location":"General/Changelog/#webui_27","title":"Webui","text":"<ul> <li>Increase default session lifetime to one month (#13505) - murrant</li> <li>Fix maintenance mode button in Firefox (#13500) - lfkeitel</li> <li>Only call htmlentities on port ifAlias,ifName, and ifDescr (#13489) - murrant</li> <li>Merchandise shop link in about (#13485) - murrant</li> <li>Tweak new notification appearance (#13477) - murrant</li> <li>Add missing \\&lt;/div&gt; (#13459) - robje</li> <li>Fix syslog widget priority filtering (#13411) - murrant</li> <li>PHP-Flasher for toast messages (#13401) - murrant</li> <li>Update alertlog-widget to allow filtering by device group (#13380) - ottorei</li> </ul>"},{"location":"General/Changelog/#alerting_26","title":"Alerting","text":"<ul> <li>Fix slack errors when variables are not set (#13476) - murrant</li> <li>Fix api transport mult-line parsing (#13469) - murrant</li> <li>Drop PDConnect Install links (#13407) - blagh</li> <li>Port Speed degraded alert rule (#13371) - murrant</li> <li>Added Unpolled Devices rule to collection (#12896) - ahmedsajid</li> </ul>"},{"location":"General/Changelog/#graphs_19","title":"Graphs","text":"<ul> <li>Add missing graph definition for pf_matches (pfSense firewall) (#13507) - robje</li> </ul>"},{"location":"General/Changelog/#snmp-traps_8","title":"Snmp Traps","text":"<ul> <li>SNMP Trap handler: UpsTrapOnBattery (#13482) - TheGreatDoc</li> </ul>"},{"location":"General/Changelog/#applications_24","title":"Applications","text":"<ul> <li>Doc - MySQL Application (#13495) - Deltawings</li> </ul>"},{"location":"General/Changelog/#api_22","title":"Api","text":"<ul> <li>Add get_ports_by_group API function (#13361) - nmanzi</li> </ul>"},{"location":"General/Changelog/#discovery_17","title":"Discovery","text":"<ul> <li>Fix Dispatcher service not discovering poller groups (#13377) - murrant</li> <li>Modified SQL delete statement for vrf is null (#13199) - kterobinson</li> </ul>"},{"location":"General/Changelog/#polling_17","title":"Polling","text":"<ul> <li>Added TOS support for fping (#13496) - PipoCanaja</li> <li>Fix SnmpQuery mibdir from os group (#13475) - murrant</li> <li>Fix application and storage query errors (#13417) - murrant</li> <li>Fix uptime polling event (#13388) - murrant</li> <li>Keep stats for snmptranslate (#13379) - murrant</li> <li>Rewrite netstats polling (#13368) - murrant</li> <li>Run Alert Rules on Service status change. (#13348) - thford89</li> </ul>"},{"location":"General/Changelog/#rancid_3","title":"Rancid","text":"<ul> <li>Show single quotes correcting for device configs (#13360) - apokryphal</li> </ul>"},{"location":"General/Changelog/#oxidized_8","title":"Oxidized","text":"<ul> <li>Syslog hook examples and documentation for Procurve devices (#13397) - nq5</li> </ul>"},{"location":"General/Changelog/#bug_30","title":"Bug","text":"<ul> <li>Fix PyMySQL upstream dependency bug (#13508) - murrant</li> <li>Fix net-snmp unformatted strings (#13486) - murrant</li> <li>[bug] Fix &amp; extend MAC OUI table updates (#13479) - PipoCanaja</li> <li>Attempt to fix dispatcher stats thread exception (#13478) - murrant</li> <li>PHP8, correct multiplication in packages application (#13462) - arrmo</li> <li>Don't use proxy for localhost (Oxidized and Prometheus) (#13450) - murrant</li> <li>Better handling of some alerting errors (#13446) - murrant</li> <li>Fix PHP8 error in sensor unit conversion (#13433) - arrmo</li> <li>PHP8 Unit Conversion, ups-nut (#13432) - arrmo</li> <li>Services and ping not polling default groups (#13403) - murrant</li> <li>Increase length of devices_attribs.attrib_type column (#13395) - mjbnz</li> <li>Bug - Fix missing uptime in fillable (Device Model) (#13387) - PipoCanaja</li> <li>Fix regression from #12998 (#13385) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#refactor_18","title":"Refactor","text":"<ul> <li>Change how options are handled for SnmpQuery (#13488) - murrant</li> <li>Rename concrete SnmpQuery class to avoid confusion (#13412) - murrant</li> <li>Fully convert core to a modern module (#13347) - murrant</li> <li>New plugin system based on Laravel Package Development (#12998) - mpikzink</li> </ul>"},{"location":"General/Changelog/#cleanup_18","title":"Cleanup","text":"<ul> <li>Fixes for misc unset variables (#13421) - murrant</li> <li>Remove unused snom files (#13369) - murrant</li> <li>Fix config fetch disrupted by stderr (#13362) - deajan</li> <li>Use PHPStan level 6 (#13308) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_30","title":"Documentation","text":"<ul> <li>Fix typo in filepath for unit-tests to work (#13440) - Nocturr</li> <li>Debian 11 Install Docs (#13430) - SourceDoctor</li> <li>Don't suggest running validate.php as root (#13378) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_18","title":"Tests","text":"<ul> <li>Fix IPV6 test (#13468) - Jellyfrog</li> <li>Ability to save cipsec-tunnels test data (#13463) - murrant</li> <li>Run phpstan locally with <code>lnms dev:check lint</code> (#13458) - murrant</li> <li>Dusk: improve speed and safety (#13370) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_26","title":"Dependencies","text":"<ul> <li>Bump psutil=&gt;5.6.0 to satifsy command_runner (#13501) - Jellyfrog</li> <li>Update to Larastan 1.0 (#13466) - Jellyfrog</li> <li>Update PHP dependencies (#13396) - murrant</li> <li>Install new python dependencies during daily maintenance (#13186) - deajan</li> </ul>"},{"location":"General/Changelog/#21100","title":"21.10.0","text":"<p>(2021-10-16)</p> <p>A big thank you to the following 21 contributors this last month:</p> <ul> <li>murrant (40)</li> <li>SourceDoctor (9)</li> <li>Jellyfrog (5)</li> <li>loopodoopo (3)</li> <li>Cupidazul (3)</li> <li>maxnz (3)</li> <li>mpikzink (3)</li> <li>ottorei (2)</li> <li>gs-kamnas (2)</li> <li>topranks (2)</li> <li>mctaguma (1)</li> <li>DanielMuller-TN (1)</li> <li>hjcday (1)</li> <li>dependabot (1)</li> <li>calvinthefreak (1)</li> <li>si458 (1)</li> <li>Laplacence (1)</li> <li>peelman (1)</li> <li>noaheroufus (1)</li> <li>deajan (1)</li> <li>lutfisan (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (36)</li> <li>Jellyfrog (29)</li> <li>SourceDoctor (7)</li> <li>ottorei (1)</li> <li>PipoCanaja (1)</li> </ul>"},{"location":"General/Changelog/#feature_27","title":"Feature","text":"<ul> <li>New SNMP code and lnms snmp:fetch command (#13303) - murrant</li> <li>Add eventlog on_create device version 2 w/deps (#13302) - Cupidazul</li> <li>Push Notifications (Mobile and PC) (#13277) - murrant</li> <li>Modified Prometheus extension to support adding a prefix to metric names (#13272) - topranks</li> <li>Config seeder (#13259) - murrant</li> <li>Infer character encoding for ifAlias and sysLocation (#13248) - murrant</li> <li>Log count of logged in users in database from HOST-RESOURCES-MIB (#13137) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#security_19","title":"Security","text":"<ul> <li>Use the same error message for different kind of authentiction errors (#13306) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#device_32","title":"Device","text":"<ul> <li>Added support for Teltonika RUTX series routers (#13350) - hjcday</li> <li>Ericsson TN - Wireless MSE (#13328) - loopodoopo</li> <li>Ciena 6500 Optics sensors (#13324) - loopodoopo</li> <li>Ericsson Traffic Node support (#13299) - loopodoopo</li> <li>Procurve E model prefix fix (#13261) - maxnz</li> <li>Fix axis cam discovery (#13258) - maxnz</li> <li>Wireless and GSM Basic Monitoring (#13255) - Cupidazul</li> <li>Added SAF Integra-X OS Support (#13236) - noaheroufus</li> <li>Arubaos cx hardware (#13045) - maxnz</li> <li>MegaRaid controller in Linux (Broadcom/LSI) (#12999) - mpikzink</li> <li>Add Ericsson IPOS router support (#12625) - lutfisan</li> </ul>"},{"location":"General/Changelog/#webui_28","title":"Webui","text":"<ul> <li>Alert detail display fix (#13335) - SourceDoctor</li> <li>Show Detail by default Option on Alert Widget (#13309) - SourceDoctor</li> <li>Fix various port links (#13296) - murrant</li> <li>Add ORDER BY to the ports query when showing the ports list on device\u2026 (#13276) - peelman</li> <li>Use local timezone for outages pages (#13274) - ottorei</li> <li>Remove device dark mode detection (#13273) - murrant</li> <li>Linkable graph component (#13263) - murrant</li> <li>Improve tailwind dark theme colors (#13262) - murrant</li> <li>Workaround for dashboard widgets showing over popups. (#13257) - murrant</li> </ul>"},{"location":"General/Changelog/#alerting_27","title":"Alerting","text":"<ul> <li>Fix alert transport api with POST method (#13288) - Laplacence</li> </ul>"},{"location":"General/Changelog/#graphs_20","title":"Graphs","text":"<ul> <li>Fix graphs showing bps instead of pps (#13266) - Cupidazul</li> </ul>"},{"location":"General/Changelog/#snmp-traps_9","title":"Snmp Traps","text":"<ul> <li>HP Fault Traps (#13254) - mpikzink</li> <li>Veeam backup SNMP Traps (#13170) - mpikzink</li> </ul>"},{"location":"General/Changelog/#api_23","title":"Api","text":"<ul> <li>Added conditional check for rules parameter on add_device_group (#13353) - DanielMuller-TN</li> <li>API add_device: respond with more device array (#13251) - SourceDoctor</li> <li>API Call to assign/remove a Portgroup to Ports (#13245) - SourceDoctor</li> <li>API Call to set instant Maintenance mode (#13237) - SourceDoctor</li> <li>API port search by arbitrary field (#13231) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#settings_4","title":"Settings","text":"<ul> <li>Automatically set rrdtool_version once (#13327) - murrant</li> </ul>"},{"location":"General/Changelog/#discovery_18","title":"Discovery","text":"<ul> <li>Quick fix for route discovery on PHP8 (#13284) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_18","title":"Polling","text":"<ul> <li>Dispatcher bugfix queues not being disabled properly (#13364) - murrant</li> <li>Fix for cimc polling on PHP8 (#13357) - murrant</li> <li>Dispatch Service: Don't stop dispatching if master moves to a node with a queue disabled (#13355) - murrant</li> <li>Fix device query when last_polled_timetaken is null (#13331) - murrant</li> <li>Restore accidentally removed code (#13330) - murrant</li> <li>Allow non-snmp modules to run when snmp disabled (#13321) - murrant</li> <li>Fix python config fetch disrupted by stderr output (#13295) - murrant</li> <li>Fix poller wrapper error (#13290) - murrant</li> </ul>"},{"location":"General/Changelog/#oxidized_9","title":"Oxidized","text":"<ul> <li>Added OneOS map for Oxidized (#13313) - calvinthefreak</li> </ul>"},{"location":"General/Changelog/#authentication_11","title":"Authentication","text":"<ul> <li>Improvements to SSO Authorization and logout handling (#13311) - gs-kamnas</li> </ul>"},{"location":"General/Changelog/#bug_31","title":"Bug","text":"<ul> <li>Fix poller groups reverting when setting via the Web UI. (#13363) - murrant</li> <li>Rename config var auth_redirect_handler -&gt; auth_logout_handler (#13329) - gs-kamnas</li> <li>HrSystem Columns have to be optional (#13316) - SourceDoctor</li> <li>Hrsystem write fix (#13314) - SourceDoctor</li> <li>Check if vlan-&gt;port exists (#13305) - Jellyfrog</li> <li>Fix html.device.links validation (#13269) - murrant</li> <li>Fix lnms some commands throwing errors (#13265) - murrant</li> </ul>"},{"location":"General/Changelog/#refactor_19","title":"Refactor","text":"<ul> <li>SnmpQuery updates and more tests (#13359) - murrant</li> <li>Remove load_os and load_discovery functions (#13345) - murrant</li> <li>Rename NetSnmp to SnmpQuery (#13344) - murrant</li> <li>Use Measurements for all statistic collection (#13333) - murrant</li> <li>Use built in trusted proxy functionality (#13318) - murrant</li> <li>Connectivity Helper to check and record device reachability (#13315) - murrant</li> <li>Cleanup config.php.default (#13297) - murrant</li> <li>SNMP Capabilities (#13289) - murrant</li> <li>Cleanup device type override code (#13256) - murrant</li> <li>Full Python code fusion / refactor and hardening 2nd edition (#13188) - deajan</li> <li>Convert all ports backend to Laravel style ajax table (#13184) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_31","title":"Documentation","text":"<ul> <li>Change \"move\" to \"migrate\" to make it easier to find (#13365) - murrant</li> <li>Updated link to Dan Brown's migration scripts (#13354) - mctaguma</li> <li>Edit existing install url (#13342) - murrant</li> <li>Oxidized doc update, links and ignore groups (#13341) - murrant</li> <li>Update docs: Update Dispatcher service documentation (#13339) - ottorei</li> <li>Send security researchers to Discord (#13319) - murrant</li> <li>Fix to puppet snmp extend formatting (#13312) - si458</li> <li>Update formatting of Prometheus extension doc (#13291) - topranks</li> </ul>"},{"location":"General/Changelog/#tests_19","title":"Tests","text":"<ul> <li>Disallow usage of deprecated functions (#13267) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#dependencies_27","title":"Dependencies","text":"<ul> <li>Bump composer/composer from 2.1.8 to 2.1.9 (#13336) - dependabot</li> <li>Update dependencies (#13310) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2190","title":"21.9.0","text":"<p>(2021-09-16)</p> <p>A big thank you to the following 20 contributors this last month:</p> <ul> <li>murrant (29)</li> <li>Jellyfrog (5)</li> <li>ottorei (3)</li> <li>SourceDoctor (3)</li> <li>Galileo77 (2)</li> <li>paulierco (2)</li> <li>Fehler12 (2)</li> <li>Negatifff (2)</li> <li>deajan (2)</li> <li>mpikzink (2)</li> <li>vakartel (2)</li> <li>efelon (1)</li> <li>pimvanpelt (1)</li> <li>kimhaak (1)</li> <li>kevinwallace (1)</li> <li>noaheroufus (1)</li> <li>si458 (1)</li> <li>mzacchi (1)</li> <li>niddey (1)</li> <li>PipoCanaja (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (21)</li> <li>murrant (19)</li> <li>ottorei (3)</li> <li>SourceDoctor (2)</li> <li>PipoCanaja (2)</li> <li>mpikzink (1)</li> </ul>"},{"location":"General/Changelog/#feature_28","title":"Feature","text":"<ul> <li>API alert transport can include Options variables in the Body for POST requests (#13167) - mzacchi</li> <li>Show port speed on port graphs, optionally set scale (#11858) - murrant</li> </ul>"},{"location":"General/Changelog/#device_33","title":"Device","text":"<ul> <li>Fix Dell server sensors (#13247) - murrant</li> <li>Add mouseover mini graphs that makes sense for Liebert PDU (#13246) - Galileo77</li> <li>Add ifName to osag os (#13243) - paulierco</li> <li>IfName  to mcafeewebgateway (#13242) - paulierco</li> <li>Add VPP logo (#13230) - pimvanpelt</li> <li>Add Support for USW-Flex (#13229) - Fehler12</li> <li>Added Cisco CBS 250 Support (#13228) - Fehler12</li> <li>Update geist-watchdog.yaml (#13223) - Galileo77</li> <li>Add skip_values to Liebert capacity sensor definitions (#13200) - kevinwallace</li> <li>Procurve add SysDescr Regex (#13196) - mpikzink</li> <li>Updated OS Support: Dragonwave Horizon (#13193) - noaheroufus</li> <li>ZTE ZXR10 define discovery for mempool and processor (#13192) - vakartel</li> <li>Dell Network Virtual Link Trunk Status (#13162) - mpikzink</li> </ul>"},{"location":"General/Changelog/#webui_29","title":"Webui","text":"<ul> <li>Update to fix table row color and hover color for dark.css (#13244) - efelon</li> <li>Fix port minigraph layout (#13240) - murrant</li> <li>Sort dashboard entries alphabetically (#13238) - ottorei</li> <li>Fix graph row columns (#13232) - murrant</li> <li>Changed map functionality in device overview (#13225) - kimhaak</li> <li>New Blade Components: x-device-link, x-port-link, x-graph-row, x-popup (#13197) - murrant</li> <li>Add serial search in ajax search process (#13185) - Negatifff</li> <li>Allow device actions to appear in device list and improve docs (#13177) - murrant</li> <li>Show count of Ports in PortGroup display (#13164) - SourceDoctor</li> <li>Change automatic widget updates to use bootgrid when possible (#13159) - niddey</li> </ul>"},{"location":"General/Changelog/#alerting_28","title":"Alerting","text":"<ul> <li>Fix PagerDuty transport's group field (#13235) - ottorei</li> <li>Format port speed changes in the event log (#13174) - murrant</li> </ul>"},{"location":"General/Changelog/#graphs_21","title":"Graphs","text":"<ul> <li>Change default graph view to zoom in on traffic. (#13173) - murrant</li> </ul>"},{"location":"General/Changelog/#settings_5","title":"Settings","text":"<ul> <li>Dynamic Select setting (#13179) - murrant</li> <li>Increase config value length limit (#13178) - murrant</li> <li>Default port group in Settings (#13175) - SourceDoctor</li> <li>Default port_group for new ports (#13166) - SourceDoctor</li> <li>Add support for description texts in Settings page (#13104) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#discovery_19","title":"Discovery","text":"<ul> <li>Mark snmp disabled devices as skipped (#13202) - murrant</li> <li>Allow more compatibility in STP port discovery/polling (#13109) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#polling_19","title":"Polling","text":"<ul> <li>Fix snmp_bulk setting not being applied (#13209) - murrant</li> <li>Do not poll passive ISIS-circuits (#13168) - ottorei</li> <li>Common contexts for polling (#13158) - murrant</li> <li>Rewrite ISIS Adjacency discovery/polling (#13155) - murrant</li> </ul>"},{"location":"General/Changelog/#oxidized_10","title":"Oxidized","text":"<ul> <li>Add sysobjectid and hardware fields into oxidized maps (#13221) - Negatifff</li> </ul>"},{"location":"General/Changelog/#bug_32","title":"Bug","text":"<ul> <li>Fix mempool unit display (#13241) - murrant</li> <li>Select dynamic fixes (#13187) - murrant</li> <li>Validate schema in utc (#13182) - murrant</li> <li>Fix DB Inconsistent friendly error message (#13163) - murrant</li> </ul>"},{"location":"General/Changelog/#refactor_20","title":"Refactor","text":"<ul> <li>Update configuration docs to use lnms config:set (#13157) - murrant</li> <li>Rename nobulk -&gt; snmp_bulk (#13098) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_32","title":"Documentation","text":"<ul> <li>Add security context service (#13218) - deajan</li> <li>Fix numbering in application docs (#13183) - si458</li> <li>Docs link to webui settings in user's install (#13176) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_21","title":"Misc","text":"<ul> <li>Increase RestartSec time to a reasonable value (#13217) - deajan</li> <li>Validate APP_KEY (#13171) - murrant</li> </ul>"},{"location":"General/Changelog/#2180","title":"21.8.0","text":"<p>(2021-08-22)</p> <p>A big thank you to the following 40 contributors this last month:</p> <ul> <li>PipoCanaja (12)</li> <li>murrant (10)</li> <li>Jellyfrog (8)</li> <li>paulierco (5)</li> <li>mpikzink (5)</li> <li>ottorei (3)</li> <li>fbourqui (2)</li> <li>facuxt (2)</li> <li>geg347 (2)</li> <li>dennypage (2)</li> <li>opalivan (2)</li> <li>keryazmi (2)</li> <li>wkamlun (2)</li> <li>si458 (2)</li> <li>martinberg (2)</li> <li>vakartel (1)</li> <li>SanderBlom (1)</li> <li>SourceDoctor (1)</li> <li>VirTechSystems (1)</li> <li>Talkabout (1)</li> <li>hannut (1)</li> <li>kevinwallace (1)</li> <li>jasoncheng7115 (1)</li> <li>arjitc (1)</li> <li>igorek24 (1)</li> <li>mtoupsUNO (1)</li> <li>Laplacence (1)</li> <li>tcwarn (1)</li> <li>deajan (1)</li> <li>Npeca75 (1)</li> <li>Negatifff (1)</li> <li>adamus1red (1)</li> <li>rhinoau (1)</li> <li>arrmo (1)</li> <li>e-caille (1)</li> <li>Sea-n (1)</li> <li>saschareichert (1)</li> <li>bennetgallein (1)</li> <li>loopodoopo (1)</li> <li>tikitaru (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (37)</li> <li>murrant (28)</li> <li>PipoCanaja (20)</li> <li>SourceDoctor (2)</li> </ul>"},{"location":"General/Changelog/#feature_29","title":"Feature","text":"<ul> <li>Lnms config:set ability to set os settings (#13151) - murrant</li> <li>Detect sending non-html emails as html (#13114) - murrant</li> <li>Add peak in and out (#13006) - bennetgallein</li> </ul>"},{"location":"General/Changelog/#device_34","title":"Device","text":"<ul> <li>Add OSAG new OS (#13156) - paulierco</li> <li>More specific grandstream-ht detection (#13152) - murrant</li> <li>Added voltage, cell states and wireless data for cell interface (GEMDS OS). (#13142) - SanderBlom</li> <li>Opnsense detection (#13097) - mpikzink</li> <li>Added OID for Extreme switch X350-48t (#13096) - tcwarn</li> <li>Add Janitza power consumed (#13095) - mpikzink</li> <li>Added/fixed LLDP discovery (#13082) - Npeca75</li> <li>Allow stack index other than '1.' for CiscoSB (#13078) - dennypage</li> <li>Add logo for Scientific Linux (#13075) - mpikzink</li> <li>Fix Cisco SLAs garbage entries (#13068) - murrant</li> <li>Cisco ISE version, HW, SW and test-data (#13062) - PipoCanaja</li> <li>Fixed Packetlight EDFA sensors and add test-data (#13060) - opalivan</li> <li>Alcatel-Lucent AOS7 bgp fix2 (#13059) - paulierco</li> <li>Add logo for Linux Mint (#13055) - arrmo</li> <li>Alcatel-Lucent Aos6 ignore second power supply (#13054) - paulierco</li> <li>Alcatel-Lucent Aos7 increase fan threshold (#13053) - paulierco</li> <li>Use non numeric snmpwalk for nxos fan trays (#13048) - e-caille</li> <li>Alcatel-Lucent Aos7 bgp fix (#13047) - paulierco</li> <li>Add number of connected wireless client and number of connected FortiAP (#13037) - wkamlun</li> <li>Update Sensors for ADVA FSP150CC + discovery fix (#13020) - keryazmi</li> <li>Improve dell-compellent detection for newer firmwares (#13019) - saschareichert</li> <li>Poll current connections for F5 ltm (#12968) - martinberg</li> <li>Ericsson 6600 series (#12931) - loopodoopo</li> <li>Fix WUT ThermoHygro with new hardware revisions (#12913) - mpikzink</li> <li>Fix polling current on ICT2000DB-12IRC (#12529) - tikitaru</li> </ul>"},{"location":"General/Changelog/#webui_30","title":"Webui","text":"<ul> <li>Cleanup Port hover minigraph description when using \"Interface Description Parsing\" (#13143) - fbourqui</li> <li>Dark mode improvements (#13141) - facuxt</li> <li>Improvements to dark theme. (#13139) - facuxt</li> <li>Adjust App String Pi-hole to project name (#13136) - SourceDoctor</li> <li>Sort port selector dropdown (#13135) - VirTechSystems</li> <li>Priority filtering for syslog widget (#13134) - Talkabout</li> <li>Center new service window (#13115) - arjitc</li> <li>Add urlencode for location link in device view (#13076) - Negatifff</li> <li>Add device_group to availability widget hyperlink (#13061) - rhinoau</li> <li>More sensor data on inventory page (#13057) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#api_24","title":"Api","text":"<ul> <li>Adding API route to set bgpPeerDescr field (#13056) - geg347</li> <li>API mac search (#12964) - mpikzink</li> </ul>"},{"location":"General/Changelog/#alerting_29","title":"Alerting","text":"<ul> <li>Add EU Service Region to PagerDuty transport (#13154) - ottorei</li> <li>Fix HTML encoded characters in Slack (#13120) - geg347</li> <li>Add SignalWire (Twilio alternative) alert transport support (#13107) - igorek24</li> </ul>"},{"location":"General/Changelog/#discovery_20","title":"Discovery","text":"<ul> <li>Full Python code fusion / refactor and hardening (#13094) - deajan</li> <li>Extend REGEX filtering option by sensor_class (#13066) - opalivan</li> </ul>"},{"location":"General/Changelog/#oxidized_11","title":"Oxidized","text":"<ul> <li>Follow redirects when reloading Oxidized nodes list (#13051) - martinberg</li> </ul>"},{"location":"General/Changelog/#bug_33","title":"Bug","text":"<ul> <li>Fix issue syslog_xlate containing dots (#13148) - vakartel</li> <li>Enclose IPv6 literal in [brackets] for snmpget and unix-agent (#13130) - kevinwallace</li> <li>Fix lnms scan, nets not detected (#13129) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_33","title":"Documentation","text":"<ul> <li>Update docs for controlling modules (#13147) - murrant</li> <li>Update docs: Example for optional data on templates (#13128) - ottorei</li> <li>Update FAQs for large groups (#13110) - ottorei</li> <li>Document new optional ups-nut arg1 (#13072) - adamus1red</li> <li>Formatted applications docs for copy/paste (#13049) - si458</li> <li>Update cleanup config document (#13026) - Sea-n</li> </ul>"},{"location":"General/Changelog/#translation_13","title":"Translation","text":"<ul> <li>Updated Traditional Chinese Translation (#13116) - jasoncheng7115</li> </ul>"},{"location":"General/Changelog/#tests_20","title":"Tests","text":"<ul> <li>Run PHPStan with higher level for new files (#13108) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_22","title":"Misc","text":"<ul> <li>Added two indexes to 'syslog' table for performance (#13105) - mtoupsUNO</li> <li>Remove timeouts for passthrough lnms commands (#13080) - murrant</li> <li>Add Laravel task scheduling (#13074) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#mibs_12","title":"Mibs","text":"<ul> <li>MIB cleaning (misc again) (#13103) - PipoCanaja</li> <li>Added H3C / Comware MIB files (#13102) - Laplacence</li> <li>Update Cisco Small Business (mostly) MIBs (#13099) - dennypage</li> <li>Update NET-SNMP mibs (#13093) - Jellyfrog</li> <li>MIB cleaning for Dell + Gandi (#13089) - PipoCanaja</li> <li>MIB cleaning for Panasonic (1 file) and Avtech (11 files) (#13088) - PipoCanaja</li> <li>MIB cleaning for OS \"Junose\" (#13087) - PipoCanaja</li> <li>MIB cleaning (Misc) (#13086) - PipoCanaja</li> <li>MIB cleaning for Junos (#13085) - PipoCanaja</li> <li>MIB cleaning for HP (#13084) - PipoCanaja</li> <li>MIB cleaning for equallogic (#13083) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#dependencies_28","title":"Dependencies","text":"<ul> <li>Bump super-linter (#13073) - Jellyfrog</li> <li>Bump larastan (#13071) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2170","title":"21.7.0","text":"<p>(2021-07-16)</p> <p>A big thank you to the following 27 contributors this last month:</p> <ul> <li>murrant (9)</li> <li>rhinoau (8)</li> <li>PipoCanaja (5)</li> <li>mpikzink (4)</li> <li>mathieu-artic (4)</li> <li>martinberg (3)</li> <li>Npeca75 (2)</li> <li>epiecs (2)</li> <li>Sea-n (2)</li> <li>paulierco (2)</li> <li>djamp42 (2)</li> <li>Jellyfrog (1)</li> <li>geg347 (1)</li> <li>ziodona85 (1)</li> <li>keryazmi (1)</li> <li>hanserasmus (1)</li> <li>edgetho007 (1)</li> <li>dagbdagb (1)</li> <li>jbronn (1)</li> <li>adamboutcher (1)</li> <li>VirTechSystems (1)</li> <li>skoobasteeve (1)</li> <li>dependabot (1)</li> <li>si458 (1)</li> <li>kdanev14 (1)</li> <li>cjsoftuk (1)</li> <li>jezekus (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (32)</li> <li>murrant (14)</li> <li>PipoCanaja (13)</li> </ul>"},{"location":"General/Changelog/#feature_30","title":"Feature","text":"<ul> <li>Support multiple db servers (#12963) - djamp42</li> </ul>"},{"location":"General/Changelog/#device_35","title":"Device","text":"<ul> <li>Inital support for Eltex-MES switches (#13036) - Npeca75</li> <li>Add support for Ucopia Appliances (#13031) - mathieu-artic</li> <li>Fixing irrelevant values rpm packetloss (#13010) - geg347</li> <li>Added Vlan discovery on LAG ports, Jetstream OS (#13007) - Npeca75</li> <li>Add showtime start for OneAccess SDSL routers (#13005) - mathieu-artic</li> <li>Arista_mos-support (#13003) - hanserasmus</li> <li>Add LTE/UMTS support for Oneaccess routers (#13002) - mathieu-artic</li> <li>Add Sonicwall OS 7 (#12997) - edgetho007</li> <li>Added support for the Rittal LCP DX Chiller (#12995) - epiecs</li> <li>Eaton M2 EMP g2 (#12994) - dagbdagb</li> <li>TP-Link Jetstream DDM and PoE Support (#12990) - jbronn</li> <li>Alcatel-Lucent AOS6 to yaml (#12982) - paulierco</li> <li>Added logo svg for Rocky Linux (#12977) - skoobasteeve</li> <li>Added VRP ICMP SLA (NQA in huawei naming) support (#12973) - PipoCanaja</li> <li>EUROstor RAID (#12969) - mpikzink</li> <li>Add support for Liebert humidity setpoint and UPS powerfactor (#12965) - martinberg</li> <li>Added support to new device Controlbox TH-332B (#12940) - kdanev14</li> <li>Add OS Support for Siemens Scalance X Switching (#12938) - rhinoau</li> <li>Alcatel-Lucent aos7 LLDP Neighbors (#12886) - paulierco</li> <li>Add HPE-maPDU support (#12550) - jezekus</li> </ul>"},{"location":"General/Changelog/#webui_31","title":"Webui","text":"<ul> <li>Fix availability widget service backend error (#13044) - rhinoau</li> <li>Fix availability widget device totals (#13043) - rhinoau</li> <li>Don't add %3F=yes to the url (#13041) - murrant</li> <li>Webui - Display app metric if available (#13023) - PipoCanaja</li> <li>Webui - Fix application fault detail display (#13016) - PipoCanaja</li> <li>Two-factor UI config and status display (#13012) - rhinoau</li> <li>Leave it to generate_device_link for sysName/hostName/IP (#13000) - PipoCanaja</li> <li>Filter out NULL lat/lng values from Geographical Map display queries (#12985) - rhinoau</li> <li>Fix ldap/ad group webui settings (#12967) - murrant</li> <li>Create Laravel Sessions Table (#12962) - djamp42</li> <li>Fix \"Sub-directory Support\" in small steps (#12951) - mpikzink</li> </ul>"},{"location":"General/Changelog/#api_25","title":"Api","text":"<ul> <li>Return api error when device doesn't exist (#12978) - VirTechSystems</li> </ul>"},{"location":"General/Changelog/#discovery_21","title":"Discovery","text":"<ul> <li>Fix an issue which led to duplication of BGP peers. (#12932) - cjsoftuk</li> </ul>"},{"location":"General/Changelog/#oxidized_12","title":"Oxidized","text":"<ul> <li>Option to filter Oxidized groups (#12966) - martinberg</li> </ul>"},{"location":"General/Changelog/#bug_34","title":"Bug","text":"<ul> <li>Fix scripts to allow pathname with space (#13027) - Sea-n</li> <li>Wrong statement used for Oxidized ignore_groups (#13001) - martinberg</li> <li>Fix typo in filename (#12996) - Sea-n</li> <li>Make migrating after upgrading MySQL easier. (#12971) - murrant</li> <li>Fix proxmox menu url (#12970) - si458</li> </ul>"},{"location":"General/Changelog/#refactor_21","title":"Refactor","text":"<ul> <li>Refractor health (#13022) - mpikzink</li> </ul>"},{"location":"General/Changelog/#cleanup_19","title":"Cleanup","text":"<ul> <li>PHPStan fixes (#13038) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_34","title":"Documentation","text":"<ul> <li>Documentation cleanup of sections 4-6 (#13018) - rhinoau</li> <li>Documentation cleanup of General, Install, Getting Started sections (#13013) - rhinoau</li> <li>Update Applications.md for SQUID (#12987) - adamboutcher</li> </ul>"},{"location":"General/Changelog/#misc_23","title":"Misc","text":"<ul> <li>Aruba 8.8.0 MIBS (#13042) - mpikzink</li> <li>Create HP-SN-AGENT-MIB (#13009) - ziodona85</li> <li>Update ADVA's MIB file (#13004) - keryazmi</li> <li>Help users that did not upgrade MySQL try two (#12989) - murrant</li> <li>Add renamehost function result handling and exit codes to renamehost.php (#12980) - rhinoau</li> </ul>"},{"location":"General/Changelog/#dependencies_29","title":"Dependencies","text":"<ul> <li>Php-cs-fixer 3 prep (#13039) - murrant</li> <li>PHP dependencies update (#13034) - murrant</li> <li>Bump phpmailer/phpmailer from 6.4.1 to 6.5.0 (#12975) - dependabot</li> </ul>"},{"location":"General/Changelog/#2160","title":"21.6.0","text":"<p>(2021-06-17)</p> <p>A big thank you to the following 23 contributors this last month:</p> <ul> <li>mpikzink (9)</li> <li>murrant (6)</li> <li>PipoCanaja (5)</li> <li>dust241999 (3)</li> <li>mathieu-artic (2)</li> <li>paulierco (2)</li> <li>paddy01 (2)</li> <li>andrzejmaczka (2)</li> <li>zombah (1)</li> <li>BennyE (1)</li> <li>Sea-n (1)</li> <li>jbronn (1)</li> <li>d-k-7 (1)</li> <li>systemcrash (1)</li> <li>loopodoopo (1)</li> <li>maesbrisa (1)</li> <li>thomseddon (1)</li> <li>cliffalbert (1)</li> <li>Jellyfrog (1)</li> <li>wolfraider (1)</li> <li>rpardim (1)</li> <li>geg347 (1)</li> <li>ottorei (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (31)</li> <li>PipoCanaja (15)</li> <li>murrant (10)</li> <li>tayyabali785 (1)</li> </ul>"},{"location":"General/Changelog/#feature_31","title":"Feature","text":"<ul> <li>New module add juniper rpm support + reimplementation of cisco-sla module (#12799) - geg347</li> <li>ISIS-adjacency polling support (#12461) - ottorei</li> </ul>"},{"location":"General/Changelog/#device_36","title":"Device","text":"<ul> <li>Add Serialnumber for some Dell ForceTen devices (#12960) - mpikzink</li> <li>2 more Rittal variants (#12953) - mpikzink</li> <li>Added New-OS: Alcatel-Lucent Enterprise Stellar Wireless (#12952) - BennyE</li> <li>Add SDSL Support for OneAccess routers (#12948) - mathieu-artic</li> <li>Improve TP-Link JetStream Discovery (#12946) - jbronn</li> <li>Alcatel-Lucent aos6 and aos7 fdb fix (#12945) - paulierco</li> <li>Janitza UMG96 (#12944) - mpikzink</li> <li>Imporoved raritan pdu support (#12937) - d-k-7</li> <li>Alcatel-Lucent Aos7 sensors nobulk (#12935) - paulierco</li> <li>Add Epson Projector as new OS (#12928) - mpikzink</li> <li>Add Barco Clickshare (#12927) - mpikzink</li> <li>Fix nokia(TiMOS) memory (#12925) - paddy01</li> <li>Device - Vertiv-PDU - Issue 11608 (#12923) - dust241999</li> <li>Adding basic support for Vertiv PDUs and power graphs (#12908) - dust241999</li> <li>Ciena 6500 (#12903) - loopodoopo</li> <li>Added support for PowerWalker VFI (#12891) - andrzejmaczka</li> <li>Initial HAProxy ALOHA support (#12889) - Jellyfrog</li> <li>HWG WaterLeak sensor support (#12865) - PipoCanaja</li> <li>Added definition for Riello 204 (#12861) - wolfraider</li> <li>Add support for oneaccess router (#12850) - mathieu-artic</li> <li>Gaia VPN IPSEC discovery (#12823) - rpardim</li> </ul>"},{"location":"General/Changelog/#webui_32","title":"Webui","text":"<ul> <li>Human readable database inconsistent error (#12950) - murrant</li> <li>Add TopErrors widget based on ifError_rate (#12926) - PipoCanaja</li> <li>Fix \"Sub-directory Support\" in small steps (#12911) - mpikzink</li> <li>Fix \"Sub-directory Support\" in small steps (#12910) - mpikzink</li> <li>Fix \"Sub-directory Support\" in small steps (#12905) - mpikzink</li> <li>FIX Alert rules: Import from Alert Rule (#12897) - andrzejmaczka</li> <li>Fix port down alert toggle (#12884) - murrant</li> </ul>"},{"location":"General/Changelog/#authentication_12","title":"Authentication","text":"<ul> <li>Add number sign to special character handling in ActiveDirectoryAuthorizer (#12943) - paddy01</li> </ul>"},{"location":"General/Changelog/#applications_25","title":"Applications","text":"<ul> <li>Fix type error (#12899) - murrant</li> </ul>"},{"location":"General/Changelog/#api_26","title":"Api","text":"<ul> <li>Add api call to list OSPF ports (#12955) - zombah</li> </ul>"},{"location":"General/Changelog/#alerting_30","title":"Alerting","text":"<ul> <li>Add Signal CLI transport support (#12954) - mpikzink</li> <li>Update device_component_down_junos macro (#12898) - thomseddon</li> </ul>"},{"location":"General/Changelog/#discovery_22","title":"Discovery","text":"<ul> <li>LLDP - ifAlias should be last checked in function find_port_id (#12904) - PipoCanaja</li> <li>LLDP - Extend discovery lldp code to support different subtypes (#12901) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#polling_20","title":"Polling","text":"<ul> <li>Nobulk setting in sensors yaml (#12833) - murrant</li> </ul>"},{"location":"General/Changelog/#rancid_4","title":"Rancid","text":"<ul> <li>Support for fortiswitch in gen_rancid (#12894) - cliffalbert</li> </ul>"},{"location":"General/Changelog/#refactor_22","title":"Refactor","text":"<ul> <li>Filter unwanted data in Routes Ajax reply (#12847) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#documentation_35","title":"Documentation","text":"<ul> <li>Improve Markdown syntax in Document (#12949) - Sea-n</li> <li>Add info about lnms config:set at top of Configuration page (#12939) - murrant</li> <li>Update docs (#12919) - systemcrash</li> </ul>"},{"location":"General/Changelog/#2150","title":"21.5.0","text":"<p>(2021-05-17)</p> <p>A big thank you to the following 28 contributors this last month:</p> <ul> <li>murrant (34)</li> <li>Jellyfrog (14)</li> <li>PipoCanaja (14)</li> <li>dependabot (7)</li> <li>rpardim (3)</li> <li>wolfraider (2)</li> <li>TheGracens (2)</li> <li>si458 (2)</li> <li>mpikzink (2)</li> <li>Sea-n (2)</li> <li>Negatifff (1)</li> <li>backeby (1)</li> <li>SanderBlom (1)</li> <li>paddy01 (1)</li> <li>nightcore500 (1)</li> <li>arrmo (1)</li> <li>bennetgallein (1)</li> <li>Torch09 (1)</li> <li>m4rkov (1)</li> <li>Schultz (1)</li> <li>thegreatecheese (1)</li> <li>paulierco (1)</li> <li>rasssta (1)</li> <li>craig-nokia (1)</li> <li>dethmetaljeff (1)</li> <li>djamp42 (1)</li> <li>martinberg (1)</li> <li>SourceDoctor (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (43)</li> <li>Jellyfrog (42)</li> <li>PipoCanaja (8)</li> <li>SourceDoctor (1)</li> <li>martinberg (1)</li> </ul>"},{"location":"General/Changelog/#feature_32","title":"Feature","text":"<ul> <li>Validate database during the install (#12867) - murrant</li> <li>Collect OUI Database and do OUI lookups (#12842) - PipoCanaja</li> <li>Show OS definition in  lnms config:get (#12819) - murrant</li> </ul>"},{"location":"General/Changelog/#security_20","title":"Security","text":"<ul> <li>Jquery upgrade (#12802) - murrant</li> <li>Oxidized improvements (#12773) - murrant</li> </ul>"},{"location":"General/Changelog/#device_37","title":"Device","text":"<ul> <li>Huawei MA5603T (#12869) - Negatifff</li> <li>Unifi 5.60.1 sysObjectID changed (#12862) - wolfraider</li> <li>Add better Unifi processors, supported on some models (#12854) - murrant</li> <li>Added support for GE MDS devices (#12834) - SanderBlom</li> <li>Tripplite snmp trap handling (#12832) - murrant</li> <li>CyberPower UPS Updates (#12827) - arrmo</li> <li>Fix for Gaia Storage duplicated (#12824) - rpardim</li> <li>Checkpoint Gaia Sensor Count (#12822) - rpardim</li> <li>Gaia SecureXL current status and Management Connected Gateways (#12821) - rpardim</li> <li>Zywall - HW, Version, Serial and Tests (#12788) - PipoCanaja</li> <li>Firebrick sensor rework (#12783) - murrant</li> <li>Updated Nexus (nxos) os information and test data (#12779) - Torch09</li> <li>FabOS sensor fixes and add SFP dBm (#12777) - murrant</li> <li>Vrp - Collect sticky mac addresses in fdb-table (#12774) - PipoCanaja</li> <li>Pop returned value from snmpwalk_group for lldp on mikrotik routeros (#12768) - thegreatecheese</li> <li>Adjust Alcatel-Lucent aos7 (#12766) - paulierco</li> <li>Corrected Chassis Over Temp oid for state indexes (#12764) - craig-nokia</li> <li>Fix outlet sensor indexes overwriting each other when there's more than one infeed (#12763) - dethmetaljeff</li> <li>Calix (occamos) b6_316 and Calix (calix) 700 (#12744) - PipoCanaja</li> <li>Additional data collection for GAIA (#12713) - martinberg</li> </ul>"},{"location":"General/Changelog/#webui_33","title":"Webui","text":"<ul> <li>Fix arp-search remote_interface display (#12871) - PipoCanaja</li> <li>Fix empty label in generate_port_link (#12870) - PipoCanaja</li> <li>Fix server stats widget (#12864) - murrant</li> <li>Disable autocomplete for password in login-form (#12851) - backeby</li> <li>Fix top devices widget storage graphs (#12849) - murrant</li> <li>Fixes to Export CSV (#12830) - paddy01</li> <li>Alert rule delay/interval empty = 0 (#12804) - murrant</li> <li>Webui - Services bootstrap enable + status (#12736) - PipoCanaja</li> <li>Filter Ports out by Interface Type (#12590) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#graphs_22","title":"Graphs","text":"<ul> <li>Fix graph argument issues (#12868) - murrant</li> <li>RRD Graph optimization (#12735) - murrant</li> </ul>"},{"location":"General/Changelog/#applications_26","title":"Applications","text":"<ul> <li>Add mysql skip slave (#12826) - si458</li> <li>Added metric for MySQL Slave Lag (secs) (#12765) - rasssta</li> </ul>"},{"location":"General/Changelog/#api_27","title":"Api","text":"<ul> <li>Fixing consistency across api endpoints (#12795) - bennetgallein</li> </ul>"},{"location":"General/Changelog/#alerting_31","title":"Alerting","text":"<ul> <li>Missing columns in select for $alert-&gt;serial &amp; $alert-&gt;features (#12771) - PipoCanaja</li> <li>Notify if a sensor has been deleted (#12755) - TheGracens</li> </ul>"},{"location":"General/Changelog/#discovery_23","title":"Discovery","text":"<ul> <li>Ignore Wrong Type errors in snpm_get and snmp_get_multi_oid (#12800) - murrant</li> <li>Discovery - Compute num_oid to make os development easier (#12576) - PipoCanaja</li> </ul>"},{"location":"General/Changelog/#polling_21","title":"Polling","text":"<ul> <li>Fix issue with sensor class case (#12782) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_35","title":"Bug","text":"<ul> <li>Fix database validations (#12882) - murrant</li> <li>PHP 8 Unit Conversion Fix (#12857) - wolfraider</li> <li>Debug and collect-snmp-data.php fixes (#12837) - murrant</li> <li>Fix allow_unauth_graphs (#12829) - nightcore500</li> <li>Include variables in default view (#12818) - Jellyfrog</li> <li>Add support for when group doesnt exist (#12817) - Jellyfrog</li> <li>Bump tecnickcom/tcpdf dependency to support php 8 (#12816) - Jellyfrog</li> <li>Prevent error when no alert rules (#12815) - Jellyfrog</li> <li>Small fix in functions.inc.php for PHP8 (#12793) - mpikzink</li> <li>Change printer-supplies rrd name to include the supply_type (#12792) - si458</li> <li>Revert \"Fix StringBlade errors with a stub file\" (#12776) - Jellyfrog</li> <li>Fix auth and crypto select options (#12769) - Schultz</li> <li>Support X-Forwarded-Proto header (#12759) - Jellyfrog</li> <li>Fix OS sensor array return (#12694) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#refactor_23","title":"Refactor","text":"<ul> <li>Remove debug globals (#12811) - murrant</li> <li>Make applications work with rrdcached (#12807) - Jellyfrog</li> <li>Make docker app work with rrdcached (#12746) - djamp42</li> </ul>"},{"location":"General/Changelog/#cleanup_20","title":"Cleanup","text":"<ul> <li>Misc cleanup (#12758) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_36","title":"Documentation","text":"<ul> <li>Plugins should be called statically (#12810) - mpikzink</li> <li>Fix docs custom graph rrd functions (#12803) - murrant</li> <li>Use GitHub instead of Github (#12781) - Sea-n</li> <li>Smokeping sub site requires fcgiwrap (#12775) - m4rkov</li> <li>Document sub index references (#12767) - murrant</li> </ul>"},{"location":"General/Changelog/#tests_21","title":"Tests","text":"<ul> <li>Set DBSetupTest timezone to UTC (#12881) - murrant</li> <li>Always test all OS detection. (#12879) - murrant</li> <li>Cache astext in tests to avoid DNS lookup (#12784) - Jellyfrog</li> <li>Enable PHPStan linter (#12678) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_24","title":"Misc","text":"<ul> <li>Lnms dev:simulate Snmpsim debug output on failure (#12880) - murrant</li> <li>Enable config:set to set variables inside a nested array of settings (#12772) - murrant</li> </ul>"},{"location":"General/Changelog/#dependencies_30","title":"Dependencies","text":"<ul> <li>Bump postcss from 8.2.2 to 8.2.10 (#12858) - dependabot</li> <li>Bump lodash from 4.17.20 to 4.17.21 (#12848) - dependabot</li> <li>Bump url-parse from 1.4.7 to 1.5.1 (#12844) - dependabot</li> <li>Bump phpmailer/phpmailer from 6.4.0 to 6.4.1 (#12831) - dependabot</li> <li>Bump laravel/framework from 8.35.1 to 8.40.0 (#12814) - dependabot</li> <li>Bump composer/composer from 2.0.11 to 2.0.13 (#12813) - dependabot</li> <li>Bump rmccue/requests from 1.7.0 to 1.8.0 (#12812) - dependabot</li> <li>Bump laravel dusk (#12808) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2140","title":"21.4.0","text":"<p>(2021-04-17)</p> <p>A big thank you to the following 34 contributors this last month:</p> <ul> <li>Jellyfrog (35)</li> <li>murrant (26)</li> <li>PipoCanaja (8)</li> <li>Torch09 (2)</li> <li>si458 (2)</li> <li>TheGracens (2)</li> <li>Cupidazul (2)</li> <li>DaveB91 (1)</li> <li>martinberg (1)</li> <li>craig-nokia (1)</li> <li>codejake (1)</li> <li>tamikkelsen (1)</li> <li>dependabot (1)</li> <li>Schultz (1)</li> <li>opalivan (1)</li> <li>hrtrd (1)</li> <li>zombah (1)</li> <li>casdr (1)</li> <li>Wooboy (1)</li> <li>djamp42 (1)</li> <li>dlangille (1)</li> <li>Erik-Lamers1 (1)</li> <li>WillIrvine (1)</li> <li>mpikzink (1)</li> <li>simmonmt (1)</li> <li>yswery-reconz (1)</li> <li>0x4c6565 (1)</li> <li>antonio-jose-almeida (1)</li> <li>cjsoftuk (1)</li> <li>shepherdjay (1)</li> <li>imwuwei (1)</li> <li>SourceDoctor (1)</li> <li>filippog (1)</li> <li>bofh80 (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>murrant (50)</li> <li>Jellyfrog (39)</li> <li>PipoCanaja (11)</li> <li>SourceDoctor (1)</li> <li>frank42hh (1)</li> <li>haydenseitz (1)</li> </ul>"},{"location":"General/Changelog/#feature_33","title":"Feature","text":"<ul> <li>Cisco AES256 support (#12717) - Schultz</li> <li>Define Port Groups (#12402) - SourceDoctor</li> <li>Service watchdog - add systemd watchdog for resiliency (#12188) - bofh80</li> </ul>"},{"location":"General/Changelog/#security_21","title":"Security","text":"<ul> <li>Escape user editable field (#12739) - murrant</li> <li>Fix SQL injection in rediscover-device (#12716) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#device_38","title":"Device","text":"<ul> <li>Added basic support for BKtel Optical Amplifier (#12754) - Torch09</li> <li>Added Liebert HPM support (#12747) - martinberg</li> <li>Added basic Delta Orion Controller support (#12741) - craig-nokia</li> <li>Basic support for zyxelac_xmg3927 (#12740) - PipoCanaja</li> <li>Added support Cisco CBS350 (#12737) - PipoCanaja</li> <li>Correct OID for c3GsmSimStatus (#12724) - tamikkelsen</li> <li>Added support for Infinera XTM (#12710) - Torch09</li> <li>TAIT - Add entity physical support (#12703) - opalivan</li> <li>BDCOM update support (#12696) - hrtrd</li> <li>Update IOS with 4948 variant hardware detection (#12685) - zombah</li> <li>VRP - fix global VRF being NULL and not '' for cbgp, support for NetEngine devices (#12676) - PipoCanaja</li> <li>Added support for Canon printer model TM TX series (#12667) - Wooboy</li> <li>Fortinet per-core cpu (#12660) - murrant</li> <li>Fixed polling and health issues for 9001 and NCS devices, added suppo\u2026 (#12640) - WillIrvine</li> <li>VRP - Fix SSID Client count (#12629) - PipoCanaja</li> <li>Add CPU and Mem for Teldat Devices (#12619) - Cupidazul</li> <li>Better firebrick support (#12600) - cjsoftuk</li> <li>Huawei VRF BGP_Peers update (#12585) - PipoCanaja</li> <li>Add Packet Buffers as memory for PanOS (#12582) - shepherdjay</li> <li>Parse info from H3C branded comware devices (#12551) - imwuwei</li> </ul>"},{"location":"General/Changelog/#webui_34","title":"Webui","text":"<ul> <li>Fix inventory sensor links when empty (#12745) - murrant</li> <li>Fix mini graphs (#12738) - murrant</li> <li>Fix alert rules display when creating new alert template (#12731) - murrant</li> <li>Fix bug in component table (#12730) - murrant</li> <li>Use native browser lazy load (#12720) - murrant</li> <li>Fix devices latency tab calendar position (#12684) - TheGracens</li> <li>Fix links to non-existent devices (#12680) - murrant</li> <li>Scrollable Dashboard selection menu (#12656) - TheGracens</li> <li>Fix double escaping sysContact on device overview (#12653) - murrant</li> <li>Hide disabled components from overview page CIMC (#12650) - djamp42</li> <li>Fix progress-bar 0% (#12648) - si458</li> <li>Add ability to set a custom port on IPMI agents (#12634) - yswery-reconz</li> <li>WebUI - Display interface errors per second instead of accumulated (#12613) - antonio-jose-almeida</li> <li>Add ID to Device Table List and to Device Dependencies Table List + Shorten ifname in Device: Recent Events. (#12397) - Cupidazul</li> </ul>"},{"location":"General/Changelog/#graphs_23","title":"Graphs","text":"<ul> <li>Fix mempools divide by 0 (#12734) - murrant</li> </ul>"},{"location":"General/Changelog/#alerting_32","title":"Alerting","text":"<ul> <li>Add UKFast PSS transport (#12624) - 0x4c6565</li> <li>Support multiple Alertmanager URLs (#12346) - filippog</li> </ul>"},{"location":"General/Changelog/#discovery_24","title":"Discovery","text":"<ul> <li>Fix service template discovery (#12662) - murrant</li> </ul>"},{"location":"General/Changelog/#polling_22","title":"Polling","text":"<ul> <li>Allow getting VDSL stats on \"down\" VDSL ports (#12753) - DaveB91</li> <li>Fix printer state error (#12681) - murrant</li> <li>Translate hex sensor values returned from ipmitool (#12638) - simmonmt</li> </ul>"},{"location":"General/Changelog/#bug_36","title":"Bug","text":"<ul> <li>Fix globe controller up/down partition bug (#12757) - Jellyfrog</li> <li>Fix scopeIsArchived query (#12756) - Jellyfrog</li> <li>Split port_groups migration to prevent issues (#12732) - murrant</li> <li>Fix ports table when unpolled ports exist (#12722) - murrant</li> <li>JS fixes for IE (#12721) - murrant</li> <li>Correct snmp function usage (#12714) - Jellyfrog</li> <li>Fix adding discrete ipmi sensors by mistake (#12709) - si458</li> <li>Fix mempool tags (#12705) - murrant</li> <li>Issue with snmpwalk_group string splitting (#12701) - PipoCanaja</li> <li>Use Device object instead of array (#12699) - Jellyfrog</li> <li>Fix alert template variable ping_timestamp (#12690) - Jellyfrog</li> <li>Remove snmp2ipv6 (#12683) - murrant</li> <li>Fix deviceUrl check (#12682) - Jellyfrog</li> <li>Correct globecontroller typo (#12671) - Jellyfrog</li> <li>Fix undefined function in vrp peers (#12669) - murrant</li> <li>Fix Config reference in System validations (#12668) - casdr</li> <li>Fix regression from #12642 (#12661) - Jellyfrog</li> <li>Don't fail on rrd close (#12659) - murrant</li> <li>Change cache table to mediumtext (#12649) - Jellyfrog</li> <li>Fixed VRF name change not updated in DB (#12644) - PipoCanaja</li> <li>Fix a bunch of bugs (#12643) - Jellyfrog</li> <li>Misc cleanup (#12641) - Jellyfrog</li> <li>PHP8 Bug in printChangedStats (#12639) - mpikzink</li> <li>Correct sensor_id variable (#12633) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#refactor_24","title":"Refactor","text":"<ul> <li>Remove legacy function calls (#12651) - murrant</li> <li>Misc cleanups (#12642) - Jellyfrog</li> <li>Re-implement Printer as a class based module (#12605) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#cleanup_21","title":"Cleanup","text":"<ul> <li>More cleanups (#12715) - Jellyfrog</li> <li>Cleanup (#12695) - Jellyfrog</li> <li>PHPDoc fixes (#12693) - Jellyfrog</li> <li>PHPDoc fixes (#12687) - Jellyfrog</li> <li>Type hint all device model relations (#12686) - Jellyfrog</li> <li>Linting (#12677) - Jellyfrog</li> <li>Fix misc problems (#12675) - Jellyfrog</li> <li>More PHPDoc changes (#12674) - Jellyfrog</li> <li>Type hint model relations (#12673) - Jellyfrog</li> <li>Make moduleobserver type hinting overridable (#12670) - Jellyfrog</li> <li>Fix more PHPDoc (#12665) - Jellyfrog</li> <li>Replace Auth &gt; Illuminate\\Support\\Facades\\Auth (#12664) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#documentation_37","title":"Documentation","text":"<ul> <li>Fix typos in Dashboards.md (#12733) - codejake</li> <li>Fix doc building (#12711) - Jellyfrog</li> <li>Filter some validation when installed from a package (#12647) - dlangille</li> <li>Add poller_group docs on auto-discovered devices (#12646) - Erik-Lamers1</li> </ul>"},{"location":"General/Changelog/#tests_22","title":"Tests","text":"<ul> <li>Add feature to capture a full snmprec (#12706) - Jellyfrog</li> <li>Lint with shellcheck (#12666) - Jellyfrog</li> <li>Enable Black for linter (#12663) - Jellyfrog</li> <li>Add lint GitHub Action (#12655) - murrant</li> </ul>"},{"location":"General/Changelog/#misc_25","title":"Misc","text":"<ul> <li>Load device relationship from device cache (#12712) - murrant</li> <li>Switch to utf8mb4 (#12580) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#dependencies_31","title":"Dependencies","text":"<ul> <li>Bump phpseclib/phpseclib from 2.0.30 to 3.0.7 (#12723) - dependabot</li> <li>Bump php-amqplib to support PHP8 (#12698) - Jellyfrog</li> <li>Update php dependencies (#12692) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#2130","title":"21.3.0","text":"<p>(2021-03-20)</p> <p>A big thank you to the following 27 contributors this last month:</p> <ul> <li>murrant (14)</li> <li>Jellyfrog (12)</li> <li>PipoCanaja (6)</li> <li>SourceDoctor (4)</li> <li>si458 (2)</li> <li>Cormoran96 (2)</li> <li>miff2000 (2)</li> <li>mpikzink (1)</li> <li>rasssta (1)</li> <li>dependabot (1)</li> <li>Chewie9999 (1)</li> <li>bennet-esyoil (1)</li> <li>rkojedzinszky (1)</li> <li>bofh80 (1)</li> <li>WillIrvine (1)</li> <li>pbaldovi (1)</li> <li>h-barnhart (1)</li> <li>waddles (1)</li> <li>scamp (1)</li> <li>aarchijs (1)</li> <li>yrebrac (1)</li> <li>Serphentas (1)</li> <li>theochita (1)</li> <li>Schouwenburg (1)</li> <li>neg2led (1)</li> <li>bakerds (1)</li> <li>CirnoT (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (28)</li> <li>murrant (17)</li> <li>PipoCanaja (8)</li> <li>SourceDoctor (8)</li> <li>f0o (1)</li> <li>crazy-max (1)</li> <li>yrebrac (1)</li> </ul>"},{"location":"General/Changelog/#feature_34","title":"Feature","text":"<ul> <li>Developer device simulation (#12577) - murrant</li> </ul>"},{"location":"General/Changelog/#device_39","title":"Device","text":"<ul> <li>Add identification for Edgeswitch 8XP (#12622) - si458</li> <li>Add more printer data (#12617) - Jellyfrog</li> <li>Update hpe-ilo.yaml (#12612) - rasssta</li> <li>Fix AOS 7 sensors (#12599) - murrant</li> <li>Collect BIOS version for IBMC (#12586) - PipoCanaja</li> <li>Added support for siteboss571 + new tests (#12568) - WillIrvine</li> <li>VRP - Huawei Wifi Controllers and routers 3G/4G update (#12565) - PipoCanaja</li> <li>F5 realservers (node_name) display (#12553) - PipoCanaja</li> <li>Add BGP discovery and polling for Dell OS10 devices (#12549) - waddles</li> <li>Update support for ServersCheck (#12546) - Jellyfrog</li> <li>Add support for Edge-Core ECS4100 series devices (#12530) - scamp</li> <li>Adding Cisco ME1200 support (#12527) - aarchijs</li> <li>Cisco enhanced cellular (#12463) - Schouwenburg</li> <li>Support newer SyncServer (#12423) - neg2led</li> <li>Added alarm detection and optical PMs for Waveserver Ai (#12380) - bakerds</li> </ul>"},{"location":"General/Changelog/#webui_35","title":"Webui","text":"<ul> <li>Fix services availability-map link (#12632) - si458</li> <li>Add css text center (#12608) - Cormoran96</li> <li>Sort Type List in Eventlog Pages (#12572) - SourceDoctor</li> <li>Spanning Tree Link in Eventlog (#12571) - SourceDoctor</li> <li>Notifications : display sensor state textual value (#12554) - PipoCanaja</li> <li>GUI - Fix the detailed access point view (#12543) - PipoCanaja</li> <li>Add button to show verbose alert details in the alert, alert-log webui (#12484) - theochita</li> </ul>"},{"location":"General/Changelog/#snmp-traps_10","title":"Snmp Traps","text":"<ul> <li>Fixed typo jnxPowerSupplyOK (#12556) - h-barnhart</li> </ul>"},{"location":"General/Changelog/#applications_27","title":"Applications","text":"<ul> <li>Add application powermon (#12500) - yrebrac</li> <li>Chrony support (#12488) - Serphentas</li> <li>Docker stats app (#12358) - Cormoran96</li> </ul>"},{"location":"General/Changelog/#alerting_33","title":"Alerting","text":"<ul> <li>Add Google Chat Transport (#12558) - pbaldovi</li> </ul>"},{"location":"General/Changelog/#discovery_25","title":"Discovery","text":"<ul> <li>DynamicDiscovery - Guess num_oid if not provided in YAML file (#12570) - PipoCanaja</li> <li>Fix location for devices with broken snmp (#12544) - murrant</li> </ul>"},{"location":"General/Changelog/#oxidized_13","title":"Oxidized","text":"<ul> <li>Oxidized support airfiber (#12597) - murrant</li> </ul>"},{"location":"General/Changelog/#bug_37","title":"Bug","text":"<ul> <li>Bugfix for no sockets on Unix Agents (#12637) - mpikzink</li> <li>Fix Service Templates Dynamic (#12626) - murrant</li> <li>Service templates -  fix rules (#12587) - bofh80</li> <li>Fix vminfo invalid power state in migration (#12567) - murrant</li> <li>Add missing Power states (#12559) - Jellyfrog</li> <li>PHP 8 fixes (#12528) - murrant</li> </ul>"},{"location":"General/Changelog/#refactor_25","title":"Refactor","text":"<ul> <li>Remove legacy json format function (#12583) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_38","title":"Documentation","text":"<ul> <li>Update Agent-Setup.md with systemd instructions on how to restrict on which NIC the agent listens. (#12601) - Chewie9999</li> <li>Broken link on fast-polling page (#12595) - bennet-esyoil</li> <li>Fix bullet points (#12574) - miff2000</li> <li>Fix the bullet point rendering (#12560) - miff2000</li> </ul>"},{"location":"General/Changelog/#tests_23","title":"Tests","text":"<ul> <li>Location tests more reliable (#12584) - murrant</li> <li>Test both MariaDB and MySQL (#12547) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#misc_26","title":"Misc","text":"<ul> <li>Set correct min database version (#12606) - Jellyfrog</li> <li>Simplify process reaping (#12593) - rkojedzinszky</li> <li>Fix broken tests (#12588) - Jellyfrog</li> <li>Add minimum database version check (#12581) - Jellyfrog</li> <li>Global Settings - SNMP Timeout (#12579) - SourceDoctor</li> <li>Improved rrdtool version validation (#12539) - murrant</li> <li>Use DNS Location Record for Location (#12409) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#dependencies_32","title":"Dependencies","text":"<ul> <li>Bump elliptic from 6.5.3 to 6.5.4 (#12602) - dependabot</li> </ul>"},{"location":"General/Changelog/#2120","title":"21.2.0","text":"<p>(2021-02-16)</p> <p>A big thank you to the following 18 contributors this last month:</p> <ul> <li>murrant (9)</li> <li>Jellyfrog (8)</li> <li>PipoCanaja (1)</li> <li>hanserasmus (1)</li> <li>nightcore500 (1)</li> <li>simmonmt (1)</li> <li>SourceDoctor (1)</li> <li>dejantep (1)</li> <li>TridTech (1)</li> <li>Showfom (1)</li> <li>jasoncheng7115 (1)</li> <li>nkringle (1)</li> <li>dependabot (1)</li> <li>Negatifff (1)</li> <li>Cupidazul (1)</li> <li>paddy01 (1)</li> <li>Torch09 (1)</li> <li>bofh80 (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (13)</li> <li>murrant (12)</li> <li>SourceDoctor (5)</li> </ul>"},{"location":"General/Changelog/#feature_35","title":"Feature","text":"<ul> <li>GPS coordinates from device (#12521) - murrant</li> <li>Show Alert Count on Widget (#12503) - SourceDoctor</li> <li>Add Service Templates (#12107) - bofh80</li> </ul>"},{"location":"General/Changelog/#security_22","title":"Security","text":"<ul> <li>Fix url generator XSS (#12507) - Jellyfrog</li> <li>Fix XSS in notifications (#12504) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#device_40","title":"Device","text":"<ul> <li>VRP - Filter invalid temperature data 0x7fffffff (#12537) - PipoCanaja</li> <li>Rittal CMC III low warn limit and CAN bus current (#12513) - nightcore500</li> <li>Add TrueNAS temperature (#12506) - simmonmt</li> <li>Update deltaups.yaml definition (#12497) - TridTech</li> <li>Fixes incorrect device overlay graph type for poweralert 12 devices (#12491) - nkringle</li> <li>Socomecpdu support (#12481) - Negatifff</li> <li>Add support for SCS KS air-conditioning Devices (#12360) - Torch09</li> </ul>"},{"location":"General/Changelog/#webui_36","title":"Webui","text":"<ul> <li>Speedup device list (#12514) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#authentication_13","title":"Authentication","text":"<ul> <li>Fixes issues with binding and authenticating users in nested groups (#12398) - paddy01</li> </ul>"},{"location":"General/Changelog/#applications_28","title":"Applications","text":"<ul> <li>Add poller feature for RRDCached SNMP to query remote agent. (#12430) - Cupidazul</li> </ul>"},{"location":"General/Changelog/#discovery_26","title":"Discovery","text":"<ul> <li>Move sysContact polling to discovery (#12524) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#bug_38","title":"Bug","text":"<ul> <li>Better handling of invalid notification dates (#12523) - murrant</li> <li>Fix invalid dates in the database (#12512) - Jellyfrog</li> <li>Fix Fast Ping alerts always running (#12510) - murrant</li> <li>Fix Fast Ping (#12509) - murrant</li> <li>Network map fix Css/img (#12498) - dejantep</li> <li>Correct check for SNMPv3 SHA-192/256 compability (#12494) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#cleanup_22","title":"Cleanup","text":"<ul> <li>Remove perf_times table (#12517) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_39","title":"Documentation","text":"<ul> <li>Update transports docs (#12518) - hanserasmus</li> <li>Correct rrdcached.sock location on doc (#12496) - Showfom</li> </ul>"},{"location":"General/Changelog/#translation_14","title":"Translation","text":"<ul> <li>Updated Traditional Chinese Translation (#12493) - jasoncheng7115</li> </ul>"},{"location":"General/Changelog/#tests_24","title":"Tests","text":"<ul> <li>\"variant\" is now required for test data (#12531) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#dependencies_33","title":"Dependencies","text":"<ul> <li>Update php packages and fix composer warnings (#12526) - murrant</li> <li>Remove larapoke until they support PHP 8 (#12522) - murrant</li> <li>Bump laravel/framework from 8.22.1 to 8.24.0 (#12490) - dependabot</li> </ul>"},{"location":"General/Changelog/#2110","title":"21.1.0","text":"<p>(2021-02-02)</p> <p>A big thank you to the following 37 contributors this last month:</p> <ul> <li>murrant (14)</li> <li>Jellyfrog (8)</li> <li>efelon (4)</li> <li>SourceDoctor (4)</li> <li>paulierco (4)</li> <li>TheMysteriousX (3)</li> <li>dependabot (3)</li> <li>crazy-max (2)</li> <li>djamp42 (2)</li> <li>jezekus (2)</li> <li>martijn-schmidt (2)</li> <li>vitalisator (2)</li> <li>hanserasmus (1)</li> <li>lukoramu (1)</li> <li>deveth0 (1)</li> <li>lazyb0nes (1)</li> <li>mpikzink (1)</li> <li>richardlawley (1)</li> <li>Torch09 (1)</li> <li>rk4an (1)</li> <li>FingerlessGlov3s (1)</li> <li>dlehman83 (1)</li> <li>fablabo (1)</li> <li>zerrac (1)</li> <li>loopodoopo (1)</li> <li>alakiza (1)</li> <li>yrebrac (1)</li> <li>nkringle (1)</li> <li>ottorei (1)</li> <li>Senetus (1)</li> <li>WhippingBoy01 (1)</li> <li>haydenseitz (1)</li> <li>admish (1)</li> <li>kedare (1)</li> <li>ah9828 (1)</li> <li>OahzEgroeg (1)</li> <li>Dmkaz (1)</li> </ul> <p>Thanks to maintainers and others that helped with pull requests this month:</p> <ul> <li>Jellyfrog (36)</li> <li>murrant (26)</li> <li>SourceDoctor (4)</li> <li>f0o (3)</li> <li>ottorei (1)</li> <li>laf (1)</li> <li>calinrigo (1)</li> </ul>"},{"location":"General/Changelog/#feature_36","title":"Feature","text":"<ul> <li>Show Device Group on Map (#12379) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#security_23","title":"Security","text":"<ul> <li>Fix js injection issues in device overview (#12475) - murrant</li> <li>CVE-2020-35700 (#12422) - Jellyfrog</li> </ul>"},{"location":"General/Changelog/#device_41","title":"Device","text":"<ul> <li>Update enexus for \"SmartPack S\" (#12465) - haydenseitz</li> <li>Added Firepower 4125 (#12462) - WhippingBoy01</li> <li>Add Alcatel AOS7 bgpdescr &amp; bgpprefix (#12450) - paulierco</li> <li>Panduit PDU (#12449) - Senetus</li> <li>Add sensors for Meinberg Lantime NTP-devices (#12447) - ottorei</li> <li>Adds tripplight snmpwebcard support (#12445) - nkringle</li> <li>Add mempools, cpu and storage to some arbor devices (#12444) - TheMysteriousX</li> <li>Filter Juniper mempools (#12443) - TheMysteriousX</li> <li>Add planet-pdu os device (#12441) - paulierco</li> <li>Add  WTI POWER os device (#12440) - jezekus</li> <li>Enumerate sensors under the Outlet for the entity-physical inventory (#12439) - martijn-schmidt</li> <li>Nokia sap graph (#12432) - loopodoopo</li> <li>Apc epdu (#12428) - zerrac</li> <li>Fix for Mikrotik SwOS discovery (#12426) - jezekus</li> <li>New device OS: McafeeWebGateway (#12418) - paulierco</li> <li>Make LibreNMS recognize Schleifenbauer model DPM27/E with existing OS definition (#12414) - martijn-schmidt</li> <li>Update OPNsense version Regex, for _ releases (#12407) - FingerlessGlov3s</li> <li>Change raspberry_pi_sensors state (#12390) - mpikzink</li> <li>Added support for Motorola and Thomson DOCSIS Cable Modems. (#12386) - lukoramu</li> <li>Check Point: Added HA state support (#12382) - lazyb0nes</li> <li>Add Zyxel IES 5206 and 5212 to supported Devices (#12373) - Torch09</li> <li>Alcatel-Lucent support part2 (#12369) - paulierco</li> <li>Eltek Enexus. Disable some battery sensors if no battery bank is installed at all. (#12367) - vitalisator</li> <li>New device os Raisecom Router OS (ROAP) (#12361) - vitalisator</li> <li>Freenas storage polling fix (#12275) - Dmkaz</li> </ul>"},{"location":"General/Changelog/#webui_37","title":"Webui","text":"<ul> <li>Fix exception in device overview puppet widget (#12474) - murrant</li> <li>Support new lines in login_message again (#12469) - efelon</li> <li>Fix poller frequency display bug and warn (#12466) - murrant</li> <li>Remove unnecessary horizontal scroll bars in allert widgets (#12464) - efelon</li> <li>Reintroduce word wrapping to the custom login message (#12460) - efelon</li> <li>Add a button to reset port state history (#12457) - TheMysteriousX</li> <li>Improving readability of tables on dark theme dashboards (#12455) - efelon</li> <li>Changed default param max_rows to increase widget count on dashboard (#12438) - alakiza</li> <li>Fix percent bar text location (#12406) - rk4an</li> <li>Don't show gelocation on snmp location string (#12384) - SourceDoctor</li> <li>Copy Dashboard to other User (#11989) - SourceDoctor</li> <li>Output image for graphs with no data (#11865) - murrant</li> </ul>"},{"location":"General/Changelog/#authentication_14","title":"Authentication","text":"<ul> <li>Ldap auth handle no search more gracefully (#12424) - murrant</li> </ul>"},{"location":"General/Changelog/#api_28","title":"Api","text":"<ul> <li>Fix oxidized API call when config is missing (#12476) - murrant</li> <li>Allow logs to be filtered by min/max id (#12471) - kedare</li> </ul>"},{"location":"General/Changelog/#bug_39","title":"Bug","text":"<ul> <li>Fix broken statement on auto discovery (#12408) - djamp42</li> <li>Remove unused openssl_ver (#12378) - murrant</li> <li>Fix version compare (#12376) - murrant</li> </ul>"},{"location":"General/Changelog/#documentation_40","title":"Documentation","text":"<ul> <li>Update Rancid.md (#12487) - fablabo</li> <li>Creating Documentation page (#12486) - yrebrac</li> <li>Added missing / on internal link (#12467) - admish</li> <li>Lnms link in /usr/bin (#12446) - murrant</li> <li>Update Documentation (#12411) - dlehman83</li> <li>Document flattened Inventory API function (#12404) - richardlawley</li> <li>Update docs for raspberry.sh (#12389) - deveth0</li> <li>Update to incorporate new locking mechanisms (#12388) - hanserasmus</li> <li>Update Distributed-Poller.md Discovery using dispatcher service (#12387) - djamp42</li> <li>Doc - Increase Nginx Timeout (#12368) - SourceDoctor</li> </ul>"},{"location":"General/Changelog/#tests_25","title":"Tests","text":"<ul> <li>Add test to check if os parameter matches filename (#12442) - Jellyfrog</li> <li>Remove Travis support (#12416) - crazy-max</li> <li>GitHub Actions dev:check ci (#12392) - crazy-max</li> </ul>"},{"location":"General/Changelog/#misc_27","title":"Misc","text":"<ul> <li>Cast REDIS_TIMEOUT to integer (#12482) - OahzEgroeg</li> <li>Redis - Add scheme to allow TLS (#12477) - ah9828</li> </ul>"},{"location":"General/Changelog/#dependencies_34","title":"Dependencies","text":"<ul> <li>Remove PHP8 blockers in LibreNMS (#12451) - murrant</li> <li>Bump laravel/framework from 8.21.0 to 8.22.1 (#12448) - dependabot</li> <li>Update php dependencies (#12425) - murrant</li> <li>Upgrade to Laravel Mix 6 (#12421) - Jellyfrog</li> <li>Bump axios from 0.19.2 to 0.21.1 (#12420) - dependabot</li> <li>Bump ini from 1.3.5 to 1.3.8 (#12395) - dependabot</li> </ul>"},{"location":"General/Changelog/#old-changelogs","title":"Old Changelogs","text":""},{"location":"General/Releases/","title":"Choosing a release","text":"<p>We try to ensure that breaking changes aren't introduced by utilising various automated code testing, syntax testing and unit testing along with manual code review. However bugs can and do get introduced as well as major refactoring to improve the quality of the code base.</p> <p>We have two branches available for you to use. The default is the <code>master</code> branch.</p>"},{"location":"General/Releases/#development-branch","title":"Development branch","text":"<p>Our <code>master</code> branch is our dev branch, this is actively commited to and it's not uncommon for multiple commits to be merged in daily. As such sometimes changes will be introduced which will cause unintended issues. If this happens we are usually quick to fix or revert those changes.</p> <p>We appreciate everyone that runs this branch as you are in essence secondary testers to the automation and manually testing that is done during the merge stages.</p> <p>You can configure your install (this is the default) to use this branch by setting <code>lnms config:set update_channel master</code>  and ensuring you switch to the master branch with:</p> <p><code>cd /opt/librenms &amp;&amp; git checkout master</code></p>"},{"location":"General/Releases/#stable-branch","title":"Stable branch","text":"<p>With this in mind, we provide a monthly stable release which is released on or around  the last Sunday of the month. Code pull requests (aside from Bug fixes) are stopped days leading up to the release to ensure that we have a clean working branch at that point.</p> <p>The changelog is also updated and will reference the release number and date so you can see what changes have been made since the last release.</p> <p>To switch to using stable branches you can set <code>lnms config:set update_channel release</code></p> <p>This will pause updates until the next stable release, at that time LibreNMS will update to the stable release and continue to only update to stable releases. Downgrading is not supported on LibreNMS and will likely cause bugs.</p>"},{"location":"General/Security/","title":"General","text":"<p>Like any good software we take security seriously. However, bugs do make it into the software along with the history of the code base we inherited. It's how we deal with identified vulnerabilities that should show that we take things seriously.</p>"},{"location":"General/Security/#securing-your-install","title":"Securing your install","text":"<p>As with any system of this nature, we highly recommend that you restrict access to the install via a firewall or VPN.</p> <p>Please ensure you keep your install up to date.</p>"},{"location":"General/Security/#enable-https","title":"Enable HTTPS","text":"<p>It is also highly recommended that the Web interface is protected with an SSL certificate such as ones provided by LetsEncrypt.</p>"},{"location":"General/Security/#secure-session-cookies","title":"Secure Session Cookies","text":"<p>Once you have enabled HTTPS for your install, you should set <code>SESSION_SECURE_COOKIE=true</code> in your .env file.  This will require cookies to be transferred by secure protocol and prevent any MiM attacks against it.</p>"},{"location":"General/Security/#trusted-proxies","title":"Trusted Proxies","text":"<p>When using a reverse proxy, you may restrict the hosts allowed to forward headers to LibreNMS. By default this allows all proxies, due to legacy reasons.</p> <p>Set APP_TRUSTED_PROXIES in your .env to an empty string or the urls to the proxies allowed to forward.</p>"},{"location":"General/Security/#reporting-vulnerabilities","title":"Reporting vulnerabilities","text":"<p>Like anyone, we appreciate the work people put in to find flaws in software and welcome anyone to do so with LibreNMS, this will lead to better quality and more secure software for everyone.</p> <p>If you think you've found a vulnerability and want to discuss it with some of the core team then you can contact us on Discord and we will endeavour to get back to as quick as we can, this is usually within 24 hours.</p> <p>We are happy to attribute credit to the findings, but we ask that we're given a chance to patch any vulnerability before public disclosure so that our users can update as soon as a fix is available.</p>"},{"location":"General/Updating/","title":"Updating an Install","text":"<p>By default, LibreNMS is set to automatically update. If you have disabled this feature then you can perform a manual update.</p>"},{"location":"General/Updating/#manual-update","title":"Manual update","text":"<p>If you would like to perform a manual update then you can do this by running the following command as the <code>librenms</code> user:</p> <p><code>./daily.sh</code></p> <p>This will update both the core LibreNMS files but also update the database structure if updates are available.</p>"},{"location":"General/Updating/#advanced-users","title":"Advanced users","text":"<p>If you absolutely must update manually without using <code>./daily.sh</code> then you can do so by running the following commands:</p> <pre><code>cd /opt/librenms\ngit pull\n./scripts/composer_wrapper.php install --no-dev\n./lnms migrate\n./validate.php\n</code></pre>"},{"location":"General/Updating/#disabling-automatic-updates","title":"Disabling automatic updates","text":"<p>LibreNMS by default performs updates on a daily basis. This can be disabled in the WebUI Global Settings under System -&gt; Updates, or using lnms</p> <p>Warning</p> <p>You should never remove daily.sh from the cronjob! This does database cleanup and other processes in addition to updating.</p> <p>settings/system/updates</p> <pre><code>lnms config:set update false\n</code></pre>"},{"location":"General/Welcome-to-Observium-users/","title":"Welcome to Observium users","text":"<p>LibreNMS is a fork of Observium.  The reason for the fork has nothing to do with Observium's move to community vs. paid versions.  It is simply that we have different priorities and values to the Observium development team.  We decided to fork (reluctantly) because we like using Observium, but we want to collaborate on a community-based project with like-minded IT professionals.  See README.md and the references there for more information about the kind of community we're trying to promote.</p> <p>LibreNMS was forked from the last GPL-licensed version of Observium.</p> <p>Thanks to one of our users, Dan Brown, who has written a migration script, you can easily move your Observium install over to LibreNMS. This also takes care of moving from one CPU architecture to another. Give it a try :)</p> <p>How LibreNMS will be different from Observium:</p> <ul> <li>We will have an inclusive community, where it's OK to ask stupid   questions, and OK to ask for things that aren't on the roadmap.  If you'd   like to see something added, add or comment on the relevant issue in our   Community forum.</li> <li>Development decisions will be community-driven.  We want to make software   that fulfills its users' needs.</li> <li>There are no plans for a paid version, and we don't anticipate this ever   changing.</li> <li>There are no current plans for paid support, but this may be added later   if there is sufficient demand.</li> <li>We use git for version control and GitHub for hosting to make it as easy   and painless as possible to create forked or private versions.</li> </ul> <p>Reasons why you might want to use Observium instead of LibreNMS:</p> <ul> <li>You have a financial investment in Observium and aren't concerned about   community contributions.</li> <li>You don't like the GNU General Public License, version 3 or the   philosophy of Free Software/copyleft in general.</li> </ul> <p>Reasons why you might want to use LibreNMS instead of Observium:</p> <ul> <li>You want to work with others on the project, knowing that your   investment of time and effort will not be wasted.</li> <li>You want to add and experiment with features that are not a priority for   the Observium developers.  See CONTRIBUTING for more details.</li> <li>You want to make use of the additional features LibreNMS can offer.</li> </ul>"},{"location":"Installation/Docker/","title":"Docker","text":"<p>An official LibreNMS docker image based on Alpine Linux and Nginx is available on DockerHub.</p>"},{"location":"Installation/Docker/#documentation","title":"Documentation","text":"<p>Full install and configuration documentation can be found on the GitHub repository.</p>"},{"location":"Installation/Docker/#quick-install","title":"Quick install","text":"<ol> <li>Install docker: https://docs.docker.com/engine/install/</li> <li>Download and unzip composer files: <pre><code>mkdir librenms\ncd librenms\nwget https://github.com/librenms/docker/archive/refs/heads/master.zip\nunzip master.zip\ncd docker-master/examples/compose\n</code></pre></li> <li>Set a new mysql password in .env and inspect compose.yml</li> <li>Bring up the docker containers <pre><code>sudo docker compose -f compose.yml up -d\n</code></pre></li> <li>Open webui to finish configuration. <code>http://localhost:8000</code> (use the correct ip or name instead of localhost)</li> </ol>"},{"location":"Installation/Images/","title":"LibreNMS VMs","text":"<p>NOTE: We highly advise that you change all passwords on this image when you deploy it!!</p> <p>NOTE: These images ship with a vagrant user, please remove this user account when you deploy it!!</p> <p>NOTE: Read the above note again!</p> <p>We have available for download a pre-built image based on Ubuntu 22.04. These images are built using packer.io.</p> <p>Details of the image and it's setup are:</p> <p>At present we provide the following builds:</p> <ul> <li>OVA Built with VirtualBox.</li> <li>OVA Built for VMWare ESXi.</li> <li> <p>Vagrant Box file.</p> </li> <li> <p>Any issues and or help with these images should be reported via   Community Forum or our Discord   server</p> </li> </ul>"},{"location":"Installation/Images/#setup","title":"Setup","text":"<ul> <li>US Keyboard</li> <li>Etc/UTC Timezone</li> <li>4 Poller Wrapper threads</li> </ul>"},{"location":"Installation/Images/#software","title":"Software","text":"<ul> <li>PHP 8.1</li> <li>MariaDB</li> <li>Syslog-ng</li> </ul>"},{"location":"Installation/Images/#features","title":"Features","text":"<ul> <li>Oxidized installed but not configured</li> <li>Weathermap plugin enabled</li> <li>Billing enabled</li> <li>RRDCached enabled</li> <li>Service checks enabled</li> <li>Syslog enabled</li> </ul>"},{"location":"Installation/Images/#download","title":"Download","text":"<p>All images can be downloaded from GitHub. The tags follow the main LibreNMS repo. When a new LibreNMS release is available we will push new images out running that version. Please do note that if you download an older release with a view to running that specific version, you will need to disable updates <code>lnms config:set update false</code>.</p>"},{"location":"Installation/Images/#accesscredentials","title":"Access/Credentials","text":"<p>If you are using the VirtualBox image then to access your newly imported VM,  these ports are forwarded from your machine to the VM: 8080 for WebUI and 2023 for SSH. Remember to edit/remove them if you change (and you should) the VM network configuration.</p> <ul> <li>WebUI (http://localhost)</li> <li>username: librenms</li> <li> <p>password: <code>D32fwefwef</code></p> </li> <li> <p>SSH (change the password ssh://localhost:2023)</p> </li> <li>username: librenms</li> <li> <p>password: <code>CDne3fwdfds</code></p> </li> <li> <p>SSH (remove this account)</p> </li> <li>username: vagrant</li> <li> <p>password; vagrant</p> </li> <li> <p>MySQL/MariaDB</p> </li> <li>username: librenms</li> <li>password: <code>D42nf23rewD</code></li> </ul>"},{"location":"Installation/Images/#contributing","title":"Contributing","text":"<p>If you would like to help with these images whether it's add additional features or default software / settings then you can do so on GitHub.</p>"},{"location":"Installation/Install-LibreNMS/","title":"Install LibreNMS","text":""},{"location":"Installation/Install-LibreNMS/#prepare-linux-server","title":"Prepare Linux Server","text":"<p>You should have an installed Linux server running one of the supported OS. Make sure you select your server's OS in the tabbed options below. Choice of web server is your preference, NGINX is recommended.</p> <p>Connect to the server command line and follow the instructions below.</p> <p>Note</p> <p>These instructions assume you are the root user. If you are not, prepend <code>sudo</code> to the shell commands (the ones that aren't at <code>mysql&gt;</code> prompts) or temporarily become a user with root privileges with <code>sudo -s</code> or <code>sudo -i</code>.</p> <p>Please note the minimum supported PHP version is 8.1</p>"},{"location":"Installation/Install-LibreNMS/#install-required-packages","title":"Install Required Packages","text":"Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 NGINX <pre><code>apt install acl curl fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php-cli php-curl php-fpm php-gd php-gmp php-json php-mbstring php-mysql php-snmp php-xml php-zip rrdtool snmp snmpd unzip python3-pymysql python3-dotenv python3-redis python3-setuptools python3-systemd python3-pip whois traceroute\n</code></pre> NGINXApache <pre><code>apt install software-properties-common\nadd-apt-repository universe\nadd-apt-repository ppa:ondrej/php\napt update\napt install acl curl fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php-cli php-curl php-fpm php-gd php-gmp php-json php-mbstring php-mysql php-snmp php-xml php-zip rrdtool snmp snmpd unzip python3-pymysql python3-dotenv python3-redis python3-setuptools python3-systemd python3-pip whois traceroute\n</code></pre> <pre><code>apt install software-properties-common\nadd-apt-repository universe\nadd-apt-repository ppa:ondrej/php\napt update\napt install acl curl apache2 fping git graphviz imagemagick libapache2-mod-fcgid mariadb-client mariadb-server mtr-tiny nmap php-cli php-curl php-fpm php-gd php-gmp php-json php-mbstring php-mysql php-snmp php-xml php-zip rrdtool snmp snmpd whois python3-pymysql python3-dotenv python3-redis python3-setuptools python3-systemd python3-pip unzip traceroute\n</code></pre> NGINXApache <pre><code>dnf -y install epel-release\ndnf -y install dnf-utils http://rpms.remirepo.net/enterprise/remi-release-8.rpm\ndnf module reset php\ndnf module enable php:8.1\ndnf install bash-completion cronie fping git ImageMagick mariadb-server mtr net-snmp net-snmp-utils nginx nmap php-fpm php-cli php-common php-curl php-gd php-gmp php-json php-mbstring php-process php-snmp php-xml php-zip php-mysqlnd python3 python3-PyMySQL python3-redis python3-memcached python3-pip python3-systemd rrdtool unzip\n</code></pre> <pre><code>dnf -y install epel-release\ndnf -y install dnf-utils http://rpms.remirepo.net/enterprise/remi-release-8.rpm\ndnf module reset php\ndnf module enable php:remi-8.1\ndnf install bash-completion cronie fping gcc git httpd ImageMagick mariadb-server mtr net-snmp net-snmp-utils nmap php-fpm php-cli php-common php-curl php-gd php-gmp php-json php-mbstring php-process php-snmp php-xml php-zip php-mysqlnd python3 python3-devel python3-PyMySQL python3-redis python3-memcached python3-pip python3-systemd rrdtool unzip \n</code></pre> NGINX <pre><code>apt install apt-transport-https lsb-release ca-certificates wget acl curl fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php8.2-cli php8.2-curl php8.2-fpm php8.2-gd php8.2-gmp php8.2-mbstring php8.2-mysql php8.2-snmp php8.2-xml php8.2-zip python3-dotenv python3-pymysql python3-redis python3-setuptools python3-systemd python3-pip rrdtool snmp snmpd unzip whois\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#add-librenms-user","title":"Add librenms user","text":"<pre><code>useradd librenms -d /opt/librenms -M -r -s \"$(which bash)\"\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#download-librenms","title":"Download LibreNMS","text":"<pre><code>cd /opt\ngit clone https://github.com/librenms/librenms.git\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#set-permissions","title":"Set permissions","text":"<pre><code>chown -R librenms:librenms /opt/librenms\nchmod 771 /opt/librenms\nsetfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/\nsetfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#install-php-dependencies","title":"Install PHP dependencies","text":"<p><pre><code>su - librenms\n./scripts/composer_wrapper.php install --no-dev\nexit\n</code></pre> Sometimes when there is a proxy used to gain internet access, the above script may fail. The workaround is to install the <code>composer</code> package manually. For a global installation: <pre><code>wget https://getcomposer.org/composer-stable.phar\nmv composer-stable.phar /usr/bin/composer\nchmod +x /usr/bin/composer\n</code></pre></p>"},{"location":"Installation/Install-LibreNMS/#set-timezone","title":"Set timezone","text":"<p>See https://php.net/manual/en/timezones.php for a list of supported timezones.  Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". Ensure date.timezone is set in php.ini to your preferred time zone.</p> Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 <pre><code>vi /etc/php/8.1/fpm/php.ini\nvi /etc/php/8.1/cli/php.ini\n</code></pre> <pre><code>vi /etc/php/8.1/fpm/php.ini\nvi /etc/php/8.1/cli/php.ini\n</code></pre> <pre><code>vi /etc/php.ini\n</code></pre> <pre><code>vi /etc/php/8.2/fpm/php.ini\nvi /etc/php/8.2/cli/php.ini\n</code></pre> <p>Remember to set the system timezone as well.</p> <pre><code>timedatectl set-timezone Etc/UTC\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#configure-mariadb","title":"Configure MariaDB","text":"Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 <pre><code>vi /etc/mysql/mariadb.conf.d/50-server.cnf\n</code></pre> <pre><code>vi /etc/mysql/mariadb.conf.d/50-server.cnf\n</code></pre> <pre><code>vi /etc/my.cnf.d/mariadb-server.cnf\n</code></pre> <pre><code>vi /etc/mysql/mariadb.conf.d/50-server.cnf\n</code></pre> <p>Within the <code>[mysqld]</code> section add:</p> <pre><code>innodb_file_per_table=1\nlower_case_table_names=0\n</code></pre> <p>Then restart MariaDB</p> <p><pre><code>systemctl enable mariadb\nsystemctl restart mariadb\n</code></pre> Start MariaDB client</p> <pre><code>mysql -u root\n</code></pre> <p>NOTE: Change the 'password' below to something secure.</p> <pre><code>CREATE DATABASE librenms CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\nCREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost';\nexit\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#configure-php-fpm","title":"Configure PHP-FPM","text":"Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 <pre><code>cp /etc/php/8.1/fpm/pool.d/www.conf /etc/php/8.1/fpm/pool.d/librenms.conf\nvi /etc/php/8.1/fpm/pool.d/librenms.conf\n</code></pre> <pre><code>cp /etc/php/8.1/fpm/pool.d/www.conf /etc/php/8.1/fpm/pool.d/librenms.conf\nvi /etc/php/8.1/fpm/pool.d/librenms.conf\n</code></pre> <pre><code>cp /etc/php-fpm.d/www.conf /etc/php-fpm.d/librenms.conf\nvi /etc/php-fpm.d/librenms.conf\n</code></pre> <pre><code>cp /etc/php/8.2/fpm/pool.d/www.conf /etc/php/8.2/fpm/pool.d/librenms.conf\nvi /etc/php/8.2/fpm/pool.d/librenms.conf\n</code></pre> <p>Change <code>[www]</code> to <code>[librenms]</code>: <pre><code>[librenms]\n</code></pre></p> <p>Change <code>user</code> and <code>group</code> to \"librenms\": <pre><code>user = librenms\ngroup = librenms\n</code></pre></p> <p>Change <code>listen</code> to a unique path that must match your webserver's config (<code>fastcgi_pass</code> for NGINX and <code>SetHandler</code> for Apache) : <pre><code>listen = /run/php-fpm-librenms.sock\n</code></pre></p> <p>If there are no other PHP web applications on this server, you may remove www.conf to save some resources. Feel free to tune the performance settings in librenms.conf to meet your needs.</p>"},{"location":"Installation/Install-LibreNMS/#configure-web-server","title":"Configure Web Server","text":"Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 NGINX <pre><code>vi /etc/nginx/conf.d/librenms.conf\n</code></pre> <p>Add the following config, edit <code>server_name</code> as required:</p> <pre><code>server {\n listen      80;\n server_name librenms.example.com;\n root        /opt/librenms/html;\n index       index.php;\n\n charset utf-8;\n gzip on;\n gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon;\n location / {\n  try_files $uri $uri/ /index.php?$query_string;\n }\n location ~ [^/]\\.php(/|$) {\n  fastcgi_pass unix:/run/php-fpm-librenms.sock;\n  fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n  include fastcgi.conf;\n }\n location ~ /\\.(?!well-known).* {\n  deny all;\n }\n}\n</code></pre> <pre><code>rm /etc/nginx/sites-enabled/default\nsystemctl restart nginx\nsystemctl restart php8.1-fpm\n</code></pre> NGINXApache <pre><code>vi /etc/nginx/conf.d/librenms.conf\n</code></pre> <p>Add the following config, edit <code>server_name</code> as required:</p> <pre><code>server {\n listen      80;\n server_name librenms.example.com;\n root        /opt/librenms/html;\n index       index.php;\n\n charset utf-8;\n gzip on;\n gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon;\n location / {\n  try_files $uri $uri/ /index.php?$query_string;\n }\n location ~ [^/]\\.php(/|$) {\n  fastcgi_pass unix:/run/php-fpm-librenms.sock;\n  fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n  include fastcgi.conf;\n }\n location ~ /\\.(?!well-known).* {\n  deny all;\n }\n}\n</code></pre> <pre><code>rm /etc/nginx/sites-enabled/default\nsystemctl restart nginx\nsystemctl restart php8.1-fpm\n</code></pre> <pre><code>vi /etc/apache2/sites-available/librenms.conf\n</code></pre> <p>Add the following config, edit <code>ServerName</code> as required:</p> <pre><code>&lt;VirtualHost *:80&gt;\n  DocumentRoot /opt/librenms/html/\n  ServerName  librenms.example.com\n\n  AllowEncodedSlashes NoDecode\n  &lt;Directory \"/opt/librenms/html/\"&gt;\n    Require all granted\n    AllowOverride All\n    Options FollowSymLinks MultiViews\n  &lt;/Directory&gt;\n\n  # Enable http authorization headers\n  &lt;IfModule setenvif_module&gt;\n    SetEnvIfNoCase ^Authorization$ \"(.+)\" HTTP_AUTHORIZATION=$1\n  &lt;/IfModule&gt;\n\n  &lt;FilesMatch \".+\\.php$\"&gt;\n    SetHandler \"proxy:unix:/run/php-fpm-librenms.sock|fcgi://localhost\"\n  &lt;/FilesMatch&gt;\n&lt;/VirtualHost&gt;\n</code></pre> <pre><code>a2dissite 000-default\na2enmod proxy_fcgi setenvif rewrite\na2ensite librenms.conf\nsystemctl restart apache2\nsystemctl restart php8.1-fpm\n</code></pre> NGINXApache <pre><code>vi /etc/nginx/conf.d/librenms.conf\n</code></pre> <p>Add the following config, edit <code>server_name</code> as required:</p> <pre><code>server {\n listen      80;\n server_name librenms.example.com;\n root        /opt/librenms/html;\n index       index.php;\n\n charset utf-8;\n gzip on;\n gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon;\n location / {\n  try_files $uri $uri/ /index.php?$query_string;\n }\n location ~ [^/]\\.php(/|$) {\n  fastcgi_pass unix:/run/php-fpm-librenms.sock;\n  fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n  include fastcgi.conf;\n }\n location ~ /\\.(?!well-known).* {\n  deny all;\n }\n}\n</code></pre> <p>NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site.</p> <p>Delete the <code>server</code> section from <code>/etc/nginx/nginx.conf</code></p> <pre><code>systemctl enable --now nginx\nsystemctl enable --now php-fpm\n</code></pre> <p>Create the librenms.conf:</p> <pre><code>vi /etc/httpd/conf.d/librenms.conf\n</code></pre> <p>Add the following config, edit <code>ServerName</code> as required:</p> <pre><code>&lt;VirtualHost *:80&gt;\n  DocumentRoot /opt/librenms/html/\n  ServerName  librenms.example.com\n\n  AllowEncodedSlashes NoDecode\n  &lt;Directory \"/opt/librenms/html/\"&gt;\n    Require all granted\n    AllowOverride All\n    Options FollowSymLinks MultiViews\n  &lt;/Directory&gt;\n\n  # Enable http authorization headers\n  &lt;IfModule setenvif_module&gt;\n    SetEnvIfNoCase ^Authorization$ \"(.+)\" HTTP_AUTHORIZATION=$1\n  &lt;/IfModule&gt;\n\n  &lt;FilesMatch \".+\\.php$\"&gt;\n    SetHandler \"proxy:unix:/run/php-fpm-librenms.sock|fcgi://localhost\"\n  &lt;/FilesMatch&gt;\n&lt;/VirtualHost&gt;\n</code></pre> <p>NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. <code>rm -f /etc/httpd/conf.d/welcome.conf</code></p> <pre><code>systemctl enable --now httpd\nsystemctl enable --now php-fpm\n</code></pre> NGINX <pre><code>vi /etc/nginx/sites-enabled/librenms.vhost\n</code></pre> <p>Add the following config, edit <code>server_name</code> as required:</p> <pre><code>server {\n listen      80;\n server_name librenms.example.com;\n root        /opt/librenms/html;\n index       index.php;\n\n charset utf-8;\n gzip on;\n gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon;\n location / {\n  try_files $uri $uri/ /index.php?$query_string;\n }\n location ~ [^/]\\.php(/|$) {\n  fastcgi_pass unix:/run/php-fpm-librenms.sock;\n  fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n  include fastcgi.conf;\n }\n location ~ /\\.(?!well-known).* {\n  deny all;\n }\n}\n</code></pre> <pre><code>rm /etc/nginx/sites-enabled/default\nsystemctl reload nginx\nsystemctl restart php8.2-fpm\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#selinux","title":"SELinux","text":"Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 <p>SELinux not enabled by default</p> <p>SELinux not enabled by default</p> <p>Install the policy tool for SELinux:</p> <pre><code>dnf install policycoreutils-python-utils\n</code></pre> <p>Configure the contexts needed by LibreNMS</p> <pre><code>semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/html(/.*)?'\nsemanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/(rrd|storage)(/.*)?'\nsemanage fcontext -a -t httpd_log_t \"/opt/librenms/logs(/.*)?\"\nsemanage fcontext -a -t httpd_cache_t '/opt/librenms/cache(/.*)?'\nsemanage fcontext -a -t bin_t '/opt/librenms/librenms-service.py'\nrestorecon -RFvv /opt/librenms\nsetsebool -P httpd_can_sendmail=1\nsetsebool -P httpd_execmem 1\nchcon -t httpd_sys_rw_content_t /opt/librenms/.env\n</code></pre> <p>Allow fping</p> <p>Create the file http_fping.tt with the following contents. You can create this file anywhere, as it is a throw-away file. The last step in this install procedure will install the module in the proper location.</p> <pre><code>module http_fping 1.0;\n\nrequire {\ntype httpd_t;\nclass capability net_raw;\nclass rawip_socket { getopt create setopt write read };\n}\n\n#============= httpd_t ==============\nallow httpd_t self:capability net_raw;\nallow httpd_t self:rawip_socket { getopt create setopt write read };\n</code></pre> <p>Then run these commands</p> <pre><code>checkmodule -M -m -o http_fping.mod http_fping.tt\nsemodule_package -o http_fping.pp -m http_fping.mod\nsemodule -i http_fping.pp\n</code></pre> <p>Additional SELinux problems may be found by executing the following command</p> <pre><code>audit2why &lt; /var/log/audit/audit.log\n</code></pre> <p>SELinux not enabled by default</p>"},{"location":"Installation/Install-LibreNMS/#allow-access-through-firewall","title":"Allow access through firewall","text":"Ubuntu 22.04Ubuntu 20.04CentOS 8Debian 12 <p>Firewall not enabled by default</p> <p>Firewall not enabled by default</p> <pre><code>firewall-cmd --zone public --add-service http --add-service https\nfirewall-cmd --permanent --zone public --add-service http --add-service https\n</code></pre> <p>Firewall not enabled by default</p>"},{"location":"Installation/Install-LibreNMS/#enable-lnms-command-completion","title":"Enable lnms command completion","text":"<p>This feature grants you the opportunity to use tab for completion on lnms commands as you would for normal linux commands.</p> <pre><code>ln -s /opt/librenms/lnms /usr/bin/lnms\ncp /opt/librenms/misc/lnms-completion.bash /etc/bash_completion.d/\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#configure-snmpd","title":"Configure snmpd","text":"<pre><code>cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf\n</code></pre> <pre><code>vi /etc/snmp/snmpd.conf\n</code></pre> <p>Edit the text which says <code>RANDOMSTRINGGOESHERE</code> and set your own community string.</p> <pre><code>curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro\nchmod +x /usr/bin/distro\nsystemctl enable snmpd\nsystemctl restart snmpd\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#cron-job","title":"Cron job","text":"<pre><code>cp /opt/librenms/dist/librenms.cron /etc/cron.d/librenms\n</code></pre> <p>NOTE: Keep in mind  that cron, by default, only uses a very limited set of environment variables. You may need to configure proxy variables for the cron invocation. Alternatively adding the proxy settings in config.php is possible too. The config.php file will be created in the upcoming steps. Review the following URL after you finished librenms install steps: https://docs.librenms.org//Support/Configuration/#proxy-support</p>"},{"location":"Installation/Install-LibreNMS/#enable-the-scheduler","title":"Enable the scheduler","text":"<pre><code>cp /opt/librenms/dist/librenms-scheduler.service /opt/librenms/dist/librenms-scheduler.timer /etc/systemd/system/\n\nsystemctl enable librenms-scheduler.timer\nsystemctl start librenms-scheduler.timer\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#copy-logrotate-config","title":"Copy logrotate config","text":"<p>LibreNMS keeps logs in <code>/opt/librenms/logs</code>. Over time these can become large and be rotated out.  To rotate out the old logs you can use the provided logrotate config file:</p> <pre><code>cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#web-installer","title":"Web installer","text":"<p>Now head to the web installer and follow the on-screen instructions.</p> <p>http://librenms.example.com/install</p> <p>The web installer might prompt you to create a <code>config.php</code> file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run:</p> <pre><code>chown librenms:librenms /opt/librenms/config.php\n</code></pre>"},{"location":"Installation/Install-LibreNMS/#final-steps","title":"Final steps","text":"<p>That's it!  You now should be able to log in to http://librenms.example.com/.  Please note that we have not covered  HTTPS setup in this example, so your LibreNMS install is not secure  by default.  Please do not expose it to the public Internet unless  you have configured HTTPS and taken appropriate web server hardening  steps.</p>"},{"location":"Installation/Install-LibreNMS/#add-the-first-device","title":"Add the first device","text":"<p>We now suggest that you add localhost as your first device from within the WebUI.</p>"},{"location":"Installation/Install-LibreNMS/#troubleshooting","title":"Troubleshooting","text":"<p>If you ever have issues with your install, run validate.php:</p> <pre><code>sudo su - librenms\n./validate.php\n</code></pre> <p>There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support</p>"},{"location":"Installation/Install-LibreNMS/#what-next","title":"What next?","text":"<p>Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going:</p> <ul> <li>Performance tuning</li> <li>Alerting</li> <li>Device Groups</li> <li>Auto discovery</li> </ul>"},{"location":"Installation/Install-LibreNMS/#closing","title":"Closing","text":"<p>We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.</p> <p>If you would like to help make LibreNMS better there are many ways to help. You can also back LibreNMS on Open Collective.</p>"},{"location":"Installation/Migrating-from-Observium/","title":"Migrating from Observium","text":"<p>A LibreNMS user, Dan, has kindly provided full details and scripts to be able to migrate from Observium to LibreNMS.</p> <p>We have mirrored the scripts he's provided with consent, these are available in the <code>scripts\\Migration</code> folder of your installation..</p>"},{"location":"Installation/Migrating-from-Observium/#setup","title":"Setup:","text":"<p>First I had to lay out my script requirements:</p> <ul> <li>Build the RRD directories on LibreNMS</li> <li>Convert the RRD files on Observium to XML (x86 to x64 move)</li> <li>Copy the RRD/XML files to LibreNMS</li> <li>Convert the XML files back to RRD files</li> <li>Add the device to LibreNMS</li> </ul>"},{"location":"Installation/Migrating-from-Observium/#script","title":"Script:","text":"<p>There are two versions of the scripts available for you to download: - One converts the RRDs to XML and then back to RRD files when they hit the destination. This is a requirement if you are moving from x86 to x64.  - Assuming you\u2019re moving servers that are on the same architecture, we can skip that step and just SCP the original RRD files.</p> <p>For everything to work as originally intended, you\u2019ll need four files.\u00a0Put all four files on both servers, the scripts default to /tmp/:</p> <ul> <li>nodelist.txt \u2013 this file contains the list of hosts you would like to move. This must match exactly to the hostname Observium uses</li> <li>mkdir.sh \u2013 this script creates the necessary directories on your LibreNMS server</li> <li>destwork.sh \u2013 depending on the version you choose, this script will add the device to LibreNMS and possibly convert from XML to RRD</li> <li>convert.sh \u2013 convert is the main script we\u2019ll be calling. All of the magic happens here.</li> </ul> <p>Feel free to crack open the scripts and modify them to suit you. Each file has a handful of variables you\u2019ll need to set for your conversion. They should be self-explanatory, but please leave a comment if you have trouble. </p>"},{"location":"Installation/Migrating-from-Observium/#conversion","title":"Conversion:","text":"<p>This section assumes the following:</p> <ul> <li>Root access is available on both servers</li> <li>You have SSH access to both servers</li> <li>All four files have been placed in the tmp directory of both servers</li> </ul> <p>I would strongly suggest you start with just one or two hosts and see how things work. For me, 10 standard sized devices took about 20 minutes with the RRD to XML conversion. Every environment will be different, so start slow and work your way up to full automation.</p>"},{"location":"Installation/Migrating-from-Observium/#ssh-keys","title":"SSH Keys","text":"<p>First thing we will want to do is exchange SSH keys so that we can automate the login process used by the scripts. Perform these steps on your Observium server:</p> <p><code>ssh-keygen -t rsa</code></p> <p>Accept the defaults and enter a passphrase if you wish. Then:</p> <p><code>ssh-copy-id librenms</code></p> <p>Where librenms is the hostname or IP of your destination server.</p>"},{"location":"Installation/Migrating-from-Observium/#nodelisttxt","title":"Nodelist.txt","text":"<p>The nodelist.txt file contains a list of hosts we want to migrate from Observium. These names must match the name of the RRD folder on Observium. You can get those names by running the following \u2013</p> <p><code>ls /opt/observium/rrd/</code></p> <p>Also important, the nodelist.txt file must be on\u00a0both your Observium and LibreNMS server. Once you have your list, edit nodelist.txt with\u00a0nano:</p> <p><code>nano /tmp/nodelist.txt</code></p> <p>And replace the dummy data with the hosts you are converting. CTRL+X and then Y to save your modifications. Make the same changes on the LibreNMS server.</p>"},{"location":"Installation/Migrating-from-Observium/#script-variables","title":"Script Variables","text":"<p>Now that we have nodelist.txt setup correctly, it is time to set the variables in all three shell scripts. We are going to start with convert.sh. Edit it with nano:</p> <p><code>nano /tmp/convert.sh</code></p> <p>and change the variables to suit your environment. Here is a quick list of them:</p> <ul> <li>DEST \u2013 This should be the IP or hostname of your LibreNMS server</li> <li>L_RRDPATH \u2013 This signifies the location of the LibreNMS RRD directory. The default value is the default install location</li> <li>O_RRDPATH \u2013 Location of the Observium RRD directory. The default value is the default install location</li> <li>MKDIR \u2013 Location of the mkdir.sh script</li> <li>DESTSCRIPT \u2013 Location of the destwork.sh script</li> <li>NODELIST \u2013 Location of the nodelist.txt file</li> </ul> <p>Next, edit the destwork.sh script:</p> <p><code>nano /tmp/destwork.sh</code></p>"},{"location":"Support/","title":"How to get Help","text":"<ul> <li>Browse through the navigation on the left</li> <li>Search in the upper right</li> <li>Check the frequently asked questions</li> </ul>"},{"location":"Support/#additional-support","title":"Additional Support","text":"<p>We have a few methods for you to get in touch to ask for help.</p> <ul> <li>Community Forum</li> <li>Ask for Help</li> <li> <p>Feature Requests</p> </li> <li> <p>Discord Active chat and discussion</p> </li> <li> <p>Bug Reports</p> </li> </ul>"},{"location":"Support/1-Minute-Polling/","title":"1-Minute Polling","text":"<p>We now have support for polling data at intervals to fit your needs.</p> <p>Please be aware of the following:</p> <ul> <li>If you just want faster up/down alerts, Fast Ping is a much   easier path to that goal.</li> <li>You must also change your cron entry for <code>poller-wrapper.py</code> for   this to work (if you change from the default 300 seconds).</li> <li>Your polling MUST complete in the time you configure for the   heartbeat step value. See <code>/poller</code> in your WebUI for   your current value.</li> <li>This will only affect RRD files created from the moment you change   your settings.</li> <li>This change will affect all data storage mechanisms such as MySQL,   RRD and InfluxDB. If you decrease the values then please be aware of   the increase in space use for MySQL and InfluxDB.</li> <li>It's highly recommended to configure some performance   optimizations. Keep in mind that all your devices   will write all graphs every minute to the disk and that every device   has many graphs. The most important thing is probably the   RRDCached configuration that can save   a lot of write IOPS.</li> </ul> <p>To make the changes, please navigate to <code>/settings/poller/rrdtool/</code> within your WebUI. Select RRDTool Setup and then update the two values for step and heartbeat intervals:</p> <ul> <li>Step is how often you want to insert data, so if you change to 1   minute polling then this should be 60.</li> <li>Heartbeat is how long to wait for data before registering a null   value, i.e 120 seconds.</li> </ul>"},{"location":"Support/1-Minute-Polling/#converting-existing-rrd-files","title":"Converting existing RRD files","text":"<p>We provide a basic script to convert the default rrd files we generate to utilise your configured step and heartbeat values. Please do ensure that you backup your RRD files before running this just in case. The script runs on a per device basis or all devices at once.</p> <p>The rrd files must be accessible from the server you run this script from.</p> <p><code>./scripts/rrdstep.php</code></p> <p>This will provide the help information. To run it for localhost just run:</p> <p><code>./scripts/rrdstep.php -h localhost</code></p>"},{"location":"Support/Adding-a-Device/","title":"Adding Device","text":"<p>You have two options for adding a new device into LibreNMS. You can add a device via the <code>cli</code> or by using the <code>WebUI</code>.</p>"},{"location":"Support/Adding-a-Device/#via-webui","title":"Via WebUI","text":"<p>Using the web interface, go to Devices and click Add Device. Enter the details required for the device that you want to add and then click 'Add Host'. As an example, if your device is configured to use the community <code>my_company</code> using snmp <code>v2c</code> then you would enter: SNMP Port defaults to 161.</p> <p>By default Hostname will be used for polling data. If you want to get polling Device data via a specific IP-Address (e.g. Management IP) fill out the optional field <code>Overwrite IP</code> with it's IP-Address.</p> <p></p>"},{"location":"Support/Adding-a-Device/#via-cli","title":"Via CLI","text":"<p>Using the command line via ssh you can add a new device by changing to the directory of your LibreNMS install and typing (be sure to put the correct details).</p> <pre><code>./lnms device:add yourhostname [--v1|--v2c] [-c yourSNMPcommunity]\n</code></pre> <p>You can use <code>./lnms device:add --help</code> for a list of available options and defaults.</p> <p>As an example, if your device with the name <code>mydevice.example.com</code> is configured to use the community <code>my_company</code> using snmp <code>v2c</code> then you would enter:</p> <pre><code>./lnms device:add --v2c -c my_company mydevice.example.com\n</code></pre> <p>Please note that if the community contains special characters such as <code>$</code> then you will need to wrap it in <code>'</code>. I.e: <code>'Pa$$w0rd'</code>.</p>"},{"location":"Support/Adding-a-Device/#ping-only-device","title":"Ping Only Device","text":"<p>You can add ping only devices into LibreNMS through the WebUI or CLI. When adding the device switch the SNMP button to \"off\". Device will be added into LibreNMS as Ping Only Device and will show ICMP Response Graph.</p> <ul> <li>Hostname: IP address or DNS name.</li> <li>Hardware: Optional you can type in whatever you like.</li> <li>OS: Optional this will add the Device's OS Icon.</li> </ul> <p>Via CLI this is done with <code>./lnms device:add [-P|--ping-only] yourhostname</code></p> <p></p> <p>A How-to video can be found here: How to add ping only devices</p>"},{"location":"Support/Adding-a-Device/#automatic-discovery-and-api","title":"Automatic Discovery and API","text":"<p>If you would like to add devices automatically then you will probably want to read the Auto-discovery Setup guide.</p> <p>You may also want to add devices programmatically, if so, take a look at our API documentation</p>"},{"location":"Support/Bare-Dashboard/","title":"Bare Dashboard","text":"<p>Settings to assist with wall/monitor displays.</p>"},{"location":"Support/Bare-Dashboard/#hide-menubar","title":"Hide Menubar","text":"<p>To hide Menubar e.g. for Monitoring TV Screens attach <code>?bare=yes</code> on URL</p>"},{"location":"Support/Bare-Dashboard/#no-search-fields-in-dashboard-widgets","title":"No Search Fields in Dashboard Widgets","text":"<p>To hide Search Field in Dashboard Widgets take a look into Widget Settings.</p>"},{"location":"Support/CLI-Tools/","title":"Command line tools","text":"<p>Here's a brief list of command line tools, some might be missing. If you think something is missing, feel free to ask us or send a pull request :-)</p>"},{"location":"Support/CLI-Tools/#purge-portsphp","title":"purge-ports.php","text":"<p>This script provides CLI access to the \"delete port\" function of the WebUI. This might come in handy when trying to clean up old ports after large changes within the network or when hacking on the poller/discovery functions.</p> <pre><code>LibreNMS Port purge tool\n-p port_id  Purge single port by it's port-id\n-f file     Purge a list of ports, read port-ids from _file_, one on each line\n            A filename of - means reading from STDIN.\n</code></pre>"},{"location":"Support/CLI-Tools/#querying-port-ids-from-the-database","title":"Querying port IDs from the database","text":"<p>One simple way to obtain port IDs is by querying the SQL database.</p> <p>If you wanted to query all deleted ports from the database, you could to this with the following query:</p> <pre><code>echo 'SELECT port_id, hostname, ifDescr FROM ports, devices WHERE devices.device_id = ports.device_id AND deleted = 1' | mysql -h your_DB_server -u your_DB_user -p --skip-column-names your_DB_name\n</code></pre> <p>When you are sure that the list of ports is correct and you want to delete all of them, you can write the list into a file and call purge-ports.php with that file as input:</p> <pre><code>echo 'SELECT port_id FROM ports, devices WHERE devices.device_id = ports.device_id AND deleted = 1' | mysql -h your_DB_server -u your_DB_user -p --skip-column-names your_DB_name &gt; ports_to_delete\n./purge-port.php -f ports_to_delete\n</code></pre>"},{"location":"Support/Cleanup-options/","title":"Cleanup Options","text":"<p>As the number of devices starts to grow in your LibreNMS install, so will things such as the RRD files, MySQL database containing eventlogs, Syslogs and performance data etc. Your LibreNMS install could become quite large so it becomes necessary to clean up those entries. With Cleanup Options, you can stay in control.</p> <p>These options rely on <code>daily.sh</code> running from cron as per the installation instructions.</p> <p>system/cleanup</p> <pre><code>lnms config:set eventlog_purge 30\nlnms config:set syslog_purge 30\nlnms config:set route_purge 10\nlnms config:set alert_log_purge 365\nlnms config:set authlog_purge 30\nlnms config:set ports_fdb_purge 10\nlnms config:set ports_nac_purge 10\nlnms config:set rrd_purge 0\nlnms config:set ports_purge true\n</code></pre> <p>These options will ensure data within LibreNMS over X days old is automatically purged. You can alter these individually, values are in days.</p> <p>NOTE: Please be aware that <code>rrd_purge</code> is NOT set by default. This option will remove any RRD files that have not been updated for the set amount of days automatically - only enable this if you are comfortable with that happening. (All active RRD files are updated every polling period.)</p>"},{"location":"Support/Cleanup-options/#ports-purge","title":"Ports Purge","text":"<p>Over time as you add devices some interfaces will need to be purged as they are set to be ignored or bad interfaces or marked as deleted.</p> <p>You can purge all deleted ports from the WebUI (see below) or by setting <code>lnms config:set ports_purge true</code>.</p> <p>In the Web UI Under the Ports Tab in the Nav Bar, Click on \"Deleted\" then click on \"Purge all deleted\". This will purge all the ports.</p>"},{"location":"Support/Configuration/","title":"Configuration Docs","text":"<p>LibreNMS configuration is a set of key values.</p> <p>The config is stored in two places: Database: This applies to all pollers and can be set with either <code>lnms config:set</code> or in the Web UI. Database config takes precedence over config.php. config.php: This applies to the local poller only.  Configs set here will be disabled in the Web UI to prevent unexpected behaviour.</p> <p>The LibreNMS uses dot notation for config items:</p> Database config.php <code>snmp.community</code> <code>$config['snmp']['community']</code> <code>snmp.community.+</code> <code>$config['snmp']['community'][]</code> <code>snmp.v3.0.authalgo</code> <code>$config['snmp']['v3'][0]['authalgo']</code> <p>The documentation has not been updated to reflect using <code>lnms config:set</code> to set config items, but it will work for all settings.  Not all settings have been defined in LibreNMS, but they can still be set with the <code>--ignore-checks</code> option.  Without that option input is checked for correctness, that does not mean it is not possible to set bad values.  Please report missing settings.</p>"},{"location":"Support/Configuration/#cli","title":"CLI","text":"<p><code>lnms config:get</code> will fetch the current config settings (composite of database, config.php, and defaults). <code>lnms config:set</code> will set the config setting in the database.  Calling <code>lnms config:set</code> on a setting with no value will reset it to the default value.</p> <p>If you set up bash completion, you can use tab completion to find config settings.</p>"},{"location":"Support/Configuration/#getting-a-list-of-all-current-values","title":"Getting a list of all current values","text":"<p>To get a complete list of all the current values, you can use the command <code>lnms config:get --dump</code>. The output may not be desirable, so you can use the <code>jq</code> package to pretty print it. Then it would be <code>lnms config:get --dump | jq</code>.</p> <p>Example output: <pre><code>librenms@librenms:~$ lnms config:get --dump | jq \n{\n  \"install_dir\": \"/opt/librenms\",\n  \"active_directory\": {\n    \"users_purge\": 0\n  },\n  \"addhost_alwayscheckip\": false,\n  \"alert\": {\n    \"ack_until_clear\": false,\n    \"admins\": true,\n    \"default_copy\": true,\n    \"default_if_none\": false,\n    \"default_mail\": false,\n    \"default_only\": true,\n    \"disable\": false,\n    \"fixed-contacts\": true,\n    \"globals\": true,\n    \"syscontact\": true,\n    \"transports\": {\n      \"mail\": 5\n    },\n    \"tolerance_window\": 5,\n    \"users\": false,\n    ...\n</code></pre></p>"},{"location":"Support/Configuration/#examples","title":"Examples","text":"<pre><code>lnms config:get snmp.community\n  [\n      \"public\"\n  ]\n\n\nlnms config:set snmp.community.+ testing\n\nlnms config:get snmp.community\n  [\n      \"public\",\n      \"testing\"\n  ]\n\n\nlnms config:set snmp.community.0 private\n\nlnms config:get snmp.community\n  [\n      \"private\",\n      \"testing\"\n  ]\n\nlnms config:set snmp.community test\n  Invalid format\n\nlnms config:set snmp.community '[\"test\", \"othercommunity\"]'\n\nlnms config:get snmp.community\n  [\n      \"test\",\n      \"othercommunity\"\n  ]\n\nlnms config:set snmp.community\n\n  Reset snmp.community to the default? (yes/no) [no]:\n  &gt; yes\n\n\nlnms config:get snmp.community\n  [\n      \"public\"\n  ]\n</code></pre>"},{"location":"Support/Configuration/#pre-load-configuration","title":"Pre-load configuration","text":"<p>This feature is primarily for docker images and other automation. When installing LibreNMS for the first time with a new database you can place yaml key value files in <code>database/seeders/config</code> to pre-populate the config database.</p> <p>Example snmp.yaml <pre><code>snmp.community:\n    - public\n    - private\nsnmp.max_repeaters: 30\n</code></pre></p>"},{"location":"Support/Configuration/#directories","title":"Directories","text":"<pre><code>lnms config:set temp_dir /tmp\n</code></pre> <p>The temporary directory is where images and other temporary files are created on your filesystem.</p> <pre><code>lnms config:set log_dir /opt/librenms/logs\n</code></pre> <p>Log files created by LibreNMS will be stored within this directory.</p>"},{"location":"Support/Configuration/#database-config","title":"Database config","text":"<p>Set these variables either in .env (/opt/librenms/.env by default) or in the environment.</p> <pre><code>DB_HOST=127.0.0.1\nDB_DATABASE=librenms\nDB_USERNAME=DBUSER\nDB_PASSWORD=\"DBPASS\"\n</code></pre> <p>Use non-standard port:</p> <pre><code>DB_PORT=3306\n</code></pre> <p>Use a unix socket:</p> <pre><code>DB_SOCKET=/run/mysqld/mysqld.sock\n</code></pre>"},{"location":"Support/Configuration/#core","title":"Core","text":""},{"location":"Support/Configuration/#php-settings","title":"PHP Settings","text":"<p>You can change the memory limits for php within <code>config.php</code>. The value is in Megabytes and should just be an int value:</p> <p><code>lnms config:set php_memory_limit 128</code></p>"},{"location":"Support/Configuration/#programs","title":"Programs","text":"<p>A lot of these are self explanatory so no further information may be provided. Any extensions that have dedicated  documentation page will be linked to rather than having the config provided.</p>"},{"location":"Support/Configuration/#rrdtool","title":"RRDTool","text":"<p>You can configure these options within the WebUI now, please avoid setting these options within config.php</p> <p>Settings -&gt; External Settings -&gt; RRDTool Setup</p> <p>external/binaries</p> <pre><code>lnms config:set rrdtool /usr/bin/rrdtool\n</code></pre> <p>Please see 1 Minute polling for information on configuring your install to record data more frequently.</p>"},{"location":"Support/Configuration/#fping","title":"fping","text":"<p>external/binaries</p> <pre><code>lnms config:set fping /usr/bin/fping\nlnms config:set fping6 fping6\n</code></pre> <p>poller/ping</p> <pre><code>lnms config:set fping_options.timeout 500\nlnms config:set fping_options.count 3\nlnms config:set fping_options.interval 500\nlnms config:set fping_options.tos 184\n</code></pre> <p><code>fping</code> configuration options:</p> <ul> <li><code>timeout</code> (<code>fping</code> parameter <code>-t</code>): Amount of time that fping waits   for a response to its first request (in milliseconds). See note   below</li> <li><code>count</code> (<code>fping</code> parameter <code>-c</code>): Number of request packets to send   to each target.</li> <li><code>interval</code> (<code>fping</code> parameter <code>-p</code>): Time in milliseconds that fping   waits between successive packets to an individual target.</li> <li><code>tos</code> (<code>fping</code>parameter <code>-O</code>): Set the type of service flag (TOS). Value can be either decimal or hexadecimal (0xh) format. Can be used to ensure that ping packets are queued in following QOS mecanisms in the network. Table is accessible in the TOS Wikipedia page.</li> </ul> <p>NOTE: Setting a higher timeout value than the interval value can lead to slowing down poller. Example:</p> <p>timeout: 3000</p> <p>count: 3</p> <p>interval: 500</p> <p>In this example, interval will be overwritten by the timeout value of 3000 which is 3 seconds. As we send three icmp packets (count: 3), each one is delayed by 3 seconds which will result in fping taking &gt; 6 seconds to return results.</p> <p>You can disable the fping / icmp check that is done for a device to be determined to be up on a global or per device basis. We don't advise disabling the fping / icmp check unless you know the impact, at worst if you have a large number of devices down then it's possible that the poller would no longer complete in 5 minutes due to waiting for snmp to timeout.</p> <p>Globally disable fping / icmp check:</p> <pre><code>lnms config:set icmp_check false\n</code></pre> <p>If you would like to do this on a per device basis then you can do so under Device -&gt; Edit -&gt; Misc -&gt; Disable ICMP Test? On</p>"},{"location":"Support/Configuration/#snmp","title":"SNMP","text":"<p>SNMP program locations.</p> <p>external/binaries</p> <pre><code>lnms config:set snmpwalk /usr/bin/snmpwalk\nlnms config:set snmpget /usr/bin/snmpget\nlnms config:set snmpbulkwalk /usr/bin/snmpbulkwalk\nlnms config:set snmpgetnext /usr/bin/snmpgetnext\nlnms config:set snmptranslate /usr/bin/snmptranslate\n</code></pre>"},{"location":"Support/Configuration/#misc-binaries","title":"Misc binaries","text":"<p>external/binaries</p> <pre><code>lnms config:set whois /usr/bin/whois\nlnms config:set ping /bin/ping\nlnms config:set mtr /usr/bin/mtr\nlnms config:set nmap /usr/bin/nmap\nlnms config:set nagios_plugins /usr/lib/nagios/plugins\nlnms config:set ipmitool /usr/bin/ipmitool\nlnms config:set virsh /usr/bin/virsh\nlnms config:set dot /usr/bin/dot\nlnms config:set sfdp /usr/bin/sfdp\n</code></pre>"},{"location":"Support/Configuration/#authentication","title":"Authentication","text":"<p>Generic Authentication settings.</p> <p>Password minimum length for auth that allows user creation</p> <pre><code>lnms config:set password.min_length 8\n</code></pre>"},{"location":"Support/Configuration/#proxy-support","title":"Proxy support","text":"<p>For alerting and the callback functionality, we support the use of a http proxy setting. These can be any one of the following:</p> <p>system/proxy</p> <pre><code>lnms config:set callback_proxy proxy.domain.com\nlnms config:set http_proxy proxy.domain.com\n</code></pre> <p>We can also make use of one of these environment variables which can be set in <code>/etc/environment</code>:</p> <pre><code>http_proxy=proxy.domain.com\nhttps_proxy=proxy.domain.com\n</code></pre>"},{"location":"Support/Configuration/#rrdcached","title":"RRDCached","text":"<p>Please refer to RRDCached</p>"},{"location":"Support/Configuration/#webui-settings","title":"WebUI Settings","text":"<pre><code>lnms config:set base_url http://demo.librenms.org\n</code></pre> <p>LibreNMS will attempt to detect the URL you are using but you can override that here.</p> <p>webui/style</p> <pre><code>lnms config:set site_style light\n</code></pre> <p>Currently we have a number of styles which can be set which will alter the navigation bar look. dark, light and mono with light being the default.</p> <pre><code>lnms config:set webui.custom_css.+ css/custom/styles.css\n</code></pre> <p>You can override a large number of visual elements by creating your own css stylesheet and referencing it here, place any custom css files into  <code>html/css/custom</code> so they will be ignored by auto updates. You can specify as many css files as you like, the order they are within your config will be the order they are loaded in the browser.</p> <p>webui/style</p> <pre><code>lnms config:set title_image images/custom/yourlogo.png\n</code></pre> <p>You can override the default logo with yours, place any custom images files into <code>html/images/custom</code> so they will be ignored by auto updates.</p> <pre><code>lnms config:set page_refresh 300\n</code></pre> <p>Set how often pages are refreshed in seconds. The default is every 5 minutes. Some pages don't refresh at all by design.</p> <pre><code>lnms config:set front_page default\n</code></pre> <p>You can create your own front page by adding a blade file in <code>resources/views/overview/custom/</code> and setting <code>front_page</code> to it's name. For example, if you create <code>resources/views/overview/custom/foobar.blade.php</code>, set <code>front_page</code> to <code>foobar</code>.</p> <p>webui/dashboard</p> <pre><code>lnms config:set webui.default_dashboard_id 0\n</code></pre> <p>Allows the specification of a global default dashboard page for any user who has not set one in their user preferences.  Should be set to dashboard_id of an existing dashboard that is shared or shared(read).  Otherwise, the system will automatically create each user an empty dashboard called <code>Default</code> on their first login.</p> <pre><code>lnms config:set login_message \"Unauthorised access or use shall render the user liable to criminal and/or civil prosecution.\"\n</code></pre> <p>This is the default message on the login page displayed to users.</p> <pre><code>lnms config:set public_status true\n</code></pre> <p>If this is set to true then an overview will be shown on the login page of devices and the status.</p> <pre><code>lnms config:set show_locations true  # Enable Locations on menu\nlnms config:set show_locations_dropdown true  # Enable Locations dropdown on menu\nlnms config:set show_services false  # Disable Services on menu\nlnms config:set int_customers true  # Enable Customer Port Parsing\nlnms config:set summary_errors false  # Show Errored ports in summary boxes on the dashboard\nlnms config:set customers_descr '[\"cust\"]'  # The description to look for in ifDescr. Can have multiple '[\"cust\",\"cid\"]'\nlnms config:set transit_descr '[\"transit\"]'  # Add custom transit descriptions (array)\nlnms config:set peering_descr '[\"peering\"]'  # Add custom peering descriptions (array)\nlnms config:set core_descr '[\"core\"]'  # Add custom core descriptions  (array)\nlnms config:set custom_descr '[\"This is Custom\"]'  # Add custom interface descriptions (array)\nlnms config:set int_transit true  # Enable Transit Types\nlnms config:set int_peering true  # Enable Peering Types\nlnms config:set int_core true  # Enable Core Port Types\nlnms config:set int_l2tp false  # Disable L2TP Port Types\n</code></pre> <p>Enable / disable certain menus from being shown in the WebUI.</p> <p>You are able to adjust the number and time frames of the quick select time options for graphs and the mini graphs shown per row.</p> <p>Quick select:</p> <pre><code>lnms config:set graphs.mini.normal '{\n    \"day\": \"24 Hours\",\n    \"week\": \"One Week\",\n    \"month\": \"One Month\",\n    \"year\": \"One Year\"\n}'\n\nlnms config:set graphs.mini.widescreen '{\n    \"sixhour\": \"6 Hours\",\n    \"day\": \"24 Hours\",\n    \"twoday\": \"48 Hours\",\n    \"week\": \"One Week\",\n    \"twoweek\": \"Two Weeks\",\n    \"month\": \"One Month\",\n    \"twomonth\": \"Two Months\",\n    \"year\": \"One Year\",\n    \"twoyear\": \"Two Years\"\n}'\n</code></pre> <p>Mini graphs:</p> <pre><code>lnms config:set graphs.row.normal '{\n    \"sixhour\": \"6 Hours\",\n    \"day\": \"24 Hours\",\n    \"twoday\": \"48 Hours\",\n    \"week\": \"One Week\",\n    \"twoweek\": \"Two Weeks\",\n    \"month\": \"One Month\",\n    \"twomonth\": \"Two Months\",\n    \"year\": \"One Year\",\n    \"twoyear\": \"Two Years\"\n}'\n</code></pre> <pre><code>lnms config:set web_mouseover true\n</code></pre> <p>You can disable the mouseover popover for mini graphs by setting this to false.</p> <pre><code>lnms config:set enable_lazy_load true\n</code></pre> <p>You can disable image lazy loading by setting this to false.</p> <pre><code>lnms config:set overview_show_sysDescr true\n</code></pre> <p>Enable or disable the sysDescr output for a device.</p> <p>webui/device</p> <pre><code>lnms config:set device_display_default '{{ $hostname }}'\n</code></pre> <p>This is a simple template to control the display of device names by default. You can override this setting per-device.</p> <p>You may enter any free-form text including one or more of the following template replacements:</p> Template Replacement <code>{{ $hostname }}</code> The hostname or IP of the device that was set when added  *default <code>{{ $sysName_fallback }}</code> The hostname or sysName if hostname is an IP <code>{{ $sysName }}</code> The SNMP sysName of the device, falls back to hostname/IP if missing <code>{{ $ip }}</code> The actual polled IP of the device, will not display a hostname <p>For example, <code>{{ $sysName_fallback }} ({{ $ip }})</code> will display something like <code>server (192.168.1.1)</code></p> <pre><code>lnms config:set device_traffic_iftype.+ '/loopback/'\n</code></pre> <p>Interface types that aren't graphed in the WebUI. The default array contains more items, please see misc/config_definitions.json for the full list.</p> <pre><code>lnms config:set enable_clear_discovery true\n</code></pre> <p>Administrators are able to clear the last discovered time of a device which will force a full discovery run within the configured 5 minute cron window.</p> <pre><code>lnms config:set enable_footer true\n</code></pre> <p>Disable the footer of the WebUI by setting <code>enable_footer</code> to 0.</p> <p>You can enable the old style network map (only available for individual devices with links discovered via xDP) by setting:</p> <pre><code>lnms config:set gui.network-map.style old\n</code></pre> <pre><code>lnms config:set percentile_value 90\n</code></pre> <p>Show the <code>X</code>th percentile in the graph instead of the default 95th percentile.</p> <p>webui/graph</p> <pre><code>lnms config:set shorthost_target_length 15\n</code></pre> <p>The target maximum hostname length when applying the shorthost() function. You can increase this if you want to try and fit more of the hostname in graph titles. The default value is 12 However, this can possibly break graph generation if this is very long.</p> <p>You can enable dynamic graphs within the WebUI under Global Settings -&gt; Webui Settings -&gt; Graph Settings.</p> <p>Graphs will be movable/scalable without reloading the page: </p>"},{"location":"Support/Configuration/#stacked-graphs","title":"Stacked Graphs","text":"<p>You can enable stacked graphs instead of the default inverted graphs. Enabling them is possible via webui Global Settings -&gt; Webui Settings -&gt; Graph settings -&gt; Use stacked graphs</p>"},{"location":"Support/Configuration/#add-host-settings","title":"Add host settings","text":"<p>The following setting controls how hosts are added.  If a host is added as an ip address it is checked to ensure the ip is not already present. If the ip is present the host is not added. If host is added by hostname this check is not performed.  If the setting is true hostnames are resolved and the check is also performed.  This helps prevents accidental duplicate hosts.</p> <pre><code>lnms config:set addhost_alwayscheckip false # true - check for duplicate ips even when adding host by name.\n                                            # false- only check when adding host by ip.\n</code></pre> <p>By default we allow hosts to be added with duplicate sysName's, you can disable this with the following config:</p> <p>discovery/general</p> <pre><code>lnms config:set allow_duplicate_sysName false\n</code></pre>"},{"location":"Support/Configuration/#global-poller-and-discovery-modules","title":"Global poller and discovery modules","text":"<p>Enable or disable discovery or poller modules.</p> <p>This setting has an order of precedence Device &gt; OS &gt; Global. So if the module is set at a more specific level, it will override the less specific settings.</p> <p>Global:</p> <pre><code>lnms config:set discovery_modules.arp-table false\n\nlnms config:set discovery_modules.entity-state true\nlnms config:set poller_modules.entity-state true\n</code></pre> <p>Per OS:</p> <pre><code>lnms config:set os.ios.discovery_modules.arp-table false\n\nlnms config:set os.ios.discovery_modules.entity-state true\nlnms config:set os.ios.poller_modules.entity-state true\n</code></pre>"},{"location":"Support/Configuration/#snmp-settings","title":"SNMP Settings","text":"<p>Default SNMP options including retry and timeout settings and also default version and port.</p> <p>poller/snmp</p> <pre><code>lnms config:set snmp.timeout 1                         # timeout in seconds\nlnms config:set snmp.retries 5                         # how many times to retry the query\nlnms config:set snmp.transports '[\"udp\", \"udp6\", \"tcp\", \"tcp6\"]'    # Transports to use\nlnms config:set snmp.version '[\"v2c\", \"v3\", \"v1\"]'       # Default versions to use\nlnms config:set snmp.port 161                          # Default port\nlnms config:set snmp.exec_timeout 1200                 # execution time limit in seconds\n</code></pre> <p>NOTE: <code>timeout</code> is the time to wait for an answer and <code>exec_timeout</code> is the max time to run a query.</p> <p>The default v1/v2c snmp community to use, you can expand this array with <code>[1]</code>, <code>[2]</code>, <code>[3]</code>, etc.</p> <p>poller/snmp</p> <pre><code>lnms config:set snmp.community.0 public\n</code></pre> <p>NOTE: This list of SNMP communities is used for auto discovery, and as a default set for any manually added device.</p> <p>The default v3 snmp details to use, you can expand this array with <code>[1]</code>, <code>[2]</code>, <code>[3]</code>, etc.</p> <p>poller/snmp</p> <pre><code>lnms config:set snmp.v3.0 '{\n    authlevel: \"noAuthNoPriv\",\n    authname: \"root\",\n    authpass: \"\",\n    authalgo: \"MD5\",\n    cryptopass: \"\",\n    cryptoalgo: \"AES\"\n}'\n</code></pre> <pre><code>authlevel   noAuthNoPriv | authNoPriv | authPriv\nauthname    User Name (required even for noAuthNoPriv)\nauthpass    Auth Passphrase\nauthalgo    MD5 | SHA | SHA-224 | SHA-256 | SHA-384 | SHA-512\ncryptopass  Privacy (Encryption) Passphrase\ncryptoalgo  AES | AES-192 | AES-256 | AES-256-C | DES\n</code></pre>"},{"location":"Support/Configuration/#auto-discovery-settings","title":"Auto discovery settings","text":"<p>Please refer to Auto-Discovery</p>"},{"location":"Support/Configuration/#email-configuration","title":"Email configuration","text":"<p>You can configure these options within the WebUI now, please avoid setting these options within config.php</p> <p>alerting/email</p> <pre><code>lnms config:set email_backend mail\nlnms config:set email_from librenms@yourdomain.local\nlnms config:set email_user `lnms config:get project_id`\nlnms config:set email_sendmail_path /usr/sbin/sendmail\nlnms config:set email_smtp_host localhost\nlnms config:set email_smtp_port 25\nlnms config:set email_smtp_timeout 10\nlnms config:set email_smtp_secure tls\nlnms config:set email_smtp_auth false\nlnms config:set email_smtp_username NULL\nlnms config:set email_smtp_password NULL\n</code></pre> <p>What type of mail transport to use for delivering emails. Valid options for <code>email_backend</code> are mail, sendmail or smtp. The varying options after that are to support the different transports.</p>"},{"location":"Support/Configuration/#alerting","title":"Alerting","text":"<p>Please refer to Alerting</p>"},{"location":"Support/Configuration/#billing","title":"Billing","text":"<p>Please refer to Billing</p>"},{"location":"Support/Configuration/#global-module-support","title":"Global module support","text":"<pre><code>lnms config:set enable_syslog false # Enable Syslog\nlnms config:set enable_inventory true # Enable Inventory\nlnms config:set enable_pseudowires true # Enable Pseudowires\nlnms config:set enable_vrfs true # Enable VRFs\n</code></pre>"},{"location":"Support/Configuration/#port-extensions","title":"Port extensions","text":"<p>Please refer to Port-Description-Parser</p> <pre><code>lnms config:set enable_ports_etherlike false\nlnms config:set enable_ports_junoseatmvp false\nlnms config:set enable_ports_poe false\n</code></pre> <p>Enable / disable additional port statistics.</p>"},{"location":"Support/Configuration/#port-group","title":"Port Group","text":"<p>Assign a new discovered Port automatically to Port Group with this Port Group ID (0 means no Port Group assignment)</p> <p>discovery/networks</p> <pre><code>lnms config:set default_port_group 0\n</code></pre>"},{"location":"Support/Configuration/#external-integration","title":"External integration","text":""},{"location":"Support/Configuration/#rancid","title":"Rancid","text":"<pre><code>lnms config:set rancid_configs.+ /var/lib/rancid/network/configs/\nlnms config:set rancid_repo_type svn\nlnms config:set rancid_ignorecomments false\n</code></pre> <p>Rancid configuration, <code>rancid_configs</code> is an array containing all of the locations of your rancid files. Setting <code>rancid_ignorecomments</code> will disable showing lines that start with #</p>"},{"location":"Support/Configuration/#oxidized","title":"Oxidized","text":"<p>Please refer to Oxidized</p>"},{"location":"Support/Configuration/#collectd","title":"CollectD","text":"<pre><code>lnms config:set collectd_dir /var/lib/collectd/rrd\n</code></pre> <p>Specify the location of the collectd rrd files. Note that the location in config.php should be consistent with the location set in /etc/collectd.conf and etc/collectd.d/rrdtool.conf</p> <pre><code>&lt;Plugin rrdtool&gt;\n        DataDir \"/var/lib/collectd/rrd\"\n        CreateFilesAsync false\n        CacheTimeout 120\n        CacheFlush   900\n        WritesPerSecond 50\n&lt;/Plugin&gt;\n</code></pre> <p>/etc/collectd.conf</p> <pre><code>LoadPlugin rrdtool\n&lt;Plugin rrdtool&gt;\n       DataDir \"/var/lib/collectd/rrd\"\n       CacheTimeout 120\n       CacheFlush   900\n&lt;/Plugin&gt;\n</code></pre> <p>/etc/collectd.d/rrdtool.conf</p> <pre><code>lnms config:set collectd_sock unix:///var/run/collectd.sock\n</code></pre> <p>Specify the location of the collectd unix socket. Using a socket allows the collectd graphs to be flushed to disk before being drawn. Be sure that your web server has permissions to write to this socket.</p>"},{"location":"Support/Configuration/#smokeping","title":"Smokeping","text":"<p>Please refer to Smokeping</p>"},{"location":"Support/Configuration/#nfsen","title":"NFSen","text":"<p>Please refer to NFSen</p>"},{"location":"Support/Configuration/#location-parsing","title":"Location parsing","text":"<p>LibreNMS can interpret sysLocation information and map the device loction based on GeoCoordinates or GeoCoding information.</p> <ul> <li>Info-keywords</li> <li><code>[]</code> contains optional Latitude and Longitude information if manual GeoCoordinate positioning is desired.</li> <li><code>()</code> contains optional information that is ignored during GeoCoding lookups.</li> </ul>"},{"location":"Support/Configuration/#geocoordinates","title":"GeoCoordinates","text":"<p>If device sysLocation information contains [lat, lng] (note the comma and square brackets), that is used to determin the GeoCoordinates.</p> <p>Example: <pre><code>name_that_can_not_be_looked_up [40.424521, -86.912755]\n</code></pre></p>"},{"location":"Support/Configuration/#geocoding","title":"GeoCoding","text":"<p>Next it will attempt to look up the sysLocation with a map engine provided you have configured one under $config['geoloc']['engine']. The information has to be accurate or no result is returned, when it does it will ignore any information inside parentheses, allowing you to add details that would otherwise interfeeer with the lookup.</p> <p>Example: <pre><code>1100 Congress Ave, Austin, TX 78701 (3rd floor)\nGeocoding lookup is:\n1100 Congress Ave, Austin, TX 78701\n</code></pre></p>"},{"location":"Support/Configuration/#overrides","title":"Overrides","text":"<ol> <li>You can overwrite each device sysLocation information in the webGUI under \"Device settings\".</li> <li>You can overwrite the location coordinates n in the webGUI under Device&gt;GEO Locations</li> </ol>"},{"location":"Support/Configuration/#location-mapping","title":"Location mapping","text":"<p>If you just want to set GPS coordinates on a location, you should visit Devices &gt; Geo Locations &gt; All Locations and edit the coordinates there.</p> <p>Exact Matching:</p> <pre><code>lnms config:set location_map '{\"Under the Sink\": \"Under The Sink, The Office, London, UK\"}'\n</code></pre> <p>Regex Matching:</p> <pre><code>lnms config:set location_map_regex '{\"/Sink/\": \"Under The Sink, The Office, London, UK\"}'\n</code></pre> <p>Regex Match Substitution:</p> <pre><code>lnms config:set location_map_regex_sub '{\"/Sink/\": \"Under The Sink, The Office, London, UK [lat, long]\"}'\n</code></pre> <p>If you have an SNMP SysLocation of \"Rack10,Rm-314,Sink\", Regex Match Substition yields \"Rack10,Rm-314,Under The Sink, The Office, London, UK [lat, long]\". This allows you to keep the SysLocation string short and keeps Rack/Room/Building information intact after the substitution.</p> <p>The above are examples, these will rewrite device snmp locations so you don't need to configure full location within snmp.</p>"},{"location":"Support/Configuration/#interfaces-to-be-ignored","title":"Interfaces to be ignored","text":"<p>Interfaces can be automatically ignored during discovery by modifying bad_if* entries in a default array, unsetting a default array and customizing it, or creating an OS specific array. The preferred method for ignoring interfaces is to use an OS specific array. The default arrays can be found in misc/config_definitions.json. OS specific definitions (includes/definitions/_specific_os_.yaml) can contain bad_if* arrays, but should only be modified via pull-request as manipulation of the definition files will block updating:</p> <p>Examples:</p> <p>Add entries to default arrays <pre><code>lnms config:set bad_if.+ voip-null\nlnms config:set bad_iftype.+ voiceEncap\nlnms config:set bad_if_regexp.+ '/^lo[0-9].*/'    # loopback\n</code></pre></p> <p>Override default bad_if values <pre><code>lnms config:set bad_if '[\"voip-null\", \"voiceEncap\", \"voiceFXO\"]'\n</code></pre></p> <p>Create an OS specific array <pre><code>lnms config:set os.iosxe.bad_iftype.+ macSecControlledIF\nlnms config:set os.iosxe.bad_iftype.+ macSecUncontrolledIF\n</code></pre></p> <p>Various bad_if* selection options available</p> <p><code>bad_if</code> is matched against the ifDescr value.</p> <p><code>bad_iftype</code> is matched against the ifType value.</p> <p><code>bad_if_regexp</code> is matched against the ifDescr value as a regular expression.</p> <p><code>bad_ifname_regexp</code> is matched against the ifName value as a regular expression.</p> <p><code>bad_ifalias_regexp</code> is matched against the ifAlias value as a regular expression.</p>"},{"location":"Support/Configuration/#interfaces-that-shouldnt-be-ignored","title":"Interfaces that shouldn't be ignored","text":"<p>Examples:</p> <pre><code>lnms config:set good_if.+ FastEthernet\nlnms config:set os.ios.good_if.+ FastEthernet\n</code></pre> <p><code>good_if</code> is matched against ifDescr value. This can be a bad_if value as well which would stop that port from being ignored. i.e. if bad_if and good_if both contained FastEthernet then ports with this value in the ifDescr will be valid.</p>"},{"location":"Support/Configuration/#interfaces-to-be-rewritten","title":"Interfaces to be rewritten","text":"<pre><code>lnms config:set rewrite_if '{\"cpu\": \"Management Interface\"}'\nlnms config:set rewrite_if_regexp '{\"/cpu /\": \"Management \"}'\n</code></pre> <p>Entries defined in <code>rewrite_if</code> are being replaced completely. Entries defined in <code>rewrite_if_regexp</code> only replace the match. Matches are compared case-insensitive.</p>"},{"location":"Support/Configuration/#entity-sensors-to-be-ignored","title":"Entity sensors to be ignored","text":"<p>Some devices register bogus sensors as they are returned via SNMP but either don't exist or just don't return data. This allows you to ignore those based on the descr field in the database. You can either ignore globally or on a per os basis.</p> <pre><code>lnms config:set bad_entity_sensor_regex.+ '/Physical id [0-9]+/'\nlnms config:set os.ios.bad_entity_sensor_regex '[\"/Physical id [0-9]+/\"]'\n</code></pre>"},{"location":"Support/Configuration/#entity-sensors-limit-values","title":"Entity sensors limit values","text":"<p>Vendors may give some limit values (or thresholds) for the discovered sensors. By default, when no such value is given, both high and low limit values are guessed, based on the value measured during the initial discovery.</p> <p>When it is preferred to have no high and/or low limit values at all if these are not provided by the vendor, the guess method can be disabled:</p> <pre><code>lnms config:set sensors.guess_limits false\n</code></pre>"},{"location":"Support/Configuration/#ignoring-health-sensors","title":"Ignoring Health Sensors","text":"<p>It is possible to filter some sensors from the configuration:</p> <ul> <li>Ignore all temperature sensors</li> </ul> <pre><code>lnms config:set disabled_sensors.current true\n</code></pre> <ul> <li>Filter all sensors matching regexp <code>'/PEM Iout/'</code>.</li> </ul> <pre><code>lnms config:set disabled_sensors_regex.+ '/PEM Iout/'\n</code></pre> <ul> <li>Filter all 'current' sensors for Operating System 'vrp'.</li> </ul> <pre><code>lnms config:set os.vrp.disabled_sensors.current true\n</code></pre> <ul> <li>Filter all sensors matching regexp <code>'/PEM Iout/'</code> for Operating System iosxe.</li> </ul> <pre><code>lnms config:set os.iosxe.disabled_sensors_regex '/PEM Iout/'\n</code></pre>"},{"location":"Support/Configuration/#storage-configuration","title":"Storage configuration","text":"<p>Mounted storage / mount points to ignore in discovery and polling.</p> <p>discovery/storage</p> <p>```bash     lnms config:set ignore_mount_removable true     lnms config:set ignore_mount_network true     lnms config:set ignore_mount_optical true</p> <pre><code>lnms config:set ignore_mount.+ /kern\nlnms config:set ignore_mount.+ /mnt/cdrom\nlnms config:set ignore_mount.+ /proc\nlnms config:set ignore_mount.+ /dev\n\nlnms config:set ignore_mount_string.+ packages\nlnms config:set ignore_mount_string.+ devfs\nlnms config:set ignore_mount_string.+ procfs\nlnms config:set ignore_mount_string.+ UMA\nlnms config:set ignore_mount_string.+ MALLOC\n\nlnms config:set ignore_mount_regexp.+ '/on: \\/packages/'\nlnms config:set ignore_mount_regexp.+ '/on: \\/dev/'\nlnms config:set ignore_mount_regexp.+ '/on: \\/proc/'\nlnms config:set ignore_mount_regexp.+ '/on: \\/junos^/'\nlnms config:set ignore_mount_regexp.+ '/on: \\/junos\\/dev/'\nlnms config:set ignore_mount_regexp.+ '/on: \\/jail\\/dev/'\nlnms config:set ignore_mount_regexp.+ '/^(dev|proc)fs/'\nlnms config:set ignore_mount_regexp.+ '/^\\/dev\\/md0/'\nlnms config:set ignore_mount_regexp.+ '/^\\/var\\/dhcpd\\/dev,/'\nlnms config:set ignore_mount_regexp.+ '/UMA/'\n```\n</code></pre> <p>Custom storage warning percentage</p> <pre><code>lnms config:set storage_perc_warn 60\n</code></pre>"},{"location":"Support/Configuration/#irc-bot","title":"IRC Bot","text":"<p>Please refer to IRC Bot</p>"},{"location":"Support/Configuration/#authentication_1","title":"Authentication","text":"<p>Please refer to Authentication</p>"},{"location":"Support/Configuration/#cleanup-options","title":"Cleanup options","text":"<p>Please refer to Cleanup Options</p>"},{"location":"Support/Configuration/#syslog-options","title":"Syslog options","text":"<p>Please refer to Syslog</p>"},{"location":"Support/Configuration/#virtualization","title":"Virtualization","text":"<pre><code>lnms config:set enable_libvirt true\nlnms config:set libvirt_protocols '[\"qemu+ssh\",\"xen+ssh\"]'\nlnms config:set libvirt_username root\n</code></pre> <p>Enable this to switch on support for libvirt along with <code>libvirt_protocols</code> to indicate how you connect to libvirt.  You also need to:</p> <ol> <li>Generate a non-password-protected ssh key for use by LibreNMS, as the     user which runs polling &amp; discovery (usually <code>librenms</code>).</li> <li>On each VM host you wish to monitor:</li> <li>Configure public key authentication from your LibreNMS server/poller by       adding the librenms public key to <code>~root/.ssh/authorized_keys</code>.</li> <li>(xen+ssh only) Enable libvirtd to gather data from xend by setting       <code>(xend-unix-server yes)</code> in <code>/etc/xen/xend-config.sxp</code> and       restarting xend and libvirtd.</li> </ol> <p>To test your setup, run <code>virsh -c qemu+ssh://vmhost/system list</code> or <code>virsh -c xen+ssh://vmhost list</code> as your librenms polling user.</p>"},{"location":"Support/Configuration/#bgp-support","title":"BGP Support","text":"<pre><code>lnms config:set astext.65332 \"Cymru FullBogon Feed\"\n</code></pre> <p>You can use this array to rewrite the description of ASes that you have discovered.</p>"},{"location":"Support/Configuration/#auto-updates","title":"Auto updates","text":"<p>Please refer to Updating</p>"},{"location":"Support/Configuration/#ipmi","title":"IPMI","text":"<p>Setup the types of IPMI protocols to test a host for and in what order. Don't forget to install ipmitool on the monitoring host.</p> <pre><code>lnms config:set ipmi.type '[\"lanplus\", \"lan\", \"imb\", \"open\"]'\n</code></pre>"},{"location":"Support/Configuration/#distributed-poller-settings","title":"Distributed poller settings","text":"<p>Please refer to Distributed Poller</p>"},{"location":"Support/Configuration/#api-settings","title":"API Settings","text":""},{"location":"Support/Configuration/#cors-support","title":"CORS Support","text":"<p>https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS</p> <p>CORS support for the API is disabled by default. Below you will find the standard options, all of which you can configure.</p> <pre><code>lnms config:set api.cors.enabled false\nlnms config:set api.cors.origin '[\"*\"]'\nlnms config:set api.cors.maxage '86400'\nlnms config:set api.cors.allowmethods '[\"POST\", \"GET\", \"PUT\", \"DELETE\", \"PATCH\"]'\nlnms config:set api.cors.allowheaders '[\"Origin\", \"X-Requested-With\", \"Content-Type\", \"Accept\", \"X-Auth-Token\"]'\nlnms config:set api.cors.exposeheaders '[\"Cache-Control\", \"Content-Language\", \"Content-Type\", \"Expires\", \"Last-Modified\", \"Pragma\"]'\nlnms config:set api.cors.allowmethods '[\"POST\", \"GET\", \"PUT\", \"DELETE\", \"PATCH\"]'\nlnms config:set api.cors.allowheaders '[\"Origin\", \"X-Requested-With\", \"Content-Type\", \"Accept\", \"X-Auth-Token\"]'\nlnms config:set api.cors.exposeheaders '[\"Cache-Control\", \"Content-Language\", \"Content-Type\", \"Expires\", \"Last-Modified\", \"Pragma\"]'\nlnms config:set api.cors.allowcredentials false\n</code></pre>"},{"location":"Support/Device-Sensors/","title":"Device Sensors","text":"<p>LibreNMS has a standard for device sensors they are split into categories. This doc is to help users understand device sensors in general, if you need help with developing sensors for a device please see the Contributing + Developing section.</p>"},{"location":"Support/Device-Sensors/#health-sensors","title":"Health Sensors","text":"<p>The High and Low values of these sensors can be edited in Web UI by going to the device settings -&gt; Health. There you can set your own custom High and Low values. List of these sensors can be found here Link</p> <p>Note Some values are defined by the manufactures and others are auto calculated when you add the device into librenms. Keep in mind every environment is different and may require user input.</p>"},{"location":"Support/Device-Sensors/#wireless-sensors","title":"Wireless Sensors","text":"<p>Some Wireless have  High and Low values of these sensors can be edited in Web UI by going to the device settings -&gt; Wireless Sensors There you can set your own custom High and Low values. List of these sensors can be found here Link</p> <p>Note Some values are defined by the manufactures and others are auto calculated when you add the device into librenms. Keep in mind every environment is different and may require user input.</p>"},{"location":"Support/Device-Sensors/#state-sensors","title":"State Sensors","text":"<p>Return states of device entries sensors states. For example.</p> <p>Drive Status, Memory Status, Power Supply Status.</p> <pre><code>0 = OK\n1 = Warning\n2 = Critical\n3 = Unknown\n</code></pre>"},{"location":"Support/Device-Sensors/#alerting-sensors","title":"Alerting Sensors","text":"<p>These alert rules can be found inside the Alert Rules Collection. The alert rules below are the default alert rules, there are more device-specific alert rules in the alerts collection.</p> <p>Sensor Over Limit Alert Rule:  Will alert on any sensor value that is over the limit.</p> <p>Sensor Under Limit Alert Rule: Will alert on any sensor value that is under the limit.</p> <p>Remember you can set these limits inside device settings in the Web UI.</p> <p>State Sensor Critical: Will alert on any state that returns critical = 2</p> <p>State Sensor Warning: Will alert on any state that returns warning = 1</p> <p>Wireless Sensor Over Limit Alert Rule: Will Alert on sensors that listed in device settings under Wireless.</p> <p>Wireless Sensor Under Limit Alert Rule: Will Alert on sensors that listed in device settings under Wireless.</p>"},{"location":"Support/Device-Troubleshooting/","title":"Capture Debug Information","text":"<p>You can use this feature to run Debug on Discovery, Poller, SNMP, Alerts. This output information could be helpful for you in troubleshooting a device or when requesting help.</p> <p>This feature can be found by going to the device that you are troubleshooting in the webui, clicking on the settings icon menu on far right and selecting Capture. </p>"},{"location":"Support/Device-Troubleshooting/#discovery","title":"Discovery","text":"<p>Discovery will run and output debug information.</p>"},{"location":"Support/Device-Troubleshooting/#poller","title":"Poller","text":"<p>Poller will run and output debug information.</p>"},{"location":"Support/Device-Troubleshooting/#snmp","title":"SNMP","text":"<p>SNMP will run SNMP Bulk Walk on the device and output the information.</p>"},{"location":"Support/Device-Troubleshooting/#alerts","title":"Alerts","text":"<p>Alerts Capture is handy when you are creating alerts and need to see if your alert rule matches.</p> <p></p>"},{"location":"Support/Discovery%20Support/","title":"discovery.php","text":"<p>This document will explain how to use discovery.php to debug issues or manually running to process data.</p>"},{"location":"Support/Discovery%20Support/#command-options","title":"Command options","text":"<pre><code>-h &lt;device id&gt; | &lt;device hostname wildcard&gt;  Poll single device\n-h odd                                       Poll odd numbered devices  (same as -i 2 -n 0)\n-h even                                      Poll even numbered devices (same as -i 2 -n 1)\n-h all                                       Poll all devices\n-h new                                       Poll all devices that have not had a discovery run before\n--os &lt;os_name&gt;                               Poll devices only with specified operating system\n--type &lt;type&gt;                                Poll devices only with specified type\n-i &lt;instances&gt; -n &lt;number&gt;                   Poll as instance &lt;number&gt; of &lt;instances&gt;\n                                             Instances start at 0. 0-3 for -n 4\n\nDebugging and testing options:\n-d                                           Enable debugging output\n-v                                           Enable verbose debugging output\n-m                                           Specify module(s) to be run. Comma separate modules, submodules may be added with /\n</code></pre> <p><code>-h</code> Use this to specify a device via either id or hostname (including wildcard using *). You can also specify odd and even. all will run discovery against all devices whilst new will poll only those devices that have recently been added or have been selected for rediscovery.</p> <p><code>-i</code> This can be used to stagger the discovery process.</p> <p><code>-d</code> Enables debugging output (verbose output but with most sensitive data masked) so that you can see what is happening during a discovery run. This includes things like rrd updates, SQL queries and response from snmp.</p> <p><code>-v</code> Enables verbose debugging output with all data in tact.</p> <p><code>-m</code> This enables you to specify the module you want to run for discovery.</p>"},{"location":"Support/Discovery%20Support/#discovery-wrapper","title":"Discovery wrapper","text":"<p>We have a <code>discovery-wrapper.py</code> script which is based on <code>poller-wrapper.py</code> by Job Snijders. This script is currently the default.</p> <p>If you need to debug the output of discovery-wrapper.py then you can add <code>-d</code> to the end of the command - it is NOT recommended to do this in cron.</p> <p>You also may use <code>-m</code> to pass a list of comma-separated modules. Please refer to Command options of discovery.php. Example: <code>/opt/librenms/discovery-wrapper.py 1 -m bgp-peers</code></p> <p>If you want to switch back to discovery.php then you can replace:</p> <p><code>33  */6   * * *   librenms    /opt/librenms/discovery-wrapper.py 1 &gt;&gt; /dev/null 2&gt;&amp;1</code></p> <p>With:</p> <p><code>33  */6   * * *   librenms    /opt/librenms/discovery.php -h all &gt;&gt; /dev/null 2&gt;&amp;1</code></p>"},{"location":"Support/Discovery%20Support/#discovery-config","title":"Discovery config","text":"<p>These are the default discovery config items. You can globally disable a module by setting it to 0. If you just want to disable it for one device then you can do this within the WebUI -&gt; Device -&gt; Settings -&gt; Modules.</p> <p>discovery/discovery_modules</p> <pre><code>lnms config:set discovery_modules.os true\nlnms config:set discovery_modules.ports true\nlnms config:set discovery_modules.ports-stack true\nlnms config:set discovery_modules.entity-physical true\nlnms config:set discovery_modules.entity-state false\nlnms config:set discovery_modules.processors true\nlnms config:set discovery_modules.mempools true\nlnms config:set discovery_modules.cisco-vrf-lite true\nlnms config:set discovery_modules.cisco-mac-accounting false\nlnms config:set discovery_modules.cisco-pw false\nlnms config:set discovery_modules.vrf false\nlnms config:set discovery_modules.cisco-cef false\nlnms config:set discovery_modules.slas false\nlnms config:set discovery_modules.cisco-cbqos false\nlnms config:set discovery_modules.cisco-otv false\nlnms config:set discovery_modules.ipv4-addresses true\nlnms config:set discovery_modules.ipv6-addresses true\nlnms config:set discovery_modules.route false\nlnms config:set discovery_modules.sensors true\nlnms config:set discovery_modules.storage true\nlnms config:set discovery_modules.hr-device true\nlnms config:set discovery_modules.discovery-protocols true\nlnms config:set discovery_modules.arp-table true\nlnms config:set discovery_modules.discovery-arp false\nlnms config:set discovery_modules.junose-atm-vp false\nlnms config:set discovery_modules.bgp-peers true\nlnms config:set discovery_modules.vlans true\nlnms config:set discovery_modules.vminfo false\nlnms config:set discovery_modules.printer-supplies false\nlnms config:set discovery_modules.ucd-diskio true\nlnms config:set discovery_modules.applications false\nlnms config:set discovery_modules.services true\nlnms config:set discovery_modules.stp true\nlnms config:set discovery_modules.ntp true\nlnms config:set discovery_modules.loadbalancers false\nlnms config:set discovery_modules.mef false\nlnms config:set discovery_modules.wireless true\nlnms config:set discovery_modules.fdb-table true\nlnms config:set discovery_modules.xdsl false\n</code></pre>"},{"location":"Support/Discovery%20Support/#os-based-discovery-config","title":"OS based Discovery config","text":"<p>You can enable or disable modules for a specific OS by using <code>lnms config:set</code> OS based settings have preference over global. Device based settings have preference over all others</p> <p>Discover performance improvement can be achieved by deactivating all modules that are not supported by specific OS.</p> <p>E.g. to deactivate spanning tree but activate discovery-arp module for linux OS</p> <p>discovery/discovery_modules</p> <pre><code>lnms config:set os.linux.discovery_modules.stp false\nlnms config:set os.linux.discovery_modules.discovery-arp true\n</code></pre>"},{"location":"Support/Discovery%20Support/#discovery-modules","title":"Discovery modules","text":"<p><code>os</code>: Os detection. This module will pick up the OS of the device.</p> <p><code>ports</code>: This module will detect all ports on a device excluding ones configured to be ignored by config options.</p> <p><code>ports-stack</code>: Same as ports except for stacks.</p> <p><code>xdsl</code>: Module to collect more metrics for xDSL interfaces.</p> <p><code>entity-physical</code>: Module to pick up the devices hardware support.</p> <p><code>processors</code>: Processor support for devices.</p> <p><code>mempools</code>: Memory detection support for devices.</p> <p><code>cisco-vrf-lite</code>: VRF-Lite detection and support.</p> <p><code>ipv4-addresses</code>: IPv4 Address detection</p> <p><code>ipv6-addresses</code>: IPv6 Address detection</p> <p><code>route</code>: This module will load the routing table of the device. The default route  limit is 1000 (configurable with <code>lnms config:set routes.max_number 1000</code>), with history data.</p> <p><code>sensors</code>: Sensor detection such as Temperature, Humidity, Voltages + More</p> <p><code>storage</code>: Storage detection for hard disks</p> <p><code>hr-device</code>: Processor and Memory support via HOST-RESOURCES-MIB.</p> <p><code>discovery-protocols</code>: Auto discovery module for xDP, OSPF and BGP.</p> <p><code>arp-table</code>: Detection of the ARP table for the device.</p> <p><code>fdb-table</code>: Detection of the Forwarding DataBase table for the device, with history data.</p> <p><code>discovery-arp</code>: Auto discovery via ARP.</p> <p><code>junose-atm-vp</code>: Juniper ATM support.</p> <p><code>bgp-peers</code>: BGP detection and support.</p> <p><code>vlans</code>: VLAN detection and support.</p> <p><code>cisco-mac-accounting</code>: MAC Address account support.</p> <p><code>cisco-pw</code>: Pseudowires wires detection and support.</p> <p><code>vrf</code>: VRF detection and support.</p> <p><code>cisco-cef</code>: CEF detection and support.</p> <p><code>slas</code>: SLA detection and support.</p> <p><code>vminfo</code>: Detection of vm guests for VMware ESXi and libvert</p> <p><code>printer-supplies</code>: Toner levels support.</p> <p><code>ucd-diskio</code>: Disk I/O support.</p> <p><code>services</code>: *Nix services support.</p> <p><code>charge</code>: APC Charge detection and support.</p>"},{"location":"Support/Discovery%20Support/#running","title":"Running","text":"<p>Here are some examples of running discovery from within your install directory.</p> <pre><code>./discovery.php -h localhost\n\n./discovery.php -h localhost -m ports\n</code></pre>"},{"location":"Support/Discovery%20Support/#debugging","title":"Debugging","text":"<p>To provide debugging output you will need to run the discovery process with the <code>-d</code> flag. You can do this either against all modules, single or multiple modules:</p> <p>All Modules</p> <pre><code>./discovery.php -h localhost -d\n</code></pre> <p>Single Module</p> <pre><code>./discovery.php -h localhost -m ports -d\n</code></pre> <p>Multiple Modules</p> <pre><code>./discovery.php -h localhost -m ports,entity-physical -d\n</code></pre> <p>Using <code>-d</code> shouldn't output much sensitive information, <code>-v</code> will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions.</p> <p>The output will contain:</p> <p>DB Updates</p> <p>SNMP Response</p>"},{"location":"Support/Environment-Variables/","title":"Environment Variables","text":"<p>LibreNMS allows certain settings to be set via the environment or through the .env file.</p>"},{"location":"Support/Environment-Variables/#database","title":"Database","text":"<p>Set the variables to connect to the database.  The default values are shown below.</p> <pre><code>DB_HOST=localhost\nDB_PORT=3306\nDB_DATABASE=librenms\nDB_USERNAME=librenms\nDB_PASSWORD=\nDB_SOCKET=\n</code></pre>"},{"location":"Support/Environment-Variables/#trusted-reverse-proxies","title":"Trusted Reverse Proxies","text":"<p>A comma separated list of trusted reverse proxy IPs or CIDR.</p> <p>For legacy reasons the default is <code>'*'</code>, which means any proxy is allowed. <code>'**'</code> means trust any proxy up the chain.</p> <pre><code>APP_TRUSTED_PROXIES=192.168.1.0/24,192.167.8.20\n</code></pre>"},{"location":"Support/Environment-Variables/#base-url","title":"Base url","text":"<p>Set the base url for generated urls.</p> <p>This will be needed when using signed graph urls for alerting. It may be needed when using reverse proxies combined with a subdirectory.</p> <p>Generally, LibreNMS will make correct URLs (especially if you have set up your proxy variables correctly)</p> <pre><code>APP_URL=http://librenms/\n</code></pre>"},{"location":"Support/Environment-Variables/#user-group","title":"User / Group","text":"<p>The user and group that LibreNMS should operate as. Group will default to the same as the user if unset.</p> <pre><code>LIBRENMS_USER=librenms\nLIBRENMS_GROUP=librenms\n</code></pre>"},{"location":"Support/Environment-Variables/#debug","title":"Debug","text":"<p>Increases the amount of information shown when an error occurs.</p> <p>WARNING: This may leak information, do not leave enabled.</p> <pre><code>APP_DEBUG=true\n</code></pre>"},{"location":"Support/Example-Hardware-Setup/","title":"Example hardware setups","text":"<p>The information in this document is direct from users, it's a place for people to share their setups so you have an idea of what may be required for your install.</p> <p>To obtain the device, port and sensor counts you can run:</p> <pre><code>select count(*) from devices;\nselect count(*) from ports where `deleted` = 0;\nselect count(*) from sensors where `sensor_deleted` = 0;\n</code></pre>"},{"location":"Support/Example-Hardware-Setup/#laf","title":"laf","text":"<p>Home</p> <p>Running in Proxmox.</p> LibreNMS MySQL Type Virtual Virtual OS CentOS 7 CentOS 7 CPU 2 Sockets, 4 Cores 1 Socket, 2 Cores Memory 2GB 2GB Disk Type Raid 1, SSD Raid 1, SSD Disk Space 18GB 30GB Devices 20 - Ports 133 - Health sensors 47 - Load &lt; 0.1 &lt; 0.1"},{"location":"Support/Example-Hardware-Setup/#vente-privee","title":"Vente-Priv\u00e9e","text":"<p>NOC</p> LibreNMS MariaDB Type Dell R430 Dell R430 OS Debian 7 (dotdeb) Debian 7 (dotdeb) CPU 2 Sockets, 14 Cores 1 Socket, 2 Cores Memory 256GB 256GB Disk Type Raid 10, SSD Raid 10, SSD Disk Space 1TB 1TB Devices 1028 - Ports 26745 - Health sensors 6238 - Load &lt; 0.5 &lt; 0.5"},{"location":"Support/Example-Hardware-Setup/#kkrumm","title":"KKrumm","text":"<p>Home</p> LibreNMS MySQL Type VM Same Server OS CentOS 7 CPU 2 Sockets, 4 Cores Memory 4GB Disk Type Raid 10, SAS Drives Disk Space 40 GB Devices 12 Ports 130 Health sensors 44 Load &lt; 2.5"},{"location":"Support/Example-Hardware-Setup/#kkrumm_1","title":"KKrumm","text":"<p>Work</p> LibreNMS MySQL Type HP Proliantdl380gen8 Same Server OS CentOS 7 CPU 2 Sockets, 24 Cores Memory 32GB Disk Type Raid 10, SAS Drives Disk Space 250 GB Devices 390 Ports 16167 Health sensors 3223 Load &lt; 14.5"},{"location":"Support/Example-Hardware-Setup/#cppmonkeykodapa85","title":"CppMonkey(KodApa85)","text":"<p>Home</p> LibreNMS MariaDB Type i5-4690K Same Workstation OS Ubuntu 18.04.2 CPU 4 Cores Memory 16GB Disk Type Hybrid SATA Disk Space 2 TB Devices 14 Ports 0 Health sensors 70 Load &lt; 0.5"},{"location":"Support/Example-Hardware-Setup/#cppmonkeykodapa85_1","title":"CppMonkey(KodApa85)","text":"<p>Dev</p> <p>Running in Ganeti</p> LibreNMS MariaDB Type VM Same VM OS CentOS 7.5 CPU 2 Cores Memory 4GB Disk Type M.2 Disk Space 40 GB Devices 38 Ports 1583 Health sensors 884 Load &lt; 1.0"},{"location":"Support/Example-Hardware-Setup/#cppmonkeykodapa85_2","title":"CppMonkey(KodApa85)","text":"<p>Work NOC</p> <p>Running in Ganeti Cluster with 2x Dell PER730xd - 64GB, Dual E5-2660 v3</p> LibreNMS MariaDB Type VM VM OS Debian Stretch Debian Stretch CPU 4 Cores 2 Cores Memory 8GB 4GB Disk Type Raid 6, SAS Drives Disk Space 100 GB 40GB Devices 179 Ports 14495 Health sensors 2329 Load &lt; 2.5 &lt; 1.5"},{"location":"Support/Example-Hardware-Setup/#lazydk","title":"LaZyDK","text":"<p>Home</p> LibreNMS MariaDB Type VM - QNAP TS-453 Pro Same Server OS Ubuntu 16.04 CPU 1 vCore Memory 2GB Disk Type Raid 1, SATA Drives Disk Space 10 GB Devices 26 Ports 228 Health sensors 117 Load &lt; 0.92"},{"location":"Support/Example-Hardware-Setup/#sirmaple","title":"SirMaple","text":"<p>Home</p> LibreNMS MariaDB Type VM Same Server OS Debian 11 CPU 4 vCore Memory 4GB Disk Type Raid 1, SSD Disk Space 50 GB Devices 41 Ports 317 Health sensors 243 Load &lt; 3.15"},{"location":"Support/Example-Hardware-Setup/#vvelox","title":"VVelox","text":"<p>Home / Dev</p> LibreNMS MariaDB Type Supermicro X7SPA-HF Same Server OS FreeBSD 12-STABLE CPU Intel Atom D525 Memory 4GB Disk Type Raid 1, SATA Disk Space 1TB Devices 17 Ports 174 Health sensors 76 Load &lt; 3"},{"location":"Support/Example-Hardware-Setup/#sourcedoctor","title":"SourceDoctor","text":"<p>Home / Dev</p> <p>Running in VMWare Workstation Pro</p> LibreNMS MariaDB Type VM Same Server OS Debian Buster CPU 2 vCore Memory 2GB Disk Type Raid 5, SSD Disk Space 20GB Devices 35 Ports 245 Health sensors 101 Load &lt; 1"},{"location":"Support/Example-Hardware-Setup/#lazyb0nes","title":"lazyb0nes","text":"<p>Lab</p> LibreNMS MariaDB Type VM Same Server OS RHEL 7.7 CPU 32 cores Memory 64GB Disk Type Flash San Array Disk Space 400GB Devices 670 Ports 25678 Health sensors 2457 Load 10.92"},{"location":"Support/Example-Hardware-Setup/#dagb","title":"dagb","text":"<p>Work</p> <p>Running in VMware.</p> LibreNMS MariaDB Type Virtual Same Server OS CentOS 7 CPU 12 Cores Xeon 6130 Memory 8GB Disk Type SAN (SSD) Disk Space 26GB/72GB/7GB (logs/RRDs/db) Devices 650 Ports 34300 Health sensors 10500 Load 5.5 (45%)"},{"location":"Support/FAQ/","title":"FAQ","text":""},{"location":"Support/FAQ/#getting-started","title":"Getting started","text":""},{"location":"Support/FAQ/#how-do-i-install-librenms","title":"How do I install LibreNMS?","text":"<p>This is currently well documented within the doc folder of the installation files.</p> <p>Please see the following doc</p>"},{"location":"Support/FAQ/#how-do-i-add-a-device","title":"How do I add a device?","text":"<p>You have two options for adding a new device into LibreNMS.</p> <p>1: Using the command line via ssh you can add a new device by changing    to the directory of your LibreNMS install and typing:</p> <pre><code>lnms device:add [hostname or ip]\n</code></pre> <p>To see all options run: <code>lnms device:add -h</code></p> <p>Please note that if the community contains special characters such as <code>$</code> then you will need to wrap it in <code>'</code>. I.e: <code>'Pa$$w0rd'</code>.</p> <p>2: Using the web interface, go to Devices and then Add Device. Enter    the details required for the device that you want to add and then    click 'Add Host'.</p>"},{"location":"Support/FAQ/#how-do-i-get-help","title":"How do I get help?","text":"<p>Getting Help</p>"},{"location":"Support/FAQ/#what-are-the-supported-oses-for-installing-librenms-on","title":"What are the supported OSes for installing LibreNMS on?","text":"<p>Supported is quite a strong word :) The 'officially' supported distros are:</p> <ul> <li>Ubuntu / Debian</li> <li>Red Hat / CentOS</li> <li>Gentoo</li> </ul> <p>However we will always aim to help wherever possible so if you are running a distro that isn't one of the above then give it a try anyway and if you need help then jump on the discord server.</p>"},{"location":"Support/FAQ/#do-you-have-a-demo-available","title":"Do you have a demo available?","text":"<p>We do indeed, you can find access to the demo here</p>"},{"location":"Support/FAQ/#support","title":"Support","text":""},{"location":"Support/FAQ/#how-does-librenms-use-mibs","title":"How does LibreNMS use MIBs?","text":"<p>LibreNMS does not parse MIBs to discover sensors for devices. LibreNMS uses static discovery definitions written in YAML or PHP. Therefore, updating a MIB alone will not improve OS support, the definitions must be updated.  LibreNMS only uses MIBs to make OIDs easier to read.</p>"},{"location":"Support/FAQ/#why-do-i-get-blank-pages-sometimes-in-the-webui","title":"Why do I get blank pages sometimes in the WebUI?","text":"<p>You can enable debug information by setting <code>APP_DEBUG=true</code> in your .env. (Do not leave this enabled, it could leak private data)</p> <p>If the page you are trying to load has a substantial amount of data in it then it could be that the php memory limit needs to be increased in config.php.</p>"},{"location":"Support/FAQ/#why-do-i-not-see-any-graphs","title":"Why do I not see any graphs?","text":"<p>The easiest way to check if all is well is to run <code>./validate.php</code> as librenms from within your install directory. This should give you info on why things aren't working.</p> <p>One other reason could be a restricted snmpd.conf file or snmp view which limits the data sent back. If you use net-snmp then we suggest using the included snmpd.conf file.</p>"},{"location":"Support/FAQ/#how-do-i-debug-pages-not-loading-correctly","title":"How do I debug pages not loading correctly?","text":"<p>A debug system is in place which enables you to see the output from php errors, warnings and notices along with the MySQL queries that have been run for that page.</p> <p>You can enable debug information by setting <code>APP_DEBUG=true</code> in your .env. (Do not leave this enabled, it could leak private data) To see additional information, run <code>./scripts/composer_wrapper.php install</code>, to install additional debug tools. This will add a debug bar at the bottom of every page that will show you detailed debug information.</p>"},{"location":"Support/FAQ/#how-do-i-debug-the-discovery-process","title":"How do I debug the discovery process?","text":"<p>Please see the Discovery Support document for further details.</p>"},{"location":"Support/FAQ/#how-do-i-debug-the-poller-process","title":"How do I debug the poller process?","text":"<p>Please see the Poller Support document for further details.</p>"},{"location":"Support/FAQ/#why-do-i-get-a-lot-apache-or-rrdtool-zombies-in-my-process-list","title":"Why do I get a lot apache or rrdtool zombies in my process list?","text":"<p>If this is related to your web service for LibreNMS then this has been tracked down to an issue within php which the developers aren't fixing. We have implemented a work around which means you shouldn't be seeing this. If you are, please report this in issue 443.</p>"},{"location":"Support/FAQ/#why-do-i-see-traffic-spikes-in-my-graphs","title":"Why do I see traffic spikes in my graphs?","text":"<p>This occurs either when a counter resets or the device sends back bogus data making it look like a counter reset. We have enabled support for setting a maximum value for rrd files for ports.</p> <p>Before this all rrd files were set to 100G max values, now you can enable support to limit this to the actual port speed.</p> <p>rrdtool tune will change the max value when the interface speed is detected as being changed (min value will be set for anything 10M or over) or when you run the included script (./scripts/tune_port.php) - see RRDTune doc</p> <p>SNMP ifInOctets and ifOutOctets are counters, which means they start  at 0 (at device boot) and count up from there. LibreNMS records the  value every 5 minutes and uses the difference between the previous  value and the current value to calculate rate. (Also, this value  resets to 0 when it hits the max value)</p> <p>Now, when the value is not recorded for awhile RRD (our time series storage) does not record a 0, it records the last value, otherwise, there would be even worse problems. Then finally we get the current ifIn/OutOctets value and record that. Now, it appears as though all of the traffic since it stopped getting values have occurred in the last 5 minute interval.</p> <p>So whenever you see spikes like this, it means we have not received data from the device for several polling intervals. The cause can vary quite a bit: bad snmp implementations, intermittent network connectivity, broken poller, and more.</p>"},{"location":"Support/FAQ/#why-do-i-see-gaps-in-my-graphs","title":"Why do I see gaps in my graphs?","text":"<p>This is most commonly due to the poller not being able to complete it's run within 300 seconds. Check which devices are causing this by going to /poll-log/ within the Web interface.</p> <p>When you find the device(s) which are taking the longest you can then look at the Polling module graph under Graphs -&gt; Poller -&gt; Poller Modules Performance. Take a look at what modules are taking the longest and disabled un used modules.</p> <p>If you poll a large number of devices / ports then it's recommended to run a local recursive dns server such as pdns-recursor.</p> <p>Running RRDCached is also highly advised in larger installs but has benefits no matter the size.</p>"},{"location":"Support/FAQ/#how-do-i-change-the-ip-hostname-of-a-device","title":"How do I change the IP / hostname of a device?","text":"<p>There is a host rename tool called renamehost.php in your librenms root directory. When renaming you are also changing the device's IP / hostname address for monitoring.</p> <p>Usage:</p> <pre><code>./renamehost.php &lt;old hostname&gt; &lt;new hostname&gt;\n</code></pre> <p>You can also rename a device in the Web UI by going to the device, then clicking settings Icon -&gt; Edit.</p>"},{"location":"Support/FAQ/#my-device-doesnt-finish-polling-within-300-seconds","title":"My device doesn't finish polling within 300 seconds","text":"<p>We have a few things you can try:</p> <ul> <li>Disable unnecessary polling modules under edit device.</li> <li>Set a max repeater value within the snmp settings for a device. What   to set this to is tricky, you really should run an snmpbulkwalk with   -Cr10 through -Cr50 to see what works best. 50 is usually a good   choice if the device can cope.</li> </ul>"},{"location":"Support/FAQ/#things-arent-working-correctly","title":"Things aren't working correctly?","text":"<p>Run <code>./validate.php</code> as librenms from within your install.</p> <p>Re-run <code>./validate.php</code> once you've resolved any issues raised.</p> <p>You have an odd issue - we'd suggest you join our discord server to discuss.</p>"},{"location":"Support/FAQ/#what-do-the-values-mean-in-my-graphs","title":"What do the values mean in my graphs?","text":"<p>The values you see are reported as metric values. Thanks to a post on Reddit here are those values:</p> <pre><code>10^-18  a - atto\n10^-15  f - femto\n10^-12  p - pico\n10^-9   n - nano\n10^-6   u - micro\n10^-3   m - milli\n0    (no unit)\n10^3    k - kilo\n10^6    M - mega\n10^9    G - giga\n10^12   T - tera\n10^15   P - peta\n</code></pre>"},{"location":"Support/FAQ/#why-does-a-device-show-as-a-warning","title":"Why does a device show as a warning?","text":"<p>This is indicating that the device has rebooted within the last 24 hours (by default). If you want to adjust this threshold then you can do so by setting <code>$config['uptime_warning'] = '86400';</code> in <code>config.php</code>. The value must be in seconds.</p>"},{"location":"Support/FAQ/#why-do-i-not-see-all-interfaces-in-the-overall-traffic-graph-for-a-device","title":"Why do I not see all interfaces in the Overall traffic graph for a device?","text":"<p>By default numerous interface types and interface descriptions are excluded from this graph. The excluded defaults are:</p> <pre><code>$config['device_traffic_iftype'][] = '/loopback/';\n$config['device_traffic_iftype'][] = '/tunnel/';\n$config['device_traffic_iftype'][] = '/virtual/';\n$config['device_traffic_iftype'][] = '/mpls/';\n$config['device_traffic_iftype'][] = '/ieee8023adLag/';\n$config['device_traffic_iftype'][] = '/l2vlan/';\n$config['device_traffic_iftype'][] = '/ppp/';\n\n$config['device_traffic_descr'][] = '/loopback/';\n$config['device_traffic_descr'][] = '/vlan/';\n$config['device_traffic_descr'][] = '/tunnel/';\n$config['device_traffic_descr'][] = '/bond/';\n$config['device_traffic_descr'][] = '/null/';\n$config['device_traffic_descr'][] = '/dummy/';\n</code></pre> <p>If you would like to re-include l2vlan interfaces for instance, you first need to <code>unset</code> the config array and set your options:</p> <pre><code>unset($config['device_traffic_iftype']);\n$config['device_traffic_iftype'][] = '/loopback/';\n$config['device_traffic_iftype'][] = '/tunnel/';\n$config['device_traffic_iftype'][] = '/virtual/';\n$config['device_traffic_iftype'][] = '/mpls/';\n$config['device_traffic_iftype'][] = '/ieee8023adLag/';\n$config['device_traffic_iftype'][] = '/ppp/';\n</code></pre>"},{"location":"Support/FAQ/#how-do-i-migrate-my-librenms-install-to-another-server","title":"How do I migrate my LibreNMS install to another server?","text":"<p>If you are moving from one CPU architecture to another then you will need to dump the rrd files and re-create them. If you are in this scenario then you can use Dan Brown's migration scripts.</p> <p>If you are just moving to another server with the same CPU architecture then the following steps should be all that's needed:</p> <ul> <li>Install LibreNMS as per our normal documentation; you don't need to   run through the web installer or building the sql schema.</li> <li>Stop cron by commenting out all lines in <code>/etc/cron.d/librenms</code></li> <li>Dump the MySQL database <code>librenms</code> from your old server (<code>mysqldump   librenms -u root -p &gt; librenms.sql</code>)...</li> <li>and import it into your new server (<code>mysql -u root -p librenms &lt; librenms.sql</code>).</li> <li>Copy the <code>rrd/</code> folder to the new server.</li> <li>Copy the <code>.env</code> and <code>config.php</code> files to the new server.</li> <li>Check for modified files (eg specific os, ...) with <code>git status</code> and   migrate them.</li> <li>Ensure ownership of the copied files and folders (substitute your   user if necessary) - <code>chown -R librenms:librenms /opt/librenms</code></li> <li>Delete old pollers on the GUI (gear icon --&gt; Pollers --&gt; Pollers)</li> <li>Validate your installation (/opt/librenms/validate.php)</li> <li>Re-enable cron by uncommenting all lines in <code>/etc/cron.d/librenms</code></li> </ul>"},{"location":"Support/FAQ/#why-is-my-edgerouter-device-not-detected","title":"Why is my EdgeRouter device not detected?","text":"<p>If you have <code>service snmp description</code> set in your config then this will be why, please remove this. For some reason Ubnt have decided setting this value should override the sysDescr value returned which breaks our detection.</p> <p>If you don't have that set then this may be then due to an update of EdgeOS or a new device type, please create an issue.</p>"},{"location":"Support/FAQ/#why-are-some-of-my-disks-not-showing","title":"Why are some of my disks not showing?","text":"<p>If you are monitoring a linux server then net-snmp doesn't always expose all disks via hrStorage (HOST-RESOURCES-MIB). We have additional support which will retrieve disks via dskTable (UCD-SNMP-MIB). To expose these disks you need to add additional config to your snmpd.conf file. For example, to expose <code>/dev/sda1</code> which may be mounted as <code>/storage</code> you can specify:</p> <p><code>disk /dev/sda1</code></p> <p>Or</p> <p><code>disk /storage</code></p> <p>Restart snmpd and LibreNMS should populate the additional disk after a fresh discovery.</p>"},{"location":"Support/FAQ/#why-are-my-disks-reporting-an-incorrect-size","title":"Why are my disks reporting an incorrect size?","text":"<p>There is a known issue for net-snmp, which causes it to report incorrect disk size and disk usage when the size of the disk (or raid) are larger then 16TB, a workaround has been implemented but is not active on Centos 6.8 by default due to the fact that this workaround breaks official SNMP specs, and as such could cause unexpected behaviour in other SNMP tools. You can activate the workaround by adding to /etc/snmp/snmpd.conf :</p> <p><code>realStorageUnits 0</code></p>"},{"location":"Support/FAQ/#what-does-mean-ignore-alert-tag-on-device-component-service-and-port","title":"What does mean \\\"ignore alert tag\\\" on device, component, service and port?","text":"<p>Tag device, component, service and port to ignore alerts. Alert checks will still run. However, ignore tag can be read in alert rules. For example on device, if <code>devices.ignore = 0</code> or <code>macros.device = 1</code> condition is is set and ignore alert tag is on, the alert rule won't match. The alert rule is ignored.</p>"},{"location":"Support/FAQ/#how-do-i-clean-up-alerts-from-my-switches-and-routers-about-ports-being-down-or-changing-speed","title":"How do I clean up alerts from my switches and routers about ports being down or changing speed","text":"<p>Some properties used for alerting (ending in <code>_prev</code>) are only updated when a change is detected, and not every time the poller runs. This means that if you make a permanant change to your network such as removing a device, performing a major firmware upgrade, or downgrading a WAN connection, you may be stuck with some unresolvable alerts.</p> <p>If a port will be permantly down, it's best practice to configure it to be administratively down on the device to prevent malicious access. You can then only run alerts on ports with <code>ifAdminStatus = up</code>. Otherwise, you'll need to reset the device port state history.</p> <p>On the device generating alerts, use the cog button to go to the edit device page. At the top of the device settings pane is a button labelled <code>Reset Port State</code> - this will clear the historic state for all ports on that device, allowing any active alerts to clear.</p>"},{"location":"Support/FAQ/#why-cant-normal-and-global-view-users-see-oxidized","title":"Why can't Normal and Global View users see Oxidized?","text":"<p>Configs can often contain sensitive data. Because of that only global admins can see configs.</p>"},{"location":"Support/FAQ/#what-is-the-demo-user-for","title":"What is the Demo User for?","text":"<p>Demo users allow full access except adding/editing users and deleting devices and can't change passwords.</p>"},{"location":"Support/FAQ/#why-does-modifying-default-alert-template-fail","title":"Why does modifying 'Default Alert Template' fail?","text":"<p>This template's entry could be missing in the database. Please run this from the LibreNMS directory:</p> <pre><code>php artisan db:seed --class=DefaultAlertTemplateSeeder\n</code></pre>"},{"location":"Support/FAQ/#why-would-alert-un-mute-itself","title":"Why would alert un-mute itself?","text":"<p>If alert un-mutes itself then it most likely means that the alert cleared and is then triggered again. Please review eventlog as it will tell you in there.</p>"},{"location":"Support/FAQ/#how-do-i-change-the-device-type","title":"How do I change the Device Type?","text":"<p>You can change the Device Type by going to the device you would like to change, then click on the Gear Icon -&gt; Edit. If you would like to define custom types, we suggest using Device Groups. They will be listed in the menu similarly to device types.</p>"},{"location":"Support/FAQ/#editing-large-device-groups-gives-error-messages","title":"Editing large device groups gives error messages","text":"<p>If the device group contains large amount of devices, editing it from the UI might cause errors on the form even when all the data seems correct. This is caused by PHP's <code>max_input_vars</code>-variable. You should be able to confirm that this is the case by inspecting the PHP's error logs.</p> <p>With the basic installation on Ubuntu 22.04 LTS with Nginx and PHP 8.1 FPM this value can be tuned by editing the file <code>/etc/php/8.1/fpm/php.ini</code> and adjusting the value of <code>max_input_vars</code> to be at least the size of the large group. In larger installations a value such as <code>10000</code> should suffice.</p>"},{"location":"Support/FAQ/#where-do-i-update-my-database-credentials","title":"Where do I update my database credentials?","text":"<p>If you've changed your database credentials then you will need to update LibreNMS with those new details. Please edit <code>.env</code></p> <p>.env:</p> <pre><code>DB_HOST=\nDB_DATABASE=\nDB_USERNAME=\nDB_PASSWORD=\nDB_PORT=\n</code></pre>"},{"location":"Support/FAQ/#my-reverse-proxy-is-not-working","title":"My reverse proxy is not working","text":"<p>Make sure your proxy is passing the proper variables. At a minimum: X-Forwarded-For and X-Forwarded-Proto (X-Forwarded-Port if needed)</p> <p>You also need to Set the proxy or proxies as trusted</p> <p>If you are using a subdirectory on the reverse proxy and not on the actual web server, you may need to set APP_URL and <code>$config['base_url']</code>.</p>"},{"location":"Support/FAQ/#my-alerts-arent-being-delivered-on-time","title":"My alerts aren't being delivered on time","text":"<p>If you're running MySQL/MariaDB on a separate machine or container make sure the timezone is set properly on both the LibreNMS and MySQL/MariaDB instance. Alerts will be delivered according to MySQL/MariaDB's time, so a mismatch between the two can cause alerts to be delivered late if LibreNMS is on a timezone later than MySQL/MariaDB.</p>"},{"location":"Support/FAQ/#my-alert-templates-stopped-working","title":"My alert templates stopped working","text":"<p>You should probably have a look in the documentation concerning the new template syntax. Since version 1.42, syntax changed, and you basically need to convert your templates to this new syntax (including the titles).</p>"},{"location":"Support/FAQ/#how-do-i-use-trend-prediction-in-graphs","title":"How do I use trend prediction in graphs","text":"<p>As of Ver. 1.55 a new feature has been added where you can view a simple linear prediction in port graphs.</p> <p>It doesn't work on non-port graphs or consolidated graphs at the time this FAQ entry was written.</p> <p>To view a prediction:</p> <ul> <li>Click on any <code>port</code> graph of any network device</li> <li>Select a <code>From</code> date to your liking (not earlier than the device was actually added to LNMS), and then select a future date in the <code>To</code> field.</li> <li>Click update</li> </ul> <p>You should now see a linear prediction line on the graph.</p>"},{"location":"Support/FAQ/#how-do-i-move-only-the-db-to-another-server","title":"How do I move only the DB to another server?","text":"<p>There is already a reference how to move your whole LNMS installation to another server. But the following steps will help you to split up an \"All-in-one\" installation to one LibreNMS installation with a separate database install. *Note: This section assumes you have a MySQL/MariaDB instance</p> <ul> <li>Stop the apache and mysql service in you LibreNMS installation.</li> <li>Edit out all the cron entries in <code>/etc/cron.d/librenms</code>.</li> <li>Dump your <code>librenms</code>database on your current install by issuing <code>mysqldump librenms -u root -p &gt; librenms.sql</code>.</li> <li>Stop and disable the MySQL server on your current install.</li> <li>On your new server make sure you create a new database with the standard install command, no need to add a user for localhost though.</li> <li>Copy this over to your new database server and import it with <code>mysql -u root -p librenms &lt; librenms.sql</code>.</li> <li>Enter to mysql and add permissions with the following two commands: <pre><code>GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'IP_OF_YOUR_LNMS_SERVER' IDENTIFIED BY 'PASSWORD' WITH GRANT OPTION;\nGRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'FQDN_OF_YOUR_LNMS_SERVER' IDENTIFIED BY 'PASSWORD' WITH GRANT OPTION;\nFLUSH PRIVILEGES;\nexit;\n</code></pre></li> <li>Enable and restart MySQL server.</li> <li>Edit your <code>config.php</code> file to point the install to the new database server location.</li> <li>Very important: On your LibreNMS server, inside your install directory is a <code>.env</code> file, in it you need to edit the <code>DBHOST</code> paramater to point to your new server location.</li> <li>After all this is done, enable all the cron entries again and start apache.</li> </ul>"},{"location":"Support/FAQ/#what-are-the-optional-requirements-message-when-i-add-snmpv3-devices","title":"What are the \"optional requirements message\" when I add SNMPv3 devices?","text":"<p>When you add a device via the WebUI you may see a little message stating \"Optional requirements are not met so some options are disabled\". Do not panic. This simply means your system does not contain openssl &gt;= 1.1 and net-snmp &gt;= 5.8, which are the minimum specifications needed to be able to use SHA-224|256|384|512 as auth algorithms. For crypto algorithms AES-192, AES-256 you need net-snmp compiled with <code>--enable-blumenthal-aes</code>.</p>"},{"location":"Support/FAQ/#developing","title":"Developing","text":""},{"location":"Support/FAQ/#how-do-i-add-support-for-a-new-os","title":"How do I add support for a new OS?","text":"<p>Please see Supporting a new OS if you are adding all the support yourself, i.e. writing all of the supporting code. If you are only able to supply supporting info, and would like the help of others to write up the code, please follow the below steps.</p>"},{"location":"Support/FAQ/#what-information-do-you-need-to-add-a-new-os","title":"What information do you need to add a new OS?","text":"<p>Please open a feature request in the community forum and provide the output of Discovery, Poller, and Snmpwalk as separate non-expiring https://p.libren.ms/ links :</p> <p>Please use preferably the command line to obtain the information. Especially, if snmpwalk results in a large amount of data. Replace the relevant information in these commands such as HOSTNAME and COMMUNITY. Use <code>snmpwalk</code> instead of <code>snmpbulkwalk</code> for v1 devices.</p> <p>These commands will automatically upload the data to LibreNMS servers.</p> <pre><code>./discovery.php -h HOSTNAME -d | ./pbin.sh\nlnms device:poll HOSTNAME -vv | ./pbin.sh\nsnmpbulkwalk -OUneb -v2c -c COMMUNITY HOSTNAME .  | ./pbin.sh\n</code></pre> <p>You can use the links provided by these commands within the community post.</p> <p>If possible please also provide what the OS name should be if it doesn't exist already, as well as any useful link (MIBs from vendor, logo, etc etc)</p>"},{"location":"Support/FAQ/#what-can-i-do-to-help","title":"What can I do to help?","text":"<p>Thanks for asking, sometimes it's not quite so obvious and everyone can contribute something different. So here are some ways you can help LibreNMS improve.</p> <ul> <li>Code. This is a big thing. We want this community to grow by the   software developing and evolving to cater for users needs. The   biggest area that people can help make this happen is by providing   code support. This doesn't necessarily mean contributing code for   discovering a new device:</li> <li>Web UI, a new look and feel has been adopted but we are not       finished by any stretch of the imagination. Make suggestions,       find and fix bugs, update the design / layout.</li> <li>Poller / Discovery code. Improving it (we think a lot can be done     to speed things up), adding new device support and updating old     ones.</li> <li>The LibreNMS main website, this is hosted on GitHub like the main     repo and we accept use contributions here as well :)</li> <li>Hardware. We don't physically need it but if we are to add device   support, it's made a whole lot easier with access to the kit via   SNMP.</li> <li>If you've got MIBs, they are handy as well :)</li> <li>If you know the vendor and can get permission to use logos that's also great.</li> <li>Bugs. Found one? We want to know about it. Most bugs are fixed after   being spotted and reported by someone, I'd love to say we are   amazing developers and will fix all bugs before you spot them but   that's just not true.</li> <li>Feature requests. Can't code / won't code. No worries, chuck a   feature request into our community   forum with enough detail and   someone will take a look. A lot of the time this might be what   interests someone, they need the same feature or they just have   time. Please be patient, everyone who contributes does so in their   own time.</li> <li>Documentation. Documentation can always be improved and every little   bit helps. Not all features are currently documented or documented   well, there's spelling mistakes etc. It's very easy to submit   updates through the GitHub   website,   no git experience needed.</li> <li>Be nice, this is the foundation of this project. We expect everyone   to be nice. People will fall out, people will disagree but please do   it so in a respectable way.</li> <li>Ask questions. Sometimes just by asking questions you prompt deeper   conversations that can lead us to somewhere amazing so please never   be afraid to ask a question.</li> </ul>"},{"location":"Support/FAQ/#how-can-i-test-another-users-branch","title":"How can I test another users branch?","text":"<p>LibreNMS can and is developed by anyone, this means someone may be working on a new feature or support for a device that you want. It can be helpful for others to test these new features, using Git, this is made easy.</p> <pre><code>cd /opt/librenms\n</code></pre> <p>Firstly ensure that your current branch is in good state:</p> <pre><code>git status\n</code></pre> <p>If you see <code>nothing to commit, working directory clean</code> then let's go for it :)</p> <p>Let's say that you want to test a users (f0o) new development branch (issue-1337) then you can do the following:</p> <pre><code>git remote add f0o https://github.com/f0o/librenms.git\ngit remote update f0o\ngit checkout issue-1337\n</code></pre> <p>Once you are done testing, you can easily switch back to the master branch:</p> <pre><code>git checkout master\n</code></pre> <p>If you want to pull any new updates provided by f0o's branch then whilst you are still in it, do the following:</p> <pre><code>git pull f0o issue-1337\n</code></pre>"},{"location":"Support/Features/","title":"Features","text":"<p>Here's a brief list of supported features, some might be missing. If you think something is missing, feel free to ask us.</p> <ul> <li>Auto discovery</li> <li>Alerting</li> <li>Multiple environment sensors support</li> <li>Multiple protocols data collection (STP, OSPF, BGP etc)</li> <li>VLAN, ARP and FDB table collection</li> <li>Customizable Dashboards</li> <li>Device Backup integration (Oxidized, RANCID)</li> <li>Distributed Polling</li> <li>Multiple Authentication Methods (MySQL, LDAP, Active Directory, HTTP)</li> <li>NetFlow, sFlow, IPFIX (NfSen)</li> <li>Service monitoring (Nagios Plugins)</li> <li>Syslog (Integrated, Graylog)</li> <li>Traffic Billing (Quota, 95th Percentile)</li> <li>Two Factor Authentication</li> <li>API</li> <li>Auto Updating</li> </ul>"},{"location":"Support/Features/#supported-vendors","title":"Supported Vendors","text":"<p>Here's a list of supported vendors, some might be missing. If you are unsure of whether your device is supported or not, feel free to ask us.</p>"},{"location":"Support/Features/#3","title":"3","text":"<ul> <li>3Com</li> </ul>"},{"location":"Support/Features/#a","title":"A","text":"<ul> <li>A10 Networks</li> <li>Acano OS</li> <li>Accedian AEN</li> <li>Adtran AOS</li> <li>ADVA FSP150CC</li> <li>ADVA FSP3000 R7</li> <li>ADVA OptiSwitch</li> <li>Advantech</li> <li>Aerohive HiveOS</li> <li>Airconsole Server</li> <li>AIX</li> <li>AKCP SensorProbe</li> <li>Alcatel OmniPCX</li> <li>Alcatel-Lucent Enterprise Stellar Wireless OS (AWOS)</li> <li>Alcatel-Lucent OS</li> <li>Alcoma</li> <li>ALGCOM DC UPS</li> <li>Allied Telesis Wireless (TQ)</li> <li>Alliedware</li> <li>Alliedware Plus</li> <li>Allworx VoIP</li> <li>Alpha Comp@s</li> <li>Alpha CXC HP Controller</li> <li>Alpha FXM</li> <li>Alpine OptoElectronics TDCM-EDFA platform</li> <li>AlteonOS</li> <li>Alvarion Breeze</li> <li>Anue</li> <li>AnyOS</li> <li>APC Environmental Monitoring Unit</li> <li>APC ePDU</li> <li>APC Management Module</li> <li>APC MGE UPS</li> <li>Apex Lynx</li> <li>Apex Plus</li> <li>Apple AirPort</li> <li>Apple OS X</li> <li>Aprisa</li> <li>ApsoluteOS</li> <li>ArbOS</li> <li>Areca RAID Subsystem</li> <li>Arista EOS</li> <li>Arista MOS</li> <li>Array Networks</li> <li>Arris Apex</li> <li>Arris CMTS</li> <li>Arris D5 Universal EdgeQAM</li> <li>ARRIS DOCSIS</li> <li>Arris Satellite Receiver</li> <li>Aruba Clearpass</li> <li>Aruba Instant</li> <li>ArubaOS</li> <li>ArubaOS-CX</li> <li>Ascom</li> <li>Asentria SiteBoss</li> <li>AsusWRT Merlin</li> <li>Aten PDU</li> <li>Audiocodes</li> <li>Automatic Transfer Switch</li> <li>Avaya Scopia</li> <li>AvediaPlayer Receivers</li> <li>AvediaStream Encoder</li> <li>Aviat WTM</li> <li>Avocent</li> <li>Avtech Environment Sensor</li> <li>AXIS Audio Appliances</li> <li>AXIS Network Camera</li> <li>AXIS Network Document Server</li> </ul>"},{"location":"Support/Features/#b","title":"B","text":"<ul> <li>Barco Clickshare</li> <li>Barracuda Email Security Gateway</li> <li>Barracuda Load Balancer</li> <li>Barracuda NG Firewall</li> <li>Barracuda Web Application Firewall</li> <li>BATS AATS</li> <li>BDCOM(tm) Software</li> <li>BeagleBoard</li> <li>Benu</li> <li>Bintec Be.IP Plus</li> <li>Bintec Smart Router</li> <li>BKE</li> <li>BKtel</li> <li>Blade Network Technologies</li> <li>BladeShelter PDU by PowerTek</li> <li>Blue Coat PacketShaper</li> <li>Blue Coat SSL Visibility</li> <li>Bluecat Networks</li> <li>BlueCoat ProxySG</li> <li>Broadcom BCM963xx</li> <li>Brocade FabricOS</li> <li>Brocade IronWare</li> <li>Brocade NOS</li> <li>Brocade ServerIron</li> <li>Brother Printer</li> <li>BTI SA-800</li> <li>Buffalo</li> </ul>"},{"location":"Support/Features/#c","title":"C","text":"<ul> <li>C&amp;C Power Commander plus</li> <li>Calix AXOS</li> <li>Calix B6 System</li> <li>Calix EXA</li> <li>Calix Legacy</li> <li>Cambium</li> <li>Cambium CMM</li> <li>Cambium CMM4</li> <li>Cambium cnMatrix</li> <li>Cambium cnPilot</li> <li>Cambium cnPilot Router</li> <li>Cambium cnWave60</li> <li>Cambium epmp</li> <li>Cambium PTP 250</li> <li>Cambium PTP 300/500</li> <li>Cambium PTP 600</li> <li>Cambium PTP 650</li> <li>Cambium PTP 670</li> <li>Cambium PTP 800</li> <li>Canon Printer</li> <li>Carel pCOWeb</li> <li>cdata</li> <li>Ceragon CeraOS</li> <li>CET TSI Controller</li> <li>Chatsworth PDU</li> <li>Check Point GAiA</li> <li>CheckPoint SecurePlatform</li> <li>Christie Projector</li> <li>Ciena SAOS</li> <li>Ciena Service Delivery Switch</li> <li>Ciena Waveserver</li> <li>Ciena Z-Series</li> <li>cirpack</li> <li>Cisco ACE</li> <li>Cisco ACS</li> <li>Cisco APIC</li> <li>Cisco ASA</li> <li>Cisco AsyncOS</li> <li>Cisco Catalyst 1900</li> <li>Cisco CatOS</li> <li>Cisco EPC</li> <li>Cisco FTD</li> <li>Cisco FX-OS</li> <li>Cisco Identity Services Engine</li> <li>Cisco Integrated Management Controller</li> <li>Cisco Intrusion Prevention System</li> <li>Cisco IOS</li> <li>Cisco IOS-XE</li> <li>Cisco IOS-XR</li> <li>Cisco ME1200</li> <li>Cisco Nexus 3550 Series</li> <li>Cisco NX-OS</li> <li>Cisco ONS</li> <li>Cisco PIX-OS</li> <li>Cisco SAN-OS</li> <li>Cisco Satellite Receiver</li> <li>Cisco SCE</li> <li>Cisco Services Ready Platform</li> <li>Cisco Small Business</li> <li>Cisco Unified Communications Manager</li> <li>Cisco Voice Gateway</li> <li>Cisco WAAS</li> <li>Cisco Wireless Access Point</li> <li>Cisco WLC</li> <li>Citrix Netscaler</li> <li>Comet System Web Sensor</li> <li>Comtrol Industrial Switch</li> <li>Controlbox TH-332B</li> <li>CoreOS</li> <li>Corero CMS</li> <li>Coriant TNMS</li> <li>CradlePoint WiPipe</li> <li>CTC Union</li> <li>Cumulus Linux</li> <li>CXR Networks TS</li> <li>Cyberoam UTM</li> <li>Cyberpower</li> </ul>"},{"location":"Support/Features/#d","title":"D","text":"<ul> <li>D-Link Access Point</li> <li>D-Link Switch</li> <li>Dahua NVR</li> <li>Dantel Webmon</li> <li>Dantherm</li> <li>Dasan NOS</li> <li>Datacom</li> <li>dd-wrt</li> <li>DDN Storage</li> <li>Deliberant OS</li> <li>Dell DRAC</li> <li>Dell EMC Networking OS10 Enterprise</li> <li>Dell EqualLogic</li> <li>Dell Laser</li> <li>Dell Networking OS</li> <li>Dell OpenManage Enterprise Modular</li> <li>Dell PowerConnect</li> <li>Dell PowerVault</li> <li>Dell PowerVault MD</li> <li>Dell Rack PDU</li> <li>Dell Remote Console</li> <li>Dell Storage</li> <li>Dell UPS</li> <li>Delta Orion Controller</li> <li>Delta UPS</li> <li>Develop Printer</li> <li>DHCPatriot</li> <li>Digipower</li> <li>Digital China Networks</li> <li>DKT Comega</li> <li>DPS Telecom NetGuardian</li> <li>DragonflyBSD</li> <li>Dragonwave Harmony Enhanced</li> <li>Dragonwave Horizon Compact</li> <li>Dragonwave Horizon Compact Plus</li> <li>Dragonwave Horizon Duo</li> <li>DrayTek</li> <li>DVB Modulator &amp; Ampiflier</li> <li>DVB-T Transmitter</li> </ul>"},{"location":"Support/Features/#e","title":"E","text":"<ul> <li>E3 Meter</li> <li>E3 Meter DataConcentrator</li> <li>Eagle-I</li> <li>East</li> <li>Eaton ATS</li> <li>Eaton Matrix</li> <li>Eaton MGE PDU</li> <li>Eaton PDU</li> <li>Eaton SC200 Controller</li> <li>Eaton UPS</li> <li>EDFA</li> <li>Edgecore</li> <li>EdgeOS</li> <li>EdgeSwitch</li> <li>EDS</li> <li>EfficientIP SOLIDserver</li> <li>Ekinops Optical</li> <li>Eltek Valere</li> <li>Eltek Valere eNexus</li> <li>Eltek WebPower</li> <li>Eltex OLT</li> <li>Eltex-MES21xx</li> <li>Eltex-MES23xx</li> <li>EMC Data Domain</li> <li>EMC Flare OS</li> <li>EMC Isilon OneFS</li> <li>Emerson Energy System</li> <li>Emerson Netsure</li> <li>Endian</li> <li>EndRun</li> <li>EnGenius Access Point</li> <li>enLogic PDU</li> <li>Enterasys</li> <li>Epson Printer</li> <li>Epson Projector</li> <li>Ericsson 6600 series</li> <li>Ericsson IPOS</li> <li>Ericsson LG iPECS UCP</li> <li>Ericsson MINI-LINK</li> <li>Ericsson Traffic Node</li> <li>EricssonLG IPECS ES</li> <li>Etherwan Managed Switch</li> <li>EUROstor RAID Subsystem</li> <li>Exagrid</li> <li>Exalt ExtendAir</li> <li>Exinda</li> <li>Extrahop Appliance</li> <li>Extreme BOSS</li> <li>Extreme SLX-OS</li> <li>Extreme VOSS</li> <li>Extreme Wireless Convergence</li> <li>Extreme XOS</li> <li>Extremeware</li> </ul>"},{"location":"Support/Features/#f","title":"F","text":"<ul> <li>F5 Big IP</li> <li>F5OS</li> <li>Fiberhome</li> <li>FiberHome Switch</li> <li>Fibernet XMUX 4+</li> <li>Fiberstore GBN</li> <li>Fiberstore Switch</li> <li>Firebrick</li> <li>FireEye OS</li> <li>Force10 FTOS</li> <li>Fortinet Application Deliver Controller</li> <li>Fortinet FortiAuthenticator</li> <li>Fortinet Fortigate</li> <li>Fortinet FortiMail</li> <li>Fortinet FortiSandbox</li> <li>Fortinet FortiSwitch</li> <li>Fortinet FortiVoice</li> <li>Fortinet FortiWeb</li> <li>Fortinet FortiWLC</li> <li>FortiOS</li> <li>Foundry Networking</li> <li>FreeBSD</li> <li>FreshTomato</li> <li>FS.COM monitored pdu</li> <li>Fujitsu</li> <li>Fujitsu ETERNUS</li> <li>FUJITSU iRMC</li> <li>Fujitsu NAS</li> <li>FusionHub</li> </ul>"},{"location":"Support/Features/#g","title":"G","text":"<ul> <li>Gamatronic UPS Stack</li> <li>Gandi Packet Journey</li> <li>GE Digital Energy UPS</li> <li>GE MDS Orbit network Operating System</li> <li>GE Pulsar</li> <li>Geist PDU</li> <li>Geist Watchdog</li> <li>Generex UPS SNMP adapter</li> <li>Generic</li> <li>Generic Device</li> <li>Gestetner Printer</li> <li>GigaVUE</li> <li>Glass Way WDM EYDFA</li> <li>Grandstream HT</li> <li>Greenbone OS</li> <li>Gude Expert Transfer Switch</li> <li>gwd</li> </ul>"},{"location":"Support/Features/#h","title":"H","text":"<ul> <li>Halon</li> <li>Hanwha Techwin</li> <li>HAProxy ALOHA</li> <li>Hardware Appliance</li> <li>Hatteras Overdue DSLAM</li> <li>Helios IP</li> <li>Hikvision Camera</li> <li>Hikvision NVR</li> <li>Hillstone StoneOs</li> <li>Himoinsa Generator Sets</li> <li>Hirschmann Railswitch</li> <li>Hitachi Storage Virtualization Operating System (SVOS)</li> <li>HP Blade Management</li> <li>HP MSM</li> <li>HP PDU Management Module</li> <li>HP Print server</li> <li>HP ProCurve</li> <li>HP UPS</li> <li>HP Virtual Connect</li> <li>HPE 3PAR</li> <li>HPE Comware</li> <li>HPE Integrated Lights Out</li> <li>HPE iPDU</li> <li>HPE Managed Power Distribution Unit</li> <li>HPE MSA</li> <li>HPE OpenVMS</li> <li>HPE StoreEver MSL</li> <li>Huawei iBMC Management Console</li> <li>Huawei OceanStor</li> <li>Huawei SmartAX</li> <li>Huawei SmartAX MDU</li> <li>Huawei SMU</li> <li>Huawei UPS</li> <li>Huawei VRP</li> <li>HWg Poseidon</li> <li>HWg STE</li> <li>HWg STE2</li> <li>HWg WLD</li> <li>Hytera Repeater</li> </ul>"},{"location":"Support/Features/#i","title":"I","text":"<ul> <li>IBM AMM</li> <li>IBM DPI</li> <li>IBM i</li> <li>IBM IMM</li> <li>IBM Networking Operating System</li> <li>IBM Tape Library</li> <li>iBoot PDU</li> <li>Icotera OS</li> <li>ICR-OS</li> <li>ICT Digital Series Power Supply</li> <li>ICT Distribution Series</li> <li>ICT Modular Power System</li> <li>ICT Sine Wave Inverter</li> <li>Ifotec</li> <li>IgniteNet FusionSwitch</li> <li>IgniteNet HeliOS</li> <li>Illustra Network Camera</li> <li>Imco Power</li> <li>Imco Power LS110</li> <li>Infinera Groove</li> <li>Infinera PON</li> <li>Infinera XTM</li> <li>Infoblox</li> <li>Ingrasys iPoMan</li> <li>Innovaphone ISDN</li> <li>Inteno GW</li> <li>IONODES</li> <li>IP Infusion OcNOS</li> <li>IP Office Firmware</li> <li>ITWatchDogs Goose</li> </ul>"},{"location":"Support/Features/#j","title":"J","text":"<ul> <li>Jacarta InterSeptor</li> <li>Janitza</li> <li>Janitza UMG96</li> <li>Juniper EX2500</li> <li>Juniper JunOS</li> <li>Juniper JunOSe</li> <li>Juniper JWOS</li> <li>Juniper MSS</li> <li>Juniper ScreenOS</li> </ul>"},{"location":"Support/Features/#k","title":"K","text":"<ul> <li>Kemp Loadbalancer</li> <li>Konica-Minolta Printer</li> <li>KTI</li> <li>Kyocera Mita Printer</li> </ul>"},{"location":"Support/Features/#l","title":"L","text":"<ul> <li>Lambdatrail</li> <li>Lancom OS</li> <li>Lanier Printer</li> <li>LANTIME v6</li> <li>Lantronix SLC</li> <li>Lantronix UDS</li> <li>Last Mile Gear CTM</li> <li>Lenovo Cloud Network Operating System</li> <li>Lenovo XCC IMPI</li> <li>LenovoEMC</li> <li>Lexmark Printer</li> <li>Liebert</li> <li>LigoWave Infinity</li> <li>LigoWave LigoOS</li> <li>Linksys Smart Switch</li> <li>Linux</li> <li>Loadbalancer.org</li> <li>LogMaster</li> <li>Loop Telecom Operating System</li> </ul>"},{"location":"Support/Features/#m","title":"M","text":"<ul> <li>m0n0wall</li> <li>Maipu MyPower</li> <li>Marathon UPS</li> <li>McAfee Linux OS - ATD</li> <li>McAfee Linux OS - NSP</li> <li>McAfee SIEM Nitro</li> <li>Mcafee Web Gateway</li> <li>MegaTec NetAgent II</li> <li>Mellanox</li> <li>Meraki AP</li> <li>Meraki MX Appliance</li> <li>Meraki Switch</li> <li>Microsemi PowerDsine Midspan PoE</li> <li>Microsemi Synchronization Supply Unit</li> <li>Microsoft Windows</li> <li>Mikrotik RouterOS</li> <li>Mikrotik SwOS</li> <li>Mimosa</li> <li>Minkels RMS</li> <li>Mirth Connect</li> <li>Mitel Standard Linux</li> <li>MNI Microwave Radio</li> <li>MobileIron</li> <li>Montclair EDFA</li> <li>Motorola DOCSIS Cable Modem</li> <li>Motorola Netopia</li> <li>Moxa</li> <li>Moxa AWK</li> <li>MRV LambdaDriver</li> <li>MRV OptiDriver</li> </ul>"},{"location":"Support/Features/#n","title":"N","text":"<ul> <li>NEC Univerge</li> <li>NetApp</li> <li>NetBotz Environment Sensor</li> <li>NetBSD</li> <li>Netgear ProSafe</li> <li>NetMan Plus</li> <li>NetModule</li> <li>Netonix</li> <li>NetScaler SD-WAN</li> <li>Network Management Unit</li> <li>Nexans</li> <li>Nimble OS</li> <li>NOKIA ISAM</li> <li>Nokia SR OS (TiMOS)</li> <li>Novell Netware</li> <li>NRG Printer</li> <li>NTI</li> <li>Nutanix AOS</li> <li>NVT Phybridge</li> </ul>"},{"location":"Support/Features/#o","title":"O","text":"<ul> <li>OKI Printer</li> <li>Omnitron iConverter</li> <li>OneAccess</li> <li>Open Access Netspire</li> <li>Open-E</li> <li>OpenBSD</li> <li>Opengear</li> <li>OpenIndiana</li> <li>OpenSystems</li> <li>OpenWrt</li> <li>OPNsense</li> <li>Oracle ILOM</li> <li>Orvaldi UPS</li> </ul>"},{"location":"Support/Features/#p","title":"P","text":"<ul> <li>Packetflux SiteMonitor</li> <li>Packetlight</li> <li>Panasonic KX-NS Series</li> <li>Panduit PDU</li> <li>PanOS</li> <li>Papouch QUIDO</li> <li>Papouch TME</li> <li>Paradyne (by Zhone)</li> <li>Patton SmartNode</li> <li>PBI Digital Decoder</li> <li>PBN</li> <li>PBN P2P CP100 Series Platform</li> <li>Pegasus</li> <li>Pepwave</li> <li>Perle</li> <li>pfSense</li> <li>Pica8 OS</li> <li>Ping only</li> <li>PLANET</li> <li>Polycom Videoconferencing System</li> <li>Powercode BMU</li> <li>PowerWalker UPS</li> <li>PowerWalker VFI</li> <li>Prime Infrastructure</li> <li>Procera Networks</li> <li>Proxim</li> <li>proxmox pve</li> <li>Pulse Secure</li> </ul>"},{"location":"Support/Features/#q","title":"Q","text":"<ul> <li>QNAP TurboNAS</li> <li>QTECH</li> <li>Quanta</li> <li>QuantaStor</li> </ul>"},{"location":"Support/Features/#r","title":"R","text":"<ul> <li>Radlan</li> <li>RADWIN</li> <li>Raisecom ROAP</li> <li>Raisecom ROS</li> <li>Raritan EMX</li> <li>Raritan KVM</li> <li>Raritan PDU</li> <li>RAy</li> <li>RAy3</li> <li>RecoveryOS</li> <li>Red Lion Sixnet</li> <li>Redback Networks SmartEdge</li> <li>Redlion N-Tron</li> <li>Ribbon GSX</li> <li>Ribbon SBC</li> <li>Ricoh Printer</li> <li>Rittal CMC</li> <li>Rittal CMC III PU</li> <li>Rittal IT Chiller</li> <li>Rittal LCP</li> <li>Rittal LCP DX Chiller</li> <li>Riverbed</li> <li>RNX UPDU</li> <li>Rohde &amp; Schwarz</li> <li>Rubrik</li> <li>Ruckus Wireless HotZone</li> <li>Ruckus Wireless SmartZone</li> <li>Ruckus Wireless Unleashed</li> <li>Ruckus Wireless ZoneDirector</li> <li>Ruijie Networks</li> </ul>"},{"location":"Support/Features/#s","title":"S","text":"<ul> <li>SAF CFM</li> <li>SAF Integra B</li> <li>SAF Integra E</li> <li>SAF Integra W</li> <li>SAF Integra X</li> <li>SAF Tehnika</li> <li>Sagem ADR IONOS</li> <li>Samsung Printer</li> <li>Savin Printer</li> <li>Schleifenbauer SPDM</li> <li>Schneider PowerLogic</li> <li>SCS KS</li> <li>Sensatronics EM1</li> <li>Sensatronics ITTM</li> <li>ServersCheck</li> <li>ServerTech Sentry3</li> <li>ServerTech Sentry4</li> <li>Sharp Printer</li> <li>SIAE Alfoplus 80HD</li> <li>Siemens Ruggedcom Switches (ROS)</li> <li>Siemens SCALANCE</li> <li>Siklu Wireless</li> <li>Silver Peak VXOA</li> <li>Sinetica UPS</li> <li>SM-OS</li> <li>SmartOptics DCP-M Series</li> <li>SmartOptics M-Series</li> <li>SmartOptics T-Series</li> <li>snr</li> <li>snr-erd</li> <li>Socomec Net Vision</li> <li>Socomec PDU</li> <li>Software Appliance</li> <li>Solid Optics EDFAMUX</li> <li>SonicWALL</li> <li>Sophos UTM Firewall</li> <li>Sophos XG</li> <li>Stormshield NS-BSD</li> <li>Stulz GMBH Klimatechnik</li> <li>Sub10 Systems</li> <li>Sun OpenSolaris</li> <li>Sun Solaris</li> <li>Supermicro Switch</li> <li>Symbol AP</li> <li>SyncServer</li> <li>Synology DSM</li> </ul>"},{"location":"Support/Features/#t","title":"T","text":"<ul> <li>Tait Infra93 Series</li> <li>Tait TN Admin OS</li> <li>Tandberg Magnum</li> <li>technicolor TG MediaAcces</li> <li>Tegile IntelliFlash</li> <li>Telco Systems BiNOS</li> <li>Telco Systems BiNOX</li> <li>Teldat</li> <li>TelePresence Codec</li> <li>TelePresence Conductor</li> <li>Teleste Luminato</li> <li>teltonika rutos</li> <li>Teltonika RutOS RUTX Series</li> <li>Teradici PCoIP</li> <li>Terra</li> <li>Thomson DOCSIS Cable Modem</li> <li>Thomson Speedtouch</li> <li>Tomato</li> <li>TopVision</li> <li>Toshiba Printer</li> <li>Toshiba RemotEye4</li> <li>TP-Link JetStream</li> <li>TP-Link Switch</li> <li>Transition</li> <li>Tranzeo</li> <li>TRENDnet Switch</li> <li>Tripp Lite PowerAlert</li> <li>TrueNAS</li> <li>TSC Printer</li> <li>Tycon Systems TPDIN</li> </ul>"},{"location":"Support/Features/#u","title":"U","text":"<ul> <li>Ubiquiti AirFiber</li> <li>Ubiquiti AirFiber 60</li> <li>Ubiquiti AirFiber LTU</li> <li>Ubiquiti AirOS</li> <li>Ubiquiti Edgepower</li> <li>Ubiquiti UniFi</li> <li>Ubiquoss PON</li> <li>Ucopia</li> <li>UFiber</li> <li>UHP Networks VSAT Terminal</li> <li>UniPing</li> </ul>"},{"location":"Support/Features/#v","title":"V","text":"<ul> <li>V-Solution</li> <li>Vanguard ApplicationsWare</li> <li>Vertiv Avocent MergePoint Unity</li> <li>Vertiv PDU</li> <li>Video Communication Server</li> <li>Viprinux</li> <li>Viptela</li> <li>Vivotek Camera</li> <li>VMware ESXi</li> <li>VMware SD-WAN</li> <li>VMware vCenter</li> <li>Volius</li> <li>Voswall</li> <li>Vubiq Networks</li> <li>Vutlan</li> <li>Vyatta</li> <li>VyOS</li> </ul>"},{"location":"Support/Features/#w","title":"W","text":"<ul> <li>Watchguard Fireware</li> <li>Waystream iBOS</li> <li>Web-Thermo-Hygrometer</li> <li>WebPower</li> <li>West Mountain RMCU</li> <li>WISI Tangram</li> <li>WTI CONSOLE</li> <li>WTI MPC</li> <li>WTI POWER</li> </ul>"},{"location":"Support/Features/#x","title":"X","text":"<ul> <li>Xerox Printer</li> <li>Xirrus ArrayOS</li> </ul>"},{"location":"Support/Features/#z","title":"Z","text":"<ul> <li>ZebraNet</li> <li>Zhone MXK</li> <li>Zmtel Greenpacket</li> <li>ZTE ZXA10</li> <li>ZTE ZXR10</li> <li>ZXDSL</li> <li>ZyXEL AC</li> <li>ZyXEL DSLAM</li> <li>ZyXEL Ethernet Switch</li> <li>ZyXEL IES MSAN</li> <li>ZyXEL IES-5000 DSLAM</li> <li>ZyXEL NWA</li> <li>ZyXEL Prestige</li> <li>ZyXEL ZyWALL</li> </ul>"},{"location":"Support/Install%20Validation/","title":"Install validation","text":"<p>With a lot of configuration possibilities, manually editing config.php means it's not uncommon that mistakes get made. It's also impossible to validate user input in config.php when you're just using a text editor :)</p> <p>So, to try and help with some of the general issues people come across we've put together a simple validation tool which at present will:</p> <ul> <li>Validate config.php from a php perspective including whitespace   where it shouldn't be.</li> <li>Connection to your MySQL server to verify credentials.</li> <li>Checks if you are running the older alerting system.</li> <li>Checks your rrd directory setup if not running rrdcached.</li> <li>Checks disk space for where /opt/librenms is installed.</li> <li>Checks location to fping</li> <li>Tests MySQL strict mode being enabled</li> <li>Tests for files not owned by librenms user (if configured)</li> </ul> <p>Optionally you can also pass -m and a module name for that to be tested. Current modules are:</p> <ul> <li>mail - This will validate your mail transport configuration.</li> <li>dist-poller - This will test your distributed poller configuration.</li> <li>rrdcheck - This will test your rrd files to see if they are   unreadable or corrupted (source of broken graphs).</li> </ul> <p>You can run validate.php as <code>root</code> by executing <code>./validate.php</code> within your install directory.</p> <p>The output will provide you either a clean bill of health or a list of things you need to fix:</p> <p>OK - This is a good thing, you can skip over these :)</p> <p>WARN - You probably want to check this out.</p> <p>FAIL - This is going to need your attention!</p>"},{"location":"Support/Install%20Validation/#validate-from-the-webui","title":"Validate from the WebUI","text":"<p>You can validate your LibreNMS install from the WebUI, using the nav bar and clicking on the little Gear Icon -&gt; Validate Config. </p> <p> </p> <p>Then You should see the results of validate.</p> <p>Below is just example of the results.</p> <p></p>"},{"location":"Support/Performance/","title":"Performance optimisations","text":"<p>This document will give you some guidance on optimising your setup.</p> <p>The suggestions are in a rough order of how much impact they will have.</p>"},{"location":"Support/Performance/#rrdcached","title":"RRDCached","text":"<p>We absolutely recommend running this, it will save on IO load. RRDCached</p>"},{"location":"Support/Performance/#mysql-optimisation","title":"MySQL Optimisation","text":"<p>It's advisable after 24 hours of running MySQL that you run MySQL Tuner which will make suggestions on things you can change specific to your setup.</p> <p>One recommendation we can make is that you set the following in my.cnf under a [mysqld] group:</p> <pre><code>innodb_flush_log_at_trx_commit = 0\n</code></pre> <p>You can also set this to 2. This will have the possibility that you could lose up to 1 second on mysql data in the event MySQL crashes or your server does but it provides an amazing difference in IO use.</p>"},{"location":"Support/Performance/#polling-modules","title":"Polling modules","text":"<p>Review the graph of poller module time take under gear &gt; pollers &gt; performance to see what modules are consuming poller time. This data is shown per device under device &gt; graphs &gt; poller.</p> <p>Disable polling (and discovery) modules that you do not need. You can do this globally in <code>config.php</code> like:</p> <p>Disable OSPF polling</p> <p>poller/poller_modules</p> <pre><code>lnms config:set poller_modules.ospf false\n</code></pre> <p>You can disable modules globally then re-enable the module per device or the opposite way. For a list of modules please see Poller modules</p>"},{"location":"Support/Performance/#snmp-max-repeaters","title":"SNMP Max Repeaters","text":"<p>We have support for SNMP Max repeaters which can be handy on devices where we poll a lot of ports or bgp sessions for instance and where snmpwalk or snmpbulkwalk is used. This needs to be enabled on a per device basis under edit device -&gt; snmp -&gt; Max repeaters.</p> <p>You can also set this globally with the config option <code>$config['snmp']['max_repeaters'] = X;</code>.</p> <p>It's advisable to test the time taken to snmpwalk IF-MIB or something similar to work out what the best value is. To do this run the following but replace -REPEATERS- with varying numbers from 10 upto around 50. You will also need to set the correct snmp version, hostname and community string:</p> <p><code>time snmpbulkwalk -v2c -cpublic HOSTNAME -Cr-REPEATERS- -M /opt/librenms/mibs -m IF-MIB IfEntry</code></p> <p>NOTE: Do not go blindly setting this value as you can impact polling negatively.</p>"},{"location":"Support/Performance/#snmp-max-oids","title":"SNMP Max OIDs","text":"<p>For sensors polling we now do bulk snmp gets to speed things up. By default this is ten but you can overwrite this per device under edit device -&gt; snmp -&gt; Max OIDs.</p> <p>You can also set this globally with the config option <code>$config['snmp']['max_oid'] = X;</code>.</p> <p>NOTE: It is advisable to monitor sensor polling when you change this to ensure you don't set the value too high.</p>"},{"location":"Support/Performance/#fping-tuning","title":"fping tuning","text":"<p>You can change some of the default fping options used globally or per device. The defaults are:</p> <p>poller/ping</p> <pre><code>lnms config:set fping_options.timeout 500\nlnms config:set fping_options.count 3\nlnms config:set fping_options.interval 500\n</code></pre> <p>If your devices are slow to respond then you will need to increase the timeout value and potentially the interval value. However if your network is stable, you can increase poller performance by dropping the count value to 1 and/or the timeout+millsec value to 200 or 300:</p> <p>poller/ping</p> <pre><code>lnms config:set fping_options.timeout 300\nlnms config:set fping_options.count 1\nlnms config:set fping_options.interval 300\n</code></pre> <p>This will mean that we no longer delay each icmp packet sent (we send 3 in total by default) by 0.5 seconds. With only 1 icmp packet being sent then we will receive a response quicker. The defaults mean it will take at least 1 second for a response no matter how quick the icmp packet is returned.</p>"},{"location":"Support/Performance/#optimise-poller-wrapper","title":"Optimise poller-wrapper","text":"<p><code>poller-wrapper.py</code> defaults to using 16 threads, this isn't necessarily optimal. A general rule of thumb is 2 threads per core but we suggest  that you play around with lowering / increasing the number until you  get the optimal value. Note KEEP in MIND that this doesn't  always help, it depends on your system and CPU. So be careful.  This can be changed by going to the cron job for librenms.  Usually in <code>/etc/cron.d/librenms</code> and changing the \"16\"</p> <p><pre><code>*/5  *    * * *   librenms    /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16\n</code></pre> Please also see Dispatcher Service</p>"},{"location":"Support/Performance/#recursive-dns","title":"Recursive DNS","text":"<p>If your install uses hostnames for devices and you have quite a lot then it's advisable to setup a local recursive dns instance on the LibreNMS server. Something like pdns-recursor can be used and then configure <code>/etc/resolv.conf</code> to use 127.0.0.1 for queries.</p>"},{"location":"Support/Performance/#per-port-polling-experimental","title":"Per port polling - experimental","text":"<p>By default the polling ports module will walk ifXEntry + some items from ifEntry regardless of the port. So if a port is marked as deleted because you don't want to see them or it's disabled then we still collect data. For the most part this is fine as the walks are quite quick. However for devices with a lot of ports and good % of those are either deleted or disabled then this approach isn't optimal. So to counter this you can enable 'selected port polling' per device within the edit device -&gt; misc section or by globally enabling it (not recommended): <code>$config['polling']['selected_ports'] = true;</code>. This is truly not recommended, as it has been proven to affect cpu usage of your poller negatively. You can also set it for a specific OS: <code>$config['os']['ios']['polling']['selected_ports'] = true;</code>.</p> <p>Running <code>./scripts/collect-port-polling.php</code> will poll your devices with both full and selective polling, display a table with the difference and optionally enable or disable selected ports polling for devices which would benefit from a change. Note that it doesn't continuously re-evaluate this, it will only be updated when the script is run. There are a number of options:</p> <p><pre><code>-h &lt;device id&gt; | &lt;device hostname wildcard&gt;  Poll single device or wildcard hostname\n-e &lt;percentage&gt;                              Enable/disable selected ports polling for devices which would benefit &lt;percentage&gt; from a change\n</code></pre> If you want to run this script to have it set selected port polling on devices where a change of 10% or more is evaluated, run it with <code>./scripts/collect-port-polling.php -e 10</code>. But note: it will not blindly use only the 10%. There is a second condition that the change has to be more than one second in polling time.</p>"},{"location":"Support/Performance/#web-interface","title":"Web interface","text":""},{"location":"Support/Performance/#http2","title":"HTTP/2","text":"<p>If you are running https then you should enable http/2 support in whatever web server you use:</p> <p>For Nginx (1.9.5 and above) change <code>listen 443 ssl;</code> to <code>listen 443 ssl http2;</code> in the Virtualhost config.</p> <p>For Apache (2.4.17 and above) set <code>Protocols h2 http/1.1</code> in the Virtualhost config.</p>"},{"location":"Support/Performance/#php-opcache","title":"PHP-opcache","text":"<p>A lot of performance can be gained from setting up <code>php-opcache</code> correctly.</p> <p>Note: Memory based caching with PHP cli will increase memory usage and slow things down. File based caching is not as fast as memory based and is more likely to have stale cache issues.</p> <p>Some distributions allow separate cli, mod_php and php-fpm configurations, we can use this to set the optimal config.</p>"},{"location":"Support/Performance/#for-web-servers-using-mod_php-and-php-fpm","title":"For web servers using mod_php and php-fpm","text":"<p>Update your web PHP opcache.ini.  Possible locations: <code>/etc/php/8.1/fpm/conf.d/opcache.ini</code>, <code>/etc/php.d/opcache.ini</code>, or <code>/etc/php/conf.d/opcache.ini</code>.</p> <pre><code>zend_extension=opcache\nopcache.enable=1\nopcache.memory_consumption=256\n</code></pre> <p>If you are having caching issues, you can clear the opcache by simply restarting httpd or php-fpm.</p>"},{"location":"Support/Performance/#for-pollers","title":"For pollers","text":"<p>Create a cache directory that is writable by the librenms user first: <code>sudo mkdir -p /tmp/cache &amp;&amp; sudo chmod 775 /tmp/cache &amp;&amp; sudo chown -R librenms /tmp/cache</code></p> <p>Update your PHP opcache.ini.  Possible locations: <code>/etc/php/8.1/cli/conf.d/opcache.ini</code>, <code>/etc/php.d/opcache.ini</code>, or <code>/etc/php/conf.d/opcache.ini</code>.</p> <pre><code>zend_extension=opcache.so\nopcache.enable=1\nopcache.enable_cli=1\nopcache.file_cache=\"/tmp/cache/\"\nopcache.file_cache_only=0\nopcache.file_cache_consistency_checks=1\nopcache.memory_consumption=256\n</code></pre> <p>If you are having caching issues, you can clear the file based opcache with <code>rm -rf /tmp/cache</code>.</p> <p>Debian 12 users, be aware php 8.2 current stable version (8.2.7) creates segmentation faults when opcache uses file cache. Issue should be this one https://github.com/php/php-src/issues/10914  Using sury packages or disabling file cache solves the issue</p>"},{"location":"Support/Poller%20Support/","title":"lnms device:poll","text":"<p>This document will explain how to use <code>lnms device:poll</code> to debug issues or manually running to process data.</p>"},{"location":"Support/Poller%20Support/#command-options","title":"Command options","text":"<pre><code>Description:\n  Poll data from device(s) as defined by discovery\n\nUsage:\n  device:poll [options] [--] &lt;device spec&gt;\n\nArguments:\n  device spec            Device spec to poll: device_id, hostname, wildcard (*), odd, even, all\n\nOptions:\n  -m, --modules=MODULES  Specify single module to be run. Comma separate modules, submodules may be added with /\n  -x, --no-data          Do not update datastores (RRD, InfluxDB, etc)\n  -h, --help             Display help for the given command. When no command is given display help for the list command\n  -q, --quiet            Do not output any message\n  -V, --version          Display this application version\n      --ansi|--no-ansi   Force (or disable --no-ansi) ANSI output\n  -n, --no-interaction   Do not ask any interactive question\n      --env[=ENV]        The environment the command should run under\n  -v|vv|vvv, --verbose   Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug\n</code></pre>"},{"location":"Support/Poller%20Support/#poller-wrapper","title":"Poller Wrapper","text":"<p>We have a <code>poller-wrapper.py</code> script by Job Snijders. This script is currently the default.</p> <p>If you need to debug the output of poller-wrapper.py then you can add <code>-d</code> to the end of the command - it is NOT recommended to do this in cron.</p>"},{"location":"Support/Poller%20Support/#poller-config","title":"Poller config","text":"<p>These are the default poller config items. You can globally disable a module by setting it to 0. If you just want to disable it for one device then you can do this within the WebUI Device -&gt; Edit -&gt; Modules.</p> <p>poller/poller_modules</p> <pre><code>lnms config:set poller_modules.unix-agent false\nlnms config:set poller_modules.os true\nlnms config:set poller_modules.ipmi true\nlnms config:set poller_modules.sensors true\nlnms config:set poller_modules.processors true\nlnms config:set poller_modules.mempools true\nlnms config:set poller_modules.storage true\nlnms config:set poller_modules.netstats true\nlnms config:set poller_modules.hr-mib true\nlnms config:set poller_modules.ucd-mib true\nlnms config:set poller_modules.ipSystemStats true\nlnms config:set poller_modules.ports true\nlnms config:set poller_modules.nac false\nlnms config:set poller_modules.bgp-peers true\nlnms config:set poller_modules.junose-atm-vp false\nlnms config:set poller_modules.printer-supplies false\nlnms config:set poller_modules.ucd-diskio true\nlnms config:set poller_modules.wireless true\nlnms config:set poller_modules.ospf true\nlnms config:set poller_modules.cisco-ipsec-flow-monitor false\nlnms config:set poller_modules.cisco-remote-access-monitor false\nlnms config:set poller_modules.cisco-cef false\nlnms config:set poller_modules.slas false\nlnms config:set poller_modules.cisco-mac-accounting false\nlnms config:set poller_modules.cipsec-tunnels false\nlnms config:set poller_modules.cisco-ace-loadbalancer false\nlnms config:set poller_modules.cisco-ace-serverfarms false\nlnms config:set poller_modules.cisco-asa-firewall false\nlnms config:set poller_modules.cisco-voice false\nlnms config:set poller_modules.cisco-cbqos false\nlnms config:set poller_modules.cisco-otv false\nlnms config:set poller_modules.cisco-vpdn false\nlnms config:set poller_modules.netscaler-vsvr false\nlnms config:set poller_modules.aruba-controller false\nlnms config:set poller_modules.entity-physical true\nlnms config:set poller_modules.entity-state false\nlnms config:set poller_modules.applications true\nlnms config:set poller_modules.availability true\nlnms config:set poller_modules.stp true\nlnms config:set poller_modules.vminfo false\nlnms config:set poller_modules.ntp true\nlnms config:set poller_modules.services true\nlnms config:set poller_modules.loadbalancers false\nlnms config:set poller_modules.mef false\nlnms config:set poller_modules.mef false\n</code></pre>"},{"location":"Support/Poller%20Support/#os-based-poller-config","title":"OS based Poller config","text":"<p>You can enable or disable modules for a specific OS by add corresponding line in <code>config.php</code> OS based settings have preference over global. Device based settings have preference over all others</p> <p>Poller performance improvement can be achieved by deactivating all modules that are not supported by specific OS.</p> <p>E.g. to deactivate spanning tree but activate unix-agent module for linux OS</p> <p>poller/poller_modules</p> <pre><code>lnms config:set os.linux.poller_modules.stp false\nlnms config:set os.linux.poller_modules.unix-agent true\n</code></pre>"},{"location":"Support/Poller%20Support/#poller-modules","title":"Poller modules","text":"<p><code>unix-agent</code>: Enable the check_mk agent for external support for applications.</p> <p><code>system</code>: Provides information on some common items like uptime, sysDescr and sysContact.</p> <p><code>os</code>: Os detection. This module will pick up the OS of the device.</p> <p><code>ipmi</code>: Enables support for IPMI if login details have been provided for IPMI.</p> <p><code>sensors</code>: Sensor detection such as Temperature, Humidity, Voltages + More.</p> <p><code>processors</code>: Processor support for devices.</p> <p><code>mempools</code>: Memory detection support for devices.</p> <p><code>storage</code>: Storage detection for hard disks</p> <p><code>netstats</code>: Statistics for IP, TCP, UDP, ICMP and SNMP.</p> <p><code>hr-mib</code>: Host resource support.</p> <p><code>ucd-mib</code>: Support for CPU, Memory and Load.</p> <p><code>ipSystemStats</code>: IP statistics for device.</p> <p><code>ports</code>: This module will detect all ports on a device excluding ones configured to be ignored by config options.</p> <p><code>xdsl</code>: This module will collect more metrics for xdsl interfaces.</p> <p><code>nac</code>: Network Access Control (NAC) or 802.1X support.</p> <p><code>bgp-peers</code>: BGP detection and support.</p> <p><code>junose-atm-vp</code>: Juniper ATM support.</p> <p><code>printer-supplies</code>: Toner levels support.</p> <p><code>ucd-diskio</code>: Disk I/O support.</p> <p><code>wifi</code>: WiFi Support for those devices with support.</p> <p><code>ospf</code>: OSPF Support.</p> <p><code>cisco-ipsec-flow-monitor</code>: IPSec statistics support.</p> <p><code>cisco-remote-access-monitor</code>: Cisco remote access support.</p> <p><code>cisco-cef</code>: CEF detection and support.</p> <p><code>slas</code>: SLA detection and support.</p> <p><code>cisco-mac-accounting</code>: MAC Address account support.</p> <p><code>cipsec-tunnels</code>: IPSec tunnel support.</p> <p><code>cisco-ace-loadbalancer</code>: Cisco ACE Support.</p> <p><code>cisco-ace-serverfarms</code>: Cisco ACE Support.</p> <p><code>netscaler-vsvr</code>: Netscaler support.</p> <p><code>aruba-controller</code>: Aruba wireless controller support.</p> <p><code>entity-physical</code>: Module to pick up the devices hardware support.</p> <p><code>applications</code>: Device application support.</p> <p><code>availability</code>: Device Availability Calculation.</p> <p><code>cisco-asa-firewall</code>: Cisco ASA firewall support.</p>"},{"location":"Support/Poller%20Support/#running","title":"Running","text":"<p>Here are some examples of running poller from within your install directory.</p> <pre><code>lnms device:poll localhost\n\nlnms device:poll localhost -m ports\n</code></pre>"},{"location":"Support/Poller%20Support/#debugging","title":"Debugging","text":"<p>To provide debugging output you will need to run the poller process with the <code>-vv</code> flag. You can do this either against all modules, single or multiple modules:</p> <p>All Modules</p> <pre><code>lnms device:poll localhost -vv\n</code></pre> <p>Single Module</p> <pre><code>lnms device:poll localhost -m ports -vv\n</code></pre> <p>Multiple Modules</p> <pre><code>lnms device:poll localhost -m ports,entity-physical -vv\n</code></pre> <p>Using <code>-vv</code> shouldn't output much sensitive information, <code>-vvv</code> will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions.</p> <p>The output will contain:</p> <p>DB Updates</p> <p>RRD Updates</p> <p>SNMP Response</p>"},{"location":"Support/Remote-Monitoring-VPN/","title":"Remote monitoring using tinc VPN","text":"<p>This article describes how to use tinc to connect several remote sites and their subnets to your central monitoring server. This will let you connect to devices on remote private IP ranges through one gateway on each site, routing them securely back to your LibreNMS installation.</p>"},{"location":"Support/Remote-Monitoring-VPN/#configuring-the-monitoring-server","title":"Configuring the monitoring server","text":"<p>tinc should be available on nearly all Linux distributions via package management. If you are running something different, just take a look at tinc's homepage to find an appropriate version for your operating system: https://www.tinc-vpn.org/download/</p> <p>I am going to describe the setup for Debian-based systems, but there are virtually no differences for e.g. CentOS or similar.</p> <ul> <li>First make sure your firewall accepts connections on port 655 UDP   and TCP.</li> <li>Then install tinc via <code>apt-get install tinc</code>.</li> <li>Create the following directory structure to hold all your   configuration files: <code>mkdir -p /etc/tinc/myvpn/hosts</code> \"myvpn\" is   your VPN network's name and can be chosen freely.</li> <li>Create your main configuration file: <code>vim /etc/tinc/myvpn/tinc.conf</code></li> </ul> <pre><code>Name = monitoring\nAddressFamily = ipv4\nDevice = /dev/net/tun\n</code></pre> <ul> <li>Next we need network up- and down scripts to define a few network   settings for inside our VPN: <code>vim /etc/tinc/myvpn/tinc-up</code></li> </ul> <pre><code>#!/bin/sh\nifconfig $INTERFACE 10.6.1.1 netmask 255.255.255.0\nip route add 10.6.1.1/24 dev $INTERFACE\nip route add 10.0.0.0/22 dev $INTERFACE\nip route add 10.100.0.0/22 dev $INTERFACE\nip route add 10.200.0.0/22 dev $INTERFACE\n</code></pre> <ul> <li> <p>In this example we have 10.6.1.1 as the VPN IP address for the   monitoring server on a /24 subnet. $INTERFACE will be automatically   substituted with the name of the VPN, \"myvpn\" in this case. Then we   have a route for the VPN subnet, so we can reach other sites via   their VPN address. The last 3 lines designate the remote subnets. In   the example I want to reach devices on three different remote   private /22 subnets and be able to monitor devices on them from this   server, so I set up routes for each of those remote sites in my   tinc-up script.</p> </li> <li> <p>The tinc-down script is relatively simple as it just removes the   custom interface, which should get rid of the routes as well: <code>vim   /etc/tinc/myvpn/tinc-down</code></p> </li> </ul> <pre><code>#!/bin/sh\nifconfig $INTERFACE down\n</code></pre> <ul> <li>Make sure your scripts scan be executed: <code>chmod +x   /etc/tinc/myvpn/tinc-*</code></li> <li>As a last step we need a host configuration file. This should be   named the same as the \"Name\" you defined in tinc.conf: <code>vim   /etc/tinc/myvpn/hosts/monitoring</code></li> </ul> <pre><code>Subnet = 10.6.1.1/32\n</code></pre> <p>On the monitoring server we will just fill in the subnet and not define its external IP address to make sure it listens on all available external interfaces.</p> <ul> <li>It's time to use tinc to create our key-pair: <code>tincd -n myvpn -K</code></li> <li>Now the file <code>/etc/tinc/myvpn/hosts/monitoring</code> should have an RSA   public key appended to it and your private key should reside in   <code>/etc/tinc/myvpn/rsa_key.priv</code>.</li> <li>To make sure that the connection will be restored after each reboot,   you can add your VPN name to <code>/etc/tinc/nets.boot</code>.</li> <li>Now you can start tinc with <code>tincd -n myvpn</code> and it will listen for   your remote sites to connect to it.</li> </ul>"},{"location":"Support/Remote-Monitoring-VPN/#remote-site-configuration","title":"Remote site configuration","text":"<p>Essentially the same steps as for your central monitoring server apply for all remote gateway devices. These can be routers, or just any computer or VM running on the remote subnet, able to reach the internet with the ability to forward IP packets externally.</p> <ul> <li>Install tinc</li> <li>Create directory structure: <code>mkdir -p /etc/tinc/myvpn/hosts</code></li> <li>Create main configuration: <code>vim /etc/tinc/myvpn/tinc.conf</code></li> </ul> <pre><code>Name = remote1\nAddressFamily = ipv4\nDevice = /dev/net/tun\nConnectTo = monitoring\n</code></pre> <ul> <li>Create up script: <code>vim /etc/tinc/myvpn/tinc-up</code></li> </ul> <pre><code>#!/bin/sh\nifconfig $INTERFACE 10.6.1.2 netmask 255.255.255.0\nip route add 10.6.1.2/32 dev $INTERFACE\n</code></pre> <ul> <li>Create down script: <code>vim /etc/tinc/myvpn/tinc-down</code></li> </ul> <pre><code>#!/bin/sh\nifconfig $INTERFACE down\n</code></pre> <ul> <li>Make executable: <code>chmod +x /etc/tinc/myvpn/tinc*</code></li> <li>Create device configuration: <code>vim /etc/tinc/myvpn/hosts/remote1</code></li> </ul> <pre><code>Address = 198.51.100.2\nSubnet = 10.0.0.0/22\n</code></pre> <p>This defines the device IP address outside of the VPN and the subnet it will expose.</p> <ul> <li>Copy over the monitoring server's host configuration (including the   embedded public key) and add it's external IP address: <code>vim   /etc/tinc/myvpn/hosts/monitoring</code></li> </ul> <pre><code>Address = 203.0.113.6\nSubnet = 10.6.1.1/32\n\n-----BEGIN RSA PUBLIC KEY-----\nVeDyaqhKd4o2Fz...\n</code></pre> <ul> <li>Generate this device's keys: <code>tincd -n myvpn -K</code></li> <li>Copy over this devices host file including the embedded public key   to your monitoring server.</li> <li>Add the name for the VPN to<code>/etc/tinc/nets.boot</code> if you want to   autostart the connection upon reboot.</li> <li>Start tinc: <code>tincd -n myvpn</code></li> </ul> <p>These steps can basically be repeated for every remote site just  choosing different names and other internal IP addresses. In my case  I connected 3 remote sites running behind Ubiquiti EdgeRouters. Since  those devices let me install software through Debian's package  management it was very easy to set up. Just create the necessary  configuration files and network scripts on each device and distribute  the host configurations including the public keys to each device that  will actively connect back.</p> <p>Now you can add all devices you want to monitor in LibreNMS using their internal IP address on the remote subnets or using some form of name resolution. I opted to declare the most important devices in my <code>/etc/hosts</code> file on the monitoring server.</p> <p>As an added bonus tinc is a mesh VPN, so in theory you could specify several \"ConnectTo\" on each device and they should hold connections even if one network path goes down.</p>"},{"location":"Support/SNMP-Configuration-Examples/","title":"SNMP configuration examples","text":""},{"location":"Support/SNMP-Configuration-Examples/#devices","title":"Devices","text":""},{"location":"Support/SNMP-Configuration-Examples/#cisco","title":"Cisco","text":""},{"location":"Support/SNMP-Configuration-Examples/#adaptive-security-appliance-asa","title":"Adaptive Security Appliance (ASA)","text":"<p>ASDM</p> <ol> <li>Launch ASDM and connect to your device</li> <li>Go to Configuration &gt; Management Access &gt; SNMP</li> <li>Add your community string</li> <li>Add in the \"SNMP Host Access List\" section your LibreNMS server IP address</li> <li>Click Apply and Save</li> </ol> <p>CLI</p> <pre><code># SNMPv2c\n\nsnmp-server community &lt;YOUR-COMMUNITY&gt;\nsnmp-server contact &lt;YOUR-CONTACT&gt;\nsnmp-server location &lt;YOUR-LOCATION&gt;\nsnmp-server host &lt;INTERFACE&gt; &lt;LIBRENMS-IP&gt; poll community &lt;YOUR-COMMUNITY&gt; version 2c\n\n# SNMPv3\n\nsnmp-server group &lt;GROUP-NAME&gt; v3 priv\nsnmp-server user &lt;USER-NAME&gt; &lt;GROUP-NAME&gt; v3 auth sha &lt;AUTH-PASSWORD&gt; priv aes 128 &lt;PRIV-PASSWORD&gt;\nsnmp-server contact &lt;YOUR-CONTACT&gt;\nsnmp-server location &lt;YOUR-LOCATION&gt;\nsnmp-server host &lt;INTERFACE&gt; &lt;LIBRENMS-IP&gt; poll version 3 &lt;USER-NAME&gt;\n</code></pre> <p>Note: If the device is unable to find the SNMP user, reboot the ASA. Once rebooted, continue the steps as normal.</p>"},{"location":"Support/SNMP-Configuration-Examples/#ios-ios-xe","title":"IOS / IOS XE","text":"<pre><code># SNMPv2c\n\nsnmp-server community &lt;YOUR-COMMUNITY&gt; RO\nsnmp-server contact &lt;YOUR-CONTACT&gt;\nsnmp-server location &lt;YOUR-LOCATION&gt;\n\n# SNMPv3\n\nsnmp-server group &lt;GROUP-NAME&gt; v3 priv\nsnmp-server user &lt;USER-NAME&gt; &lt;GROUP-NAME&gt; v3 auth sha &lt;AUTH-PASSWORD&gt; priv aes 128 &lt;PRIV-PASSWORD&gt;\nsnmp-server contact &lt;YOUR-CONTACT&gt;\nsnmp-server location &lt;YOUR-LOCATION&gt;\n\n# Note: The following is also required if using SNMPv3 and you want to populate the FDB table, STP info and others.\n\nsnmp-server group &lt;GROUP-NAME&gt; v3 priv context vlan- match prefix\n</code></pre> <p>Note: If the device is unable to find the SNMP user, reboot the ASA. Once rebooted, continue the steps as normal.</p>"},{"location":"Support/SNMP-Configuration-Examples/#nx-os","title":"NX-OS","text":"<pre><code># SNMPv2c\n\nsnmp-server community &lt;YOUR-COMMUNITY&gt; RO\nsnmp-server contact &lt;YOUR-CONTACT&gt;\nsnmp-server location &lt;YOUR-LOCATION&gt;\n\n# SNMPv3\n\nsnmp-server user &lt;USER-NAME&gt; &lt;GROUP-NAME&gt; v3 auth sha &lt;AUTH-PASSWORD&gt; priv aes 128 &lt;PRIV-PASSWORD&gt;\nsnmp-server contact &lt;YOUR-CONTACT&gt;\nsnmp-server location &lt;YOUR-LOCATION&gt;\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#wireless-lan-controller-wlc","title":"Wireless LAN Controller (WLC)","text":"<ol> <li>Access the web admin page and log in</li> <li>If you are running version 8.1 and later, on the new dashboard click \"Advanced\"</li> <li>Go to management Tab</li> <li>On SNMP sub-menu, select \"Communities\"</li> <li>Click \"New...\"</li> <li>Add your community name and leave IP addresses empty</li> <li>Click Apply and Save</li> </ol>"},{"location":"Support/SNMP-Configuration-Examples/#eaton","title":"Eaton","text":""},{"location":"Support/SNMP-Configuration-Examples/#network-card-ms","title":"Network Card-MS","text":"<ol> <li>Connect to the Web UI of the device</li> <li>Upgrade to the latest available manufacturer firmware which applies to your hardware revision. Refer to the release notes.   For devices which can use the Lx releases, do install LD.</li> <li>After rebooting the card (safe for connected load), configure Network, System and Access Control. Save config for each step.</li> <li>Configure SNMP. The device defaults to both SNMP v1 and v3 enabled, with default credentials. Disable what you do not need. SNMP v3 works, but uses MD5/DES. You may have to add another section to your SNMP credentials table in LibreNMS. Save.</li> </ol>"},{"location":"Support/SNMP-Configuration-Examples/#hpe-3par","title":"HPE / 3PAR","text":""},{"location":"Support/SNMP-Configuration-Examples/#comware","title":"Comware","text":"<p>SNMPv2c</p> <pre><code>snmp-agent community read &lt;YOUR-COMMUNITY&gt;\nsnmp-agent sys-info contact &lt;YOUR-CONTACT&gt;\nsnmp-agent sys-info location &lt;YOUR-LOCATION&gt;\nsnmp-agent sys-info version all\nsnmp-agent packet max-size 6000\n</code></pre> <p><code>packet max-size</code> is required for some walks to complete, but the path must support fragmentation.</p> <p>SNMPv3</p> <pre><code>snmp-agent mib-view excluded ExcludeAll snmp\nsnmp-agent group v3 V3ROGroup privacy read-view ViewDefault write-view ExcludeAll\nsnmp-agent usm-user v3 &lt;USER&gt; V3ROGroup simple authentication-mode sha &lt;AuthKey&gt; privacy-mode aes128 &lt;PrivacyKey&gt;\nsnmp-agent sys-info contact &lt;YOUR-CONTACT&gt;\nsnmp-agent sys-info location &lt;YOUR-LOCATION&gt;\nsnmp-agent sys-info version v3\nundo snmp-agent sys-info version v1 v2c\nsnmp-agent packet max-size 6000\n</code></pre> <p><code>packet max-size</code> is required for some walks to complete, but the path must support fragmentation.</p>"},{"location":"Support/SNMP-Configuration-Examples/#inform-os-32x","title":"Inform OS 3.2.x","text":"<ul> <li>Access the CLI</li> <li>Add an SNMP Manager with your LibreNMS IP address:</li> </ul> <pre><code>addsnmpmgr &lt;librenms ip&gt;\n</code></pre> <ul> <li>Add your SNMP community:</li> </ul> <pre><code>setsnmppw &lt;community&gt;\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#infoblox","title":"Infoblox","text":""},{"location":"Support/SNMP-Configuration-Examples/#nios-7x","title":"NIOS 7.x+","text":"<ol> <li>Access the web admin page and log in</li> <li>Go to Grid tab &gt; Grid Manager</li> <li>In the right menu select \"Grid properties\"</li> <li>Select \"SNMP\" menu</li> <li>Click \"Enable SNMPv1/SNMPv2 Queries\"</li> <li>Add your community</li> <li>Click Save &amp; Close</li> </ol>"},{"location":"Support/SNMP-Configuration-Examples/#juniper","title":"Juniper","text":""},{"location":"Support/SNMP-Configuration-Examples/#junos-os","title":"Junos OS","text":"<p>for SNMPv1/v2c</p> <pre><code>set snmp description description\nset snmp location location\nset snmp contact contact\nset snmp community YOUR-COMMUNITY authorization read-only\n</code></pre> <p>for SNMPv3 (authPriv):</p> <pre><code>set snmp v3 usm local-engine user authpriv authentication-sha authentication-password YOUR_AUTH_SECRET\nset snmp v3 usm local-engine user authpriv privacy-aes128 privacy-password YOUR_PRIV_SECRET\nset snmp v3 vacm security-to-group security-model usm security-name authpriv group mysnmpv3\nset snmp v3 vacm access group mysnmpv3 default-context-prefix security-model any security-level authentication read-view mysnmpv3view\nset snmp v3 vacm access group mysnmpv3 default-context-prefix security-model any security-level privacy read-view mysnmpv3view\nset snmp view mysnmpv3view oid iso include\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#mikrotik","title":"Mikrotik","text":""},{"location":"Support/SNMP-Configuration-Examples/#routeros-6x","title":"RouterOS 6.x","text":"<p>CLI SNMP v2 Configuration</p> <p><pre><code>/snmp community\nset [ find default=yes ] read-access=no\nadd addresses=&lt;ALLOWED-SRC-IPs/NETMASK&gt; name=&lt;COMMUNITY&gt;\n/snmp\nset contact=\"&lt;NAME&gt;\" enabled=yes engine-id=&lt;ENGINE ID&gt; location=\"&lt;LOCALTION&gt;\"\n</code></pre> Notes:</p> <ul> <li>About the snmp community commands:<ul> <li>The commands change the default snmp community.  It is probably possible to create a new one instead.</li> <li> specify the address and host (not network) netmask of the LibreNMS server.  Example: 192.168.8.71/32 <li>trap-version=2 must also be specified if some other trap-version has been set</li> <li>trap-interfaces may also be used to limit the interfaces the router listens on</li> <li>About the snmp command:<ul> <li>contact, engine-id and location are optional</li> <li>trap-community is probably required if a new snmp community has been created.</li> </ul> </li> <p>CLI SNMP v3 Configuration for authPriv <pre><code>/snmp community\nadd name=\"&lt;COMMUNITY&gt;\" addresses=\"&lt;ALLOWED-SRC-IPs/NETMASK&gt;\"\nset \"&lt;COMMUNITY&gt;\" authentication-password=\"&lt;AUTH_PASS&gt;\" authentication-protocol=MD5\nset \"&lt;COMMUNITY&gt;\" encryption-password=\"&lt;ENCRYP_PASS&gt;\" encryption-protocol=AES\nset \"&lt;COMMUNITY&gt;\" read-access=yes write-access=no security=private\n#Disable public SNMP\nset public read-access=no write-access=no security=private\n/snmp\nset contact=\"&lt;NAME&gt;\" enabled=yes engine-id=\"&lt;ENGINE ID&gt;\" location=\"&lt;LOCALTION&gt;\"\n</code></pre> Notes:</p> <ul> <li>Use password with length of min 8 chars</li> </ul> <p>Notes for both SNMP v2 and v3</p> <ul> <li>In some cases of advanced routing one may need to set explicitly the source IP address from which the SNMP daemon will reply - <code>/snmp set src-address=&lt;SELF_IP_ADDRESS&gt;</code></li> </ul>"},{"location":"Support/SNMP-Configuration-Examples/#palo-alto","title":"Palo Alto","text":""},{"location":"Support/SNMP-Configuration-Examples/#panos-6x7x","title":"PANOS 6.x/7.x","text":"<ol> <li>Access the web admin page and log in</li> <li>Go to Device tab &gt; Setup</li> <li>Go to the sub-tab \"Operations\"</li> <li>Click \"SNMP Setup\"</li> <li>Enter your SNMP community and then click \"OK\"</li> <li>Click Apply</li> </ol> <p>Note that you need to allow SNMP on the needed interfaces. To do that you need to create a network \"Interface Mgmt\" profile for standard interface and allow SNMP under \"Device &gt; Management &gt; Management Interface Settings\" for out of band management interface.</p> <p>One may also configure SNMP from the command line, which is useful when you need to configure more than one firewall for SNMP monitoring. Log into the firewall(s) via ssh, and perform these commands for basic SNMPv3 configuration:</p> <pre><code>username@devicename&gt; configure\nusername@devicename# set deviceconfig system service disable-snmp no\nusername@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso oid 1.3.6.1\nusername@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso option include\nusername@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso mask 0xf0\nusername@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv authpwd YOUR_AUTH_SECRET\nusername@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv privpwd YOUR_PRIV_SECRET\nusername@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv view pa\nusername@devicename# set deviceconfig system snmp-setting snmp-system location \"Yourcity, Yourcountry [60.4,5.31]\"\nusername@devicename# set deviceconfig system snmp-setting snmp-system contact noc@your.org\nusername@devicename# commit\nusername@devicename# exit\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#ubiquiti","title":"Ubiquiti","text":""},{"location":"Support/SNMP-Configuration-Examples/#edgeos","title":"EdgeOs","text":"<p>If you use the HTTP interface: 1. Access the legacy web admin page and log in 1. Go to System &gt; Advanced Configuration 1. Go to the sub-tab \"SNMP\" &gt; \"Community\" 1. Click \"Add Community Group\" 1. Enter your SNMP community, ip address and click submit 1. Go to System &gt; Summary 1. Go to the sub-tab \"Description\" 1. Enter your System Name, System Location and System Contact. 1. Click submit 1. Click \"Save Configuration\"</p> <p>If you use CLI: <pre><code>username@devicename&gt; enable\nusername@devicename# configure\nusername@devicename (Config)# snmp-server community \"public\" ro\nusername@devicename (Config)# snmp-server sysname \"devicename\"\nusername@devicename (Config)# snmp-server contact \"noc@example.com\"\nusername@devicename (Config)# exit\nusername@devicename# write memory\n</code></pre></p>"},{"location":"Support/SNMP-Configuration-Examples/#vmware","title":"VMware","text":""},{"location":"Support/SNMP-Configuration-Examples/#esxesxi-5x6x","title":"ESX/ESXi 5.x/6.x","text":"<p>Log on to your ESX server by means of ssh. You may have to enable the ssh service in the GUI first. From the CLI, execute the following commands:</p> <pre><code>esxcli system snmp set --authentication SHA1\nesxcli system snmp set --privacy AES128\nesxcli system snmp hash --auth-hash YOUR_AUTH_SECRET --priv-hash YOUR_PRIV_SECRET --raw-secret\n</code></pre> <p>This command produces output like this</p> <pre><code>   Authhash: f3d8982fc28e8d1346c26eee49eb2c4a5950c934\n   Privhash: 0596ab30b315576a4e9f7d7bde65bf49b749e335\n</code></pre> <p>Now define a SNMPv3 user:</p> <pre><code>esxcli system snmp set --users &lt;username&gt;/f3d8982fc28e8d1346c26eee49eb2c4a5950c934/0596ab30b315576a4e9f7d7bde65bf49b749e335/priv\nesxcli system snmp set -L \"Yourcity, Yourcountry [60.4,5.3]\"\nesxcli system snmp set -C noc@your.org\nesxcli system snmp set --enable true\n</code></pre> <p>Note: In case of snmp timeouts, disable the firewall with <code>esxcli network firewall set --enabled false</code> If snmp timeouts still occur with firewall disabled, migrate VMs if needed and reboot ESXi host.</p>"},{"location":"Support/SNMP-Configuration-Examples/#vcenter-6x","title":"VCenter 6.x","text":"<p>Log on to your ESX server by means of ssh. You may have to enable the ssh service in the GUI first. From the CLI, execute the following commands:</p> <pre><code>snmp.set --authentication SHA1\nsnmp.set --privacy AES128\nsnmp.hash --auth_hash YOUR_AUTH_SECRET --priv_hash YOUR_PRIV_SECRET --raw_secret true\n</code></pre> <p>This command produces output like this</p> <pre><code>   Privhash: 0596ab30b315576a4e9f7d7bde65bf49b749e335\n   Authhash: f3d8982fc28e8d1346c26eee49eb2c4a5950c934\n</code></pre> <p>Now define a SNMPv3 user:</p> <pre><code>snmp.set --users authpriv/f3d8982fc28e8d1346c26eee49eb2c4a5950c934/0596ab30b315576a4e9f7d7bde65bf49b749e335/priv\nsnmp.enable\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#operating-systems","title":"Operating systems","text":""},{"location":"Support/SNMP-Configuration-Examples/#linux-snmpd-v2","title":"Linux (snmpd v2)","text":"<p>Replace your snmpd.conf file by the example below and edit it with appropriate community in \"RANDOMSTRINGGOESHERE\".</p> <pre><code>vi /etc/snmp/snmpd.conf\n</code></pre> <pre><code># Change RANDOMSTRINGGOESHERE to your preferred SNMP community string\ncom2sec readonly  default         RANDOMSTRINGGOESHERE\n\ngroup MyROGroup v2c        readonly\nview all    included  .1                               80\naccess MyROGroup \"\"      any       noauth    exact  all    none   none\n\nsyslocation Rack, Room, Building, City, Country [GPSX,Y]\nsyscontact Your Name &lt;your@email.address&gt;\n\n#Distro Detection\nextend distro /usr/bin/distro\n#Hardware Detection (uncomment to enable)\n#extend hardware '/bin/cat /sys/devices/virtual/dmi/id/product_name'\n#extend manufacturer '/bin/cat /sys/devices/virtual/dmi/id/sys_vendor'\n#extend serial '/bin/cat /sys/devices/virtual/dmi/id/product_serial'\n</code></pre> <p>NOTE: On some systems the snmpd is running as its own user, which means it can't read <code>/sys/devices/virtual/dmi/id/product_serial</code> which is mode 0400. One solution is to include <code>@reboot chmod 444 /sys/devices/virtual/dmi/id/product_serial</code> in the crontab for root or equivalent.</p> <p>Non-x86 or SMBIOS-based systems, such as ARM-based Raspberry Pi units should query device tree locations for this metadata, for example: <pre><code>extend hardware '/bin/cat /sys/firmware/devicetree/base/model'\nextend serial '/bin/cat /sys/firmware/devicetree/base/serial-number'\n</code></pre></p> <p>The LibreNMS server include a copy of this example here:</p> <pre><code>/opt/librenms/snmpd.conf.example\n</code></pre> <p>The binary /usr/bin/distro must be copied from the original source repository:</p> <pre><code>curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro\nchmod +x /usr/bin/distro\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#linux-snmpd-v3","title":"Linux (snmpd v3)","text":"<p>Go to /etc/snmp/snmpd.conf</p> <p>Open the file in vi or nano /etc/snmp/snmpd.conf and add the following line to create SNMPV3 User (replace username and passwords with your own):</p> <pre><code>createUser authPrivUser SHA \"authPassword\" AES \"privPassword\"\n</code></pre> <p>Make sure the agent listens to all interfaces by adding the following line inside snmpd.conf:</p> <pre><code>agentAddress udp:161,udp6:161\n</code></pre> <p>This line simply means listen to connections across all interfaces IPv4 and IPv6 respectively</p> <p>Uncomment and change the following line to give read access to the username created above (rouser is what LibreNMS uses) :</p> <pre><code>#rouser authPrivUser priv\n</code></pre> <p>Change the following details inside snmpd.conf</p> <pre><code>syslocation Rack, Room, Building, City, Country [GPSX,Y]\nsyscontact Your Name &lt;your@email.address&gt;\n</code></pre> <p>Save and exit the file</p>"},{"location":"Support/SNMP-Configuration-Examples/#restart-the-snmpd-service","title":"Restart the snmpd service","text":""},{"location":"Support/SNMP-Configuration-Examples/#centos-6-red-hat-6","title":"CentOS 6 / Red hat 6","text":"<pre><code>service snmpd restart\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#centos-7-red-hat-7","title":"CentOS 7 / Red hat 7","text":"<pre><code>systemctl restart snmpd\n</code></pre> <p>Add SNMP to Firewalld</p> <pre><code>firewall-cmd --zone=public --permanent --add-service=snmp\nfirewall-cmd --reload\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#ubuntu","title":"Ubuntu","text":"<pre><code>service snmpd restart\n</code></pre>"},{"location":"Support/SNMP-Configuration-Examples/#arch-linux-snmpd-v2","title":"Arch Linux (snmpd v2)","text":"<ol> <li>Install SNMP Package <code>pacman -S net-snmp</code></li> <li>create SNMP folder <code>mkdir /etc/snmp/</code></li> <li>set community <code>echo rocommunity read_only_community_string &gt;&gt; /etc/snmp/snmpd.conf</code></li> <li>set contact <code>echo syscontact Firstname Lastname &gt;&gt; /etc/snmp/snmpd.conf</code></li> <li>set location <code>echo syslocation L69 4RX &gt;&gt; /etc/snmp/snmpd.conf</code></li> <li>enable startup <code>systemctl enable snmpd.service</code></li> <li>start snmp <code>systemctl restart snmpd.service</code></li> </ol>"},{"location":"Support/SNMP-Configuration-Examples/#windows-server-2008-r2","title":"Windows Server 2008 R2","text":"<ol> <li>Log in to your Windows Server 2008 R2</li> <li>Start \"Server Manager\" under \"Administrative Tools\"</li> <li>Click \"Features\" and then click \"Add Feature\"</li> <li>Check (if not checked) \"SNMP Service\", click \"Next\" until \"Install\"</li> <li>Start \"Services\" under \"Administrative Tools\"</li> <li>Edit \"SNMP Service\" properties</li> <li>Go to the security tab</li> <li>In \"Accepted community name\" click \"Add\" to add your community string and permission</li> <li>In \"Accept SNMP packets from these hosts\" click \"Add\" and add your    LibreNMS server IP address</li> <li>Validate change by clicking \"Apply\"</li> </ol>"},{"location":"Support/SNMP-Configuration-Examples/#windows-server-2012-r2-and-newer","title":"Windows Server 2012 R2 and newer","text":""},{"location":"Support/SNMP-Configuration-Examples/#gui","title":"GUI","text":"<ol> <li>Log in to your Windows Server 2012 R2 or newer</li> <li>Start \"Server Manager\" under \"Administrative Tools\"</li> <li>Click \"Manage\" and then \"Add Roles and Features\"</li> <li>Continue by pressing \"Next\" to the \"Features\" menu</li> <li>Install (if not installed) \"SNMP Service\"</li> <li>Start \"Services\" under \"Administrative Tools\"</li> <li>Edit \"SNMP Service\" properties</li> <li>Go to the security tab</li> <li>In \"Accepted community name\" click \"Add\" to add your community string and permission</li> <li>In \"Accept SNMP packets from these hosts\" click \"Add\" and add your    LibreNMS server IP address</li> <li>Validate change by clicking \"Apply\"</li> </ol>"},{"location":"Support/SNMP-Configuration-Examples/#powershell","title":"PowerShell","text":"<p>The following example will install SNMP, set the Librenms IP and set a read only community string. Replace <code>$IP</code> and <code>$communitystring</code> with your values.</p> <pre><code>Install-WindowsFeature -Name 'SNMP-Service','RSAT-SNMP'\nNew-ItemProperty -Path \"HKLM:\\SYSTEM\\CurrentControlSet\\services\\SNMP\\Parameters\\PermittedManagers\"  -Name 2 -Value $IP\nNew-ItemProperty -Path \"HKLM:\\SYSTEM\\CurrentControlSet\\services\\SNMP\\Parameters\\ValidCommunities\"  -Name $communitystring -Value 4\n</code></pre> <p>Note: SNMPv3 can be supported on Windows platforms with the use of Net-SNMP.</p>"},{"location":"Support/SNMP-Configuration-Examples/#mac-osx","title":"Mac OSX","text":"<p>Step 1: <code>sudo nano /etc/snmp/snmpd.conf</code></p> <pre><code>#Allow read-access with the following SNMP Community String:\nrocommunity public\n\n# all other settings are optional but recommended.\n\n# Location of the device\nsyslocation data centre A\n\n# Human Contact for the device\nsyscontact SysAdmin\n\n# System Name of the device\nsysName SystemName\n\n# the system OID for this device. This is optional but recommended,\n# to identify this as a MAC OS system.\nsysobjectid 1.3.6.1.4.1.8072.3.2.16\n</code></pre> <p>Step 2:</p> <pre><code>sudo launchctl load -w /System/Library/LaunchDaemons/org.net-snmp.snmpd.plist\n</code></pre>"},{"location":"Support/Device-Notes/AsuswrtMerlin/","title":"Asuswrt-Merlin","text":"<p>To use Wireless Sensors on AsuswrtMerlin, an agent of sorts is required. The purpose of the agent is to execute on the client (AsuswrtMerlin) side, to ensure that the needed Wireless Sensor information is returned for SNMP queries (from LibreNMS).</p>"},{"location":"Support/Device-Notes/AsuswrtMerlin/#installation","title":"Installation","text":""},{"location":"Support/Device-Notes/AsuswrtMerlin/#asuswrtmerlin","title":"AsuswrtMerlin","text":"<p>Two items are required on the AsuswrtMerlin side - scripts to generate the necessary information (for SNMP replies), and an SNMP extend configuration update (to return the information vs. the expected query).</p> <p>1: Install the scripts:</p> <p>Copy the scripts from librenms-agent/snmp/Openwrt - preferably inside /etc/librenms on AsuswrtMerlin (and add this directory to /etc/sysupgrade.conf, to survive firmware updates).</p> <p>The only file that needs to be edited is wlInterfaces.txt, which is a mapping from the wireless interfaces, to the desired display name in LibreNMS. For example, <pre><code>wlan0,wl-2.4G\nwlan1,wl-5.0G\n</code></pre></p> <p>2: Update the AsuswrtMerlin SNMP configuration, adding extend support for the Wireless Sensor queries:</p> <p><code>vi /etc/config/snmpd</code>, adding the following entries (assuming the scripts are installed in /etc/librenms, and are executable), and update the network interfaces as needed to match the hardware,</p> <pre><code>config extend\n        option name     interfaces\n        option prog     \"/bin/cat /etc/librenms/wlInterfaces.txt\"\nconfig extend\n        option name     clients-wlan0\n        option prog     \"/etc/librenms/wlClients.sh wlan0\"\nconfig extend\n        option name     clients-wlan1\n        option prog     \"/etc/librenms/wlClients.sh wlan1\"\nconfig extend\n        option name     clients-wlan\n        option prog     \"/etc/librenms/wlClients.sh\"\nconfig extend\n        option name     frequency-wlan0\n        option prog     \"/etc/librenms/wlFrequency.sh wlan0\"\nconfig extend\n        option name     frequency-wlan1\n        option prog     \"/etc/librenms/wlFrequency.sh wlan1\"\nconfig extend\n        option name     rate-tx-wlan0-min\n        option prog     \"/etc/librenms/wlRate.sh wlan0 tx min\"\nconfig extend\n        option name     rate-tx-wlan0-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan0 tx avg\"\nconfig extend\n        option name     rate-tx-wlan0-max\n        option prog     \"/etc/librenms/wlRate.sh wlan0 tx max\"\nconfig extend\n        option name     rate-tx-wlan1-min\n        option prog     \"/etc/librenms/wlRate.sh wlan1 tx min\"\nconfig extend\n        option name     rate-tx-wlan1-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan1 tx avg\"\nconfig extend\n        option name     rate-tx-wlan1-max\n        option prog     \"/etc/librenms/wlRate.sh wlan1 tx max\"\nconfig extend\n        option name     rate-rx-wlan0-min\n        option prog     \"/etc/librenms/wlRate.sh wlan0 rx min\"\nconfig extend\n        option name     rate-rx-wlan0-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan0 rx avg\"\nconfig extend\n        option name     rate-rx-wlan0-max\n        option prog     \"/etc/librenms/wlRate.sh wlan0 rx max\"\nconfig extend\n        option name     rate-rx-wlan1-min\n        option prog     \"/etc/librenms/wlRate.sh wlan1 rx min\"\nconfig extend\n        option name     rate-rx-wlan1-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan1 rx avg\"\nconfig extend\n        option name     rate-rx-wlan1-max\n        option prog     \"/etc/librenms/wlRate.sh wlan1 rx max\"\nconfig extend\n        option name     noise-floor-wlan0\n        option prog     \"/etc/librenms/wlNoiseFloor.sh wlan0\"\nconfig extend\n        option name     noise-floor-wlan1\n        option prog     \"/etc/librenms/wlNoiseFloor.sh wlan1\"\nconfig extend\n        option name     snr-wlan0-min\n        option prog     \"/etc/librenms/wlSNR.sh wlan0 min\"\nconfig extend\n        option name     snr-wlan0-avg\n        option prog     \"/etc/librenms/wlSNR.sh wlan0 avg\"\nconfig extend\n        option name     snr-wlan0-max\n        option prog     \"/etc/librenms/wlSNR.sh wlan0 max\"\nconfig extend\n        option name     snr-wlan1-min\n        option prog     \"/etc/librenms/wlSNR.sh wlan1 min\"\nconfig extend\n        option name     snr-wlan1-avg\n        option prog     \"/etc/librenms/wlSNR.sh wlan1 avg\"\nconfig extend\n        option name     snr-wlan1-max\n        option prog     \"/etc/librenms/wlSNR.sh wlan1 max\"\n</code></pre> <p>NOTE, any of the scripts above can be tested simply by running the corresponding command.</p> <p>NOTE, to check the output data from any of these extensions, on the LibreNMS machine, run (for example),</p> <p><code>snmpwalk -v 2c -c public -Osqnv &lt;openwrt-host&gt; 'NET-SNMP-EXTEND-MIB::nsExtendOutputFull.\"frequency-wlan0\"'</code></p> <p>NOTE, on the LibreNMS machine, ensure that snmp-mibs-downloader is installed.</p> <p>NOTE, on the AsuswrtMerlin machine, ensure that distro is installed (i.e. that the OS is correctly detected!).</p> <p>3: Restart the snmp service on AsuswrtMerlin:</p> <p><code>service snmpd restart</code></p> <p>And then wait for discovery and polling on LibreNMS!</p>"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/","title":"Carel pCOweb Devices","text":"<p>The pCOWeb card is used to interface the pCO system to networks that use the HVAC protocols based on the Ethernet physical standard such as SNMP. The problem with this card is that the implementation is based on the final manufacturer of the HVAC (Heating, Ventilation and Air Conditioning) and not based on a standard given by Carel. So each pCOweb card has a different configuration that needs a different MIB depending on the manufacturers implementation.</p> <p>The main problem is that LibreNMS will by default discover this card as pCOweb and not as your real manufacturer like it should. A solution was found to bypass this issue, but it's LibreNMS independent and you need to first configure your pCOWeb through the admin interface.</p>"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#accessing-the-pcoweb-card","title":"Accessing the pCOWeb card","text":"<p>Log on to the configuration page of the pCOWeb card. The pCOWeb interface is not always found when accessing the ip directly but rather a subdirectory. If you cant directly reach the configuration page try <code>&lt;ip address&gt;/config</code>. The default username and password is <code>admin/fadmin</code>. Modern browsers require you to enter this 2 or 3 times.</p>"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#configuring-the-pcoweb-card-snmp-for-librenms","title":"Configuring the pCOweb card SNMP for LibreNMS","text":"<p>First you need to configure your SNMP card using the admin interface. An SNMP tab in the configuration menu leaves you the choice to choose a System OID and a Enterprise OID. This is a little tricky but based on this information we defined a \"standard\" for all implementation of Carel products with LibreNMS.</p> <p></p> <p>The base Carel OID is 1.3.6.1.4.1.9839. To this OID we will add the final manufacturer Enterprise OID. You can find all enterprise OID following this link. This will allow us to create a specific support for this device. Librenms uses this value to detect which HVAC device is connected to the pCOWeb card.</p> <p>Example for the Rittal IT Chiller that uses a pCOweb card:</p> <ol> <li>Base Carel OID : 1.3.6.1.4.1.9839</li> <li>Rittal (the manufacturer) base enterprise OID : 2606</li> <li>Adding value to identify this device in LibreNMS : 1</li> <li>Complete System OID for a Rittal Chiller using a Carel pCOweb card: 1.3.6.1.4.1.9839.2606.1</li> <li>Use 9839 as Enterprise OID</li> </ol> <p>The way this works is that the pCOWeb card pretends to be another device. In reality the pCOWeb card just inserts the \"enterprise OID\" in place of the vendor id in the OID.</p> <p>In the table below you can find the values needed for devices which are already supported.</p>"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#supported-devices","title":"Supported devices","text":"<p>LibreNMS is ready for the devices listed in this table. You only need to configure your pCOweb card with the accorded System OID and Enterprise OID:</p> Manufacturer Description System OID Enterprise OID Rittal IT Chiller 1.3.6.1.4.1.9839.2606.1 9839 Rittal LCP DX 3311 1.3.6.1.4.1.9839.2606.3311 9839.2606"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#unsupported-devices","title":"Unsupported devices","text":"<p>After constructing the correct System OID for your SNMP card, you can start the LibreNMS new OS implementation and use this new OID as sysObjectID for the YAML definition file.</p>"},{"location":"Support/Device-Notes/Openwrt/","title":"OpenWRT","text":"<p>To use Wireless Sensors on Openwrt, an agent of sorts is required. The purpose of the agent is to execute on the client (Openwrt) side, to ensure that the needed Wireless Sensor information is returned for SNMP queries (from LibreNMS).</p>"},{"location":"Support/Device-Notes/Openwrt/#installation","title":"Installation","text":""},{"location":"Support/Device-Notes/Openwrt/#openwrt","title":"Openwrt","text":"<p>Two items are required on the Openwrt side - scripts to generate the necessary information (for SNMP replies), and an SNMP extend configuration update (to return the information vs. the expected query).</p> <p>1: Install the scripts:</p> <p>Copy the scripts from librenms-agent repository - preferably inside /etc/librenms on Openwrt (and add this directory to /etc/sysupgrade.conf, to survive firmware updates): <pre><code>wget -O /etc/librenms/wlClients.sh https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/Openwrt/wlClients.sh\nwget -O /etc/librenms/wlFrequency.sh https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/Openwrt/wlFrequency.sh\nwget -O /etc/librenms/wlInterfaces.txt https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/Openwrt/wlInterfaces.txt\nwget -O /etc/librenms/wlNoiseFloor.sh https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/Openwrt/wlNoiseFloor.sh\nwget -O /etc/librenms/wlRate.sh https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/Openwrt/wlRate.sh\nwget -O /etc/librenms/wlSNR.sh https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/Openwrt/wlSNR.sh\nwget -O /etc/librenms/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro\nchmod +x /etc/librenms/*.sh\nchmod +x /etc/librenms/distro\n</code></pre></p> <p>The only file that needs to be edited is wlInterfaces.txt, which is a mapping from the wireless interfaces, to the desired display name in LibreNMS. For example, <pre><code>wlan0,wl-2.4G\nwlan1,wl-5.0G\n</code></pre></p> <p>2: Update the Openwrt SNMP configuration, adding extend support for the OS detection and the Wireless Sensor queries:</p> <p><code>vi /etc/config/snmpd</code>, adding the following entries (assuming the scripts are installed in /etc/librenms, and are executable), and update the network interfaces as needed to match the hardware,</p> <pre><code>config extend\n        option name distro\n        option prog '/etc/librenms/distro'\nconfig extend\n        option name hardware\n        option prog '/bin/cat'\n        option args '/sys/firmware/devicetree/base/model'\nconfig extend\n        option name     interfaces\n        option prog     \"/bin/cat /etc/librenms/wlInterfaces.txt\"\nconfig extend\n        option name     clients-wlan0\n        option prog     \"/etc/librenms/wlClients.sh wlan0\"\nconfig extend\n        option name     clients-wlan1\n        option prog     \"/etc/librenms/wlClients.sh wlan1\"\nconfig extend\n        option name     clients-wlan\n        option prog     \"/etc/librenms/wlClients.sh\"\nconfig extend\n        option name     frequency-wlan0\n        option prog     \"/etc/librenms/wlFrequency.sh wlan0\"\nconfig extend\n        option name     frequency-wlan1\n        option prog     \"/etc/librenms/wlFrequency.sh wlan1\"\nconfig extend\n        option name     rate-tx-wlan0-min\n        option prog     \"/etc/librenms/wlRate.sh wlan0 tx min\"\nconfig extend\n        option name     rate-tx-wlan0-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan0 tx avg\"\nconfig extend\n        option name     rate-tx-wlan0-max\n        option prog     \"/etc/librenms/wlRate.sh wlan0 tx max\"\nconfig extend\n        option name     rate-tx-wlan1-min\n        option prog     \"/etc/librenms/wlRate.sh wlan1 tx min\"\nconfig extend\n        option name     rate-tx-wlan1-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan1 tx avg\"\nconfig extend\n        option name     rate-tx-wlan1-max\n        option prog     \"/etc/librenms/wlRate.sh wlan1 tx max\"\nconfig extend\n        option name     rate-rx-wlan0-min\n        option prog     \"/etc/librenms/wlRate.sh wlan0 rx min\"\nconfig extend\n        option name     rate-rx-wlan0-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan0 rx avg\"\nconfig extend\n        option name     rate-rx-wlan0-max\n        option prog     \"/etc/librenms/wlRate.sh wlan0 rx max\"\nconfig extend\n        option name     rate-rx-wlan1-min\n        option prog     \"/etc/librenms/wlRate.sh wlan1 rx min\"\nconfig extend\n        option name     rate-rx-wlan1-avg\n        option prog     \"/etc/librenms/wlRate.sh wlan1 rx avg\"\nconfig extend\n        option name     rate-rx-wlan1-max\n        option prog     \"/etc/librenms/wlRate.sh wlan1 rx max\"\nconfig extend\n        option name     noise-floor-wlan0\n        option prog     \"/etc/librenms/wlNoiseFloor.sh wlan0\"\nconfig extend\n        option name     noise-floor-wlan1\n        option prog     \"/etc/librenms/wlNoiseFloor.sh wlan1\"\nconfig extend\n        option name     snr-wlan0-min\n        option prog     \"/etc/librenms/wlSNR.sh wlan0 min\"\nconfig extend\n        option name     snr-wlan0-avg\n        option prog     \"/etc/librenms/wlSNR.sh wlan0 avg\"\nconfig extend\n        option name     snr-wlan0-max\n        option prog     \"/etc/librenms/wlSNR.sh wlan0 max\"\nconfig extend\n        option name     snr-wlan1-min\n        option prog     \"/etc/librenms/wlSNR.sh wlan1 min\"\nconfig extend\n        option name     snr-wlan1-avg\n        option prog     \"/etc/librenms/wlSNR.sh wlan1 avg\"\nconfig extend\n        option name     snr-wlan1-max\n        option prog     \"/etc/librenms/wlSNR.sh wlan1 max\"\n</code></pre> <p>NOTE, any of the scripts above can be tested simply by running the corresponding command.</p> <p>NOTE, to check the output data from any of these extensions, on the LibreNMS machine, run (for example),</p> <p><code>snmpwalk -v 2c -c public -Osqnv &lt;openwrt-host&gt; 'NET-SNMP-EXTEND-MIB::nsExtendOutputFull.\"frequency-wlan0\"'</code></p> <p>NOTE, on the LibreNMS machine, ensure that snmp-mibs-downloader is installed.</p> <p>NOTE, on the AsuswrtMerlin machine, ensure that distro is installed (i.e. that the OS is correctly detected!).</p> <p>3: Restart the snmp service on Openwrt:</p> <p><code>service snmpd restart</code></p> <p>And then wait for discovery and polling on LibreNMS!</p>"},{"location":"Support/Device-Notes/Routeros/","title":"RouterOS","text":"<p>This agent script will allow LibreNMS to run a script on a Mikrotik / RouterOS device to gather the vlan information from both /interface/vlan/ and /interface/bridge/vlan/</p>"},{"location":"Support/Device-Notes/Routeros/#installation","title":"Installation","text":"<ul> <li>Go to https://github.com/librenms/librenms-agent/tree/master/snmp/Routeros</li> <li>Copy and paste the contents of LNMS_vlans.scr file into a script within a RouterOS device.  Name this script LNMS_vlans. (This is NOT the same thing as creating a txt file and importing it into the Files section of the device)</li> <li>If you're unsure how to create the script.  Download the LNMS_vlans.scr file.  Rename to remove the .scr extension.  Copy this file onto all the Mikrotik devices you want to monitor.</li> <li>Open a Terminal / CLI on each tik and run this.  <code>{ :global txtContent [/file get LNMS_vlans contents]; /system/script/add name=LNMS_vlans owner=admin policy=ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon source=$txtContent ;}</code>  This will import the contents of that txt file into a script named LNMS_vlans</li> <li>Enable an SNMP community that has both READ and WRITE capabilities. This is important, otherwise, LibreNMS will not be able to run the above script. It is recommended to use SNMP v3 for this. </li> <li>Discover / Force rediscover your Mikrotik devices. After discovery has been completed the vlans menu should appear within LibreNMS for the device.</li> </ul>"},{"location":"Support/Device-Notes/Routeros/#important-note","title":"*** IMPORTANT NOTE ***","text":"<p>It is strongly recommended that SNMP service only be allowed to be communicated on a very limited set of IP addresses that LibreNMS and related systems will be coming from. (usually /32 address for each) because the write permission could allow an attack on a device. (such as dropping all firewall filters or changing the admin credentials) </p>"},{"location":"Support/Device-Notes/Routeros/#theory-of-operation","title":"Theory of operation:","text":"<p>Mikrotik vlan discovery plugin using the ability of ROS to \"fire up\" a script through SNMP.</p> <p>At first, LibreNMS check for the existence of the script, and if it is present, it will start the LNMS_vlans script. </p> <p>The script will gather information from: - /interface/bridge/vlan for tagged ports inside bridge - /interface/bridge/vlan for currently untagged ports inside bridge - /interface/bridge/port for ports PVID (untagged) inside bridge - /interface/vlan for vlan interfaces</p> <p>after the information is gathered, it is transmitted to LibreNMS over SNMP</p> <p>protocol is: type,vlanId,ifName  <p>i.e:  T,254,ether1 is translated to Tagged vlan 254 on port ether1</p> <p>U,100,wlan2 is translated to Untagged vlan 100 on port wlan2</p>"}]}