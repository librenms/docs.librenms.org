<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="LibreNMS user and developer documentation"><meta name=author content=LibreNMS><link href=https://docs.librenms.org/Developing/os/Initial-Detection/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-8.3.9"><title>Initial Detection - LibreNMS Docs</title><link rel=stylesheet href=../../../assets/stylesheets/main.1d29e8d0.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css><link rel=stylesheet href=../../../librenms.min.css><script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-79149977-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#discovery class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="LibreNMS Docs" class="md-header__button md-logo" aria-label="LibreNMS Docs" data-md-component=logo> <img src=../../../img/librenms.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> LibreNMS Docs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Initial Detection </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/librenms/librenms/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="LibreNMS Docs" class="md-nav__button md-logo" aria-label="LibreNMS Docs" data-md-component=logo> <img src=../../../img/librenms.svg alt=logo> </a> LibreNMS Docs </label> <div class=md-nav__source> <a href=https://github.com/librenms/librenms/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> General <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=General data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> General </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../Support/Features/ class=md-nav__link> Features </a> </li> <li class=md-nav__item> <a href=../../../General/Changelog/ class=md-nav__link> Changelog </a> </li> <li class=md-nav__item> <a href=../../../General/Welcome-to-Observium-users/ class=md-nav__link> Welcome to Observium users </a> </li> <li class=md-nav__item> <a href=../../../General/Acknowledgement/ class=md-nav__link> 3rd Party Libraries </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Installing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installing data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Installing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Installation/Install-LibreNMS/ class=md-nav__link> Installing LibreNMS </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> Other Methods <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Other Methods" data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Other Methods </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Installation/Docker/ class=md-nav__link> Docker </a> </li> <li class=md-nav__item> <a href=../../../Installation/Images/ class=md-nav__link> Virtual machines </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2_3 type=checkbox id=__nav_2_2_3> <label class=md-nav__link for=__nav_2_2_3> Older guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Older guides" data-md-level=3> <label class=md-nav__title for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> Older guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Installation/Installation-CentOS-6-Apache-Nginx/ class=md-nav__link> RHEL / CentOS 6 </a> </li> <li class=md-nav__item> <a href=../../../Installation/Installation-CentOS-7-Apache/ class=md-nav__link> RHEL / CentOS 7 - Apache </a> </li> <li class=md-nav__item> <a href=../../../Installation/Installation-CentOS-7-Nginx/ class=md-nav__link> RHEL / CentOS 7 - Nginx </a> </li> <li class=md-nav__item> <a href=../../../Installation/Installation-Ubuntu-1604-Apache/ class=md-nav__link> Ubuntu 16.04 - Apache </a> </li> <li class=md-nav__item> <a href=../../../Installation/Installation-Ubuntu-1604-Nginx/ class=md-nav__link> Ubuntu 16.04 - Nginx </a> </li> <li class=md-nav__item> <a href=../../../Installation/Installation-Ubuntu-1804-Apache/ class=md-nav__link> Ubuntu 18.04 - Apache </a> </li> <li class=md-nav__item> <a href=../../../Installation/Installation-Ubuntu-1804-Nginx/ class=md-nav__link> Ubuntu 18.04 - Nginx </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../General/Releases/ class=md-nav__link> Choosing a release </a> </li> <li class=md-nav__item> <a href=../../../General/Updating/ class=md-nav__link> Updating </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Getting started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting started" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Support/Adding-a-Device/ class=md-nav__link> Adding a device </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Device-Groups/ class=md-nav__link> Grouping Devices </a> </li> <li class=md-nav__item> <a href=../../../General/Callback-Stats-and-Privacy/ class=md-nav__link> Submitting stats </a> </li> <li class=md-nav__item> <a href=../../../Installation/Migrating-from-Observium/ class=md-nav__link> Migrating from Observium </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Extensions/Applications/ class=md-nav__link> Applications </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Billing-Module/ class=md-nav__link> Billing Module </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Agent-Setup/ class=md-nav__link> Check_MK Setup </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Dashboards/ class=md-nav__link> Dashboards </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Interface-Description-Parsing/ class=md-nav__link> Interface Description Parsing </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Network-Map/ class=md-nav__link> Network Map </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Syslog/ class=md-nav__link> Syslog </a> </li> <li class=md-nav__item> <a href=../../../Extensions/World-Map/ class=md-nav__link> World Map </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_9 type=checkbox id=__nav_4_9> <label class=md-nav__link for=__nav_4_9> Advanced Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced Setup" data-md-level=2> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> Advanced Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Support/1-Minute-Polling/ class=md-nav__link> 1 Minute Polling </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Authentication/ class=md-nav__link> Authentication Options </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Auto-Discovery/ class=md-nav__link> Auto-discovery Setup </a> </li> <li class=md-nav__item> <a href=../../../Support/Bare-Dashboard/ class=md-nav__link> Bare Dashboard </a> </li> <li class=md-nav__item> <a href=../../../Support/Cleanup-options/ class=md-nav__link> Cleanup Options </a> </li> <li class=md-nav__item> <a href=../../../Support/Configuration/ class=md-nav__link> Configuration Docs </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Customizing-the-Web-UI/ class=md-nav__link> Customizing the Web UI </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Dispatcher-Service/ class=md-nav__link> Dispatcher Service (RC) </a> </li> <li class=md-nav__item> <a href=../../../Support/Environment-Variables/ class=md-nav__link> Environment Variables </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Fast-Ping-Check/ class=md-nav__link> Fast Ping Checking </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Galera-Cluster/ class=md-nav__link> Galera Database Cluster </a> </li> <li class=md-nav__item> <a href=../../../Extensions/IRC-Bot-Extensions/ class=md-nav__link> IRC Bot Extensions </a> </li> <li class=md-nav__item> <a href=../../../Extensions/IRC-Bot/ class=md-nav__link> IRC Bot </a> </li> <li class=md-nav__item> <a href=../../../Extensions/OAuth-SAML/ class=md-nav__link> Oauth/SAML support </a> </li> <li class=md-nav__item> <a href=../../../Extensions/RRDCached/ class=md-nav__link> RRDCached </a> </li> <li class=md-nav__item> <a href=../../../Extensions/RRDTune/ class=md-nav__link> RRDTune </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Distributed-Poller/ class=md-nav__link> Scaling LibreNMS </a> </li> <li class=md-nav__item> <a href=../../../Extensions/SNMP-Proxy/ class=md-nav__link> SNMP Proxy </a> </li> <li class=md-nav__item> <a href=../../../Extensions/SNMP-Trap-Handler/ class=md-nav__link> SNMP Trap Handler </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Sub-Directory/ class=md-nav__link> Sub-directory Support </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Two-Factor-Auth/ class=md-nav__link> Two-Factor Auth </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Varnish/ class=md-nav__link> Varnish </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Alerting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Alerting data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Alerting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Alerting/ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Alerting/Rules/ class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Templates/ class=md-nav__link> Templates </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Transports/ class=md-nav__link> Transports </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Creating-Transport/ class=md-nav__link> Creating Transports </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Entities/ class=md-nav__link> Entities </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Macros/ class=md-nav__link> Macros </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Testing/ class=md-nav__link> Testing </a> </li> <li class=md-nav__item> <a href=../../../Alerting/Device-Dependencies/ class=md-nav__link> Device Dependencies </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> 3rd Party Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="3rd Party Integration" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 3rd Party Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1> Integrations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Integrations data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Extensions/Gateone/ class=md-nav__link> Gateone </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Graylog/ class=md-nav__link> Graylog </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Services/ class=md-nav__link> Nagios Plugins </a> </li> <li class=md-nav__item> <a href=../../../Extensions/NFSen/ class=md-nav__link> NFSen </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Oxidized/ class=md-nav__link> Oxidized </a> </li> <li class=md-nav__item> <a href=../../../Extensions/PeeringDB/ class=md-nav__link> PeeringDB </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Proxmox/ class=md-nav__link> Proxmox </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Rancid/ class=md-nav__link> Rancid </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Smokeping/ class=md-nav__link> Smokeping </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Weathermap/ class=md-nav__link> Weathermap </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1_11 type=checkbox id=__nav_6_1_11> <label class=md-nav__link for=__nav_6_1_11> Storing Metrics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Storing Metrics" data-md-level=3> <label class=md-nav__title for=__nav_6_1_11> <span class="md-nav__icon md-icon"></span> Storing Metrics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Extensions/Metric-Storage/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../../Extensions/metrics/Graphite/ class=md-nav__link> Graphite </a> </li> <li class=md-nav__item> <a href=../../../Extensions/metrics/InfluxDB/ class=md-nav__link> InfluxDB </a> </li> <li class=md-nav__item> <a href=../../../Extensions/metrics/OpenTSDB/ class=md-nav__link> OpenTSDB </a> </li> <li class=md-nav__item> <a href=../../../Extensions/metrics/Prometheus/ class=md-nav__link> Prometheus </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> API <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=API data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../API/ class=md-nav__link> Using the API </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_2 type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2> Endpoints <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Endpoints data-md-level=2> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Endpoints </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../API/Alerts/ class=md-nav__link> Alerts </a> </li> <li class=md-nav__item> <a href=../../../API/ARP/ class=md-nav__link> ARP </a> </li> <li class=md-nav__item> <a href=../../../API/Bills/ class=md-nav__link> Bills </a> </li> <li class=md-nav__item> <a href=../../../API/DeviceGroups/ class=md-nav__link> DeviceGroups </a> </li> <li class=md-nav__item> <a href=../../../API/Devices/ class=md-nav__link> Devices </a> </li> <li class=md-nav__item> <a href=../../../API/Inventory/ class=md-nav__link> Inventory </a> </li> <li class=md-nav__item> <a href=../../../API/Locations/ class=md-nav__link> Locations </a> </li> <li class=md-nav__item> <a href=../../../API/Logs/ class=md-nav__link> Logs </a> </li> <li class=md-nav__item> <a href=../../../API/Port_Groups/ class=md-nav__link> Port_Groups </a> </li> <li class=md-nav__item> <a href=../../../API/PortGroups/ class=md-nav__link> PortGroups </a> </li> <li class=md-nav__item> <a href=../../../API/Ports/ class=md-nav__link> Ports </a> </li> <li class=md-nav__item> <a href=../../../API/Routing/ class=md-nav__link> Routing </a> </li> <li class=md-nav__item> <a href=../../../API/Services/ class=md-nav__link> Services </a> </li> <li class=md-nav__item> <a href=../../../API/Switching/ class=md-nav__link> Switching </a> </li> <li class=md-nav__item> <a href=../../../API/System/ class=md-nav__link> System </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Getting help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting help" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Getting help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Support/ class=md-nav__link> How to get help </a> </li> <li class=md-nav__item> <a href=../../../Support/FAQ/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../../Support/Install%20Validation/ class=md-nav__link> Install Validation </a> </li> <li class=md-nav__item> <a href=../../../Support/Performance/ class=md-nav__link> Performance </a> </li> <li class=md-nav__item> <a href=../../../Support/Discovery%20Support/ class=md-nav__link> Discovery Support </a> </li> <li class=md-nav__item> <a href=../../../Support/Poller%20Support/ class=md-nav__link> Poller Support </a> </li> <li class=md-nav__item> <a href=../../../Support/Example-Hardware-Setup/ class=md-nav__link> Example Hardware Setups </a> </li> <li class=md-nav__item> <a href=../../../Support/Remote-Monitoring-VPN/ class=md-nav__link> Remote Monitoring VPN </a> </li> <li class=md-nav__item> <a href=../../../Support/SNMP-Configuration-Examples/ class=md-nav__link> SNMP Configuration Examples </a> </li> <li class=md-nav__item> <a href=../../../Support/Device-Troubleshooting/ class=md-nav__link> Device Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../Support/Device-Sensors/ class=md-nav__link> Device Sensors </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9 checked> <label class=md-nav__link for=__nav_9> Contributing + Developing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Contributing + Developing" data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Contributing + Developing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_1 type=checkbox id=__nav_9_1> <label class=md-nav__link for=__nav_9_1> Contributing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Contributing data-md-level=2> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Getting-Started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../../Using-Git/ class=md-nav__link> Using Git </a> </li> <li class=md-nav__item> <a href=../../Validating-Code/ class=md-nav__link> Validating Code </a> </li> <li class=md-nav__item> <a href=../../Code-Structure/ class=md-nav__link> Code Structure </a> </li> <li class=md-nav__item> <a href=../../Creating-Documentation/ class=md-nav__link> Creating Documentation </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Component/ class=md-nav__link> Component </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_2 type=checkbox id=__nav_9_2 checked> <label class=md-nav__link for=__nav_9_2> Support for a new OS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Support for a new OS" data-md-level=2> <label class=md-nav__title for=__nav_9_2> <span class="md-nav__icon md-icon"></span> Support for a new OS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Support-New-OS/ class=md-nav__link> Intro </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Initial Detection <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Initial Detection </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#discovery class=md-nav__link> Discovery </a> <nav class=md-nav aria-label=Discovery> <ul class=md-nav__list> <li class=md-nav__item> <a href=#discovery-logic class=md-nav__link> Discovery Logic </a> </li> <li class=md-nav__item> <a href=#os-discovery class=md-nav__link> OS discovery </a> <nav class=md-nav aria-label="OS discovery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#yaml-based-os-discovery class=md-nav__link> Yaml based OS discovery </a> </li> <li class=md-nav__item> <a href=#php-based-os-discovery class=md-nav__link> PHP based OS discovery </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mibs class=md-nav__link> MIBs </a> </li> <li class=md-nav__item> <a href=#icon-and-logo class=md-nav__link> Icon and Logo </a> <nav class=md-nav aria-label="Icon and Logo"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#icon class=md-nav__link> Icon </a> </li> <li class=md-nav__item> <a href=#logo class=md-nav__link> Logo </a> </li> <li class=md-nav__item> <a href=#hints class=md-nav__link> Hints </a> </li> <li class=md-nav__item> <a href=#the-final-check class=md-nav__link> The final check </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Mem-CPU-Information/ class=md-nav__link> Mem/CPU Information </a> </li> <li class=md-nav__item> <a href=../Test-Units/ class=md-nav__link> Test Units </a> </li> <li class=md-nav__item> <a href=../Health-Information/ class=md-nav__link> Health Information </a> </li> <li class=md-nav__item> <a href=../Wireless-Sensors/ class=md-nav__link> Wireless Sensors </a> </li> <li class=md-nav__item> <a href=../Custom-Graphs/ class=md-nav__link> Custom Graphs </a> </li> <li class=md-nav__item> <a href=../Settings/ class=md-nav__link> Settings </a> </li> <li class=md-nav__item> <a href=../../Sensor-State-Support/ class=md-nav__link> Sensor State Support </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../SNMP-Traps/ class=md-nav__link> SNMP Traps </a> </li> <li class=md-nav__item> <a href=../../Dynamic-Config/ class=md-nav__link> Dynamic Config </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Plugin-System/ class=md-nav__link> Plugin System </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_6 type=checkbox id=__nav_9_6> <label class=md-nav__link for=__nav_9_6> Developer notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer notes" data-md-level=2> <label class=md-nav__title for=__nav_9_6> <span class="md-nav__icon md-icon"></span> Developer notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Merging-Pull-Requests/ class=md-nav__link> Merging Pull Requests </a> </li> <li class=md-nav__item> <a href=../../Creating-Release/ class=md-nav__link> Creating Release </a> </li> <li class=md-nav__item> <a href=../../Application-Notes/ class=md-nav__link> Applications </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10 type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10> Miscellaneous <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscellaneous data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Miscellaneous </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../General/Security/ class=md-nav__link> Security information </a> </li> <li class=md-nav__item> <a href=../../../Support/CLI-Tools/ class=md-nav__link> CLI Scripts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10_3 type=checkbox id=__nav_10_3> <label class=md-nav__link for=__nav_10_3> Device Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Device Notes" data-md-level=2> <label class=md-nav__title for=__nav_10_3> <span class="md-nav__icon md-icon"></span> Device Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Support/Device-Notes/AsuswrtMerlin/ class=md-nav__link> Asuswrt-Merlin </a> </li> <li class=md-nav__item> <a href=../../../Support/Device-Notes/Carel-pCOweb-Devices/ class=md-nav__link> Carel pCOweb </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Dell-OpenManage/ class=md-nav__link> Dell OpenManage </a> </li> <li class=md-nav__item> <a href=../../../Support/Device-Notes/Openwrt/ class=md-nav__link> OpenWRT </a> </li> <li class=md-nav__item> <a href=../../../Support/Device-Notes/Routeros/ class=md-nav__link> RouterOS </a> </li> <li class=md-nav__item> <a href=../../../Extensions/Supermicro/ class=md-nav__link> Supermicro </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#discovery class=md-nav__link> Discovery </a> <nav class=md-nav aria-label=Discovery> <ul class=md-nav__list> <li class=md-nav__item> <a href=#discovery-logic class=md-nav__link> Discovery Logic </a> </li> <li class=md-nav__item> <a href=#os-discovery class=md-nav__link> OS discovery </a> <nav class=md-nav aria-label="OS discovery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#yaml-based-os-discovery class=md-nav__link> Yaml based OS discovery </a> </li> <li class=md-nav__item> <a href=#php-based-os-discovery class=md-nav__link> PHP based OS discovery </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mibs class=md-nav__link> MIBs </a> </li> <li class=md-nav__item> <a href=#icon-and-logo class=md-nav__link> Icon and Logo </a> <nav class=md-nav aria-label="Icon and Logo"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#icon class=md-nav__link> Icon </a> </li> <li class=md-nav__item> <a href=#logo class=md-nav__link> Logo </a> </li> <li class=md-nav__item> <a href=#hints class=md-nav__link> Hints </a> </li> <li class=md-nav__item> <a href=#the-final-check class=md-nav__link> The final check </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/librenms/librenms/edit/master/doc/Developing/os/Initial-Detection.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1>Initial Detection</h1> <p>This document will provide the information you should need to add basic detection for a new OS.</p> <h3 id=discovery>Discovery</h3> <p>Discovery is now all done by yaml files, you do not and should not create a php file for discovery.</p> <p>Create the new OS file which should be called <code>includes/definitions/pulse.yaml</code>. Here is a working example:</p> <div class=highlight><pre><span></span><code><span class=nt>os</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pulse</span><span class=w></span>
<span class=nt>text</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Pulse</span><span class=nv> </span><span class=s>Secure&#39;</span><span class=w></span>
<span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">firewall</span><span class=w></span>
<span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pulse</span><span class=w></span>
<span class=nt>over</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt> graph</span><span class=p>:</span><span class=w> </span><span class=nv>device_bits</span><span class="p p-Indicator">,</span><span class=nt> text</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Device</span><span class=nv> </span><span class=s>Traffic&#39;</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt> graph</span><span class=p>:</span><span class=w> </span><span class=nv>device_processor</span><span class="p p-Indicator">,</span><span class=nt> text</span><span class=p>:</span><span class=w> </span><span class=s>&#39;CPU</span><span class=nv> </span><span class=s>Usage&#39;</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt> graph</span><span class=p>:</span><span class=w> </span><span class=nv>device_mempool</span><span class="p p-Indicator">,</span><span class=nt> text</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Memory</span><span class=nv> </span><span class=s>Usage&#39;</span><span class=w> </span><span class="p p-Indicator">}</span><span class=w></span>
<span class=nt>discovery</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>sysObjectID</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.1.3.6.1.4.1.12532.</span><span class=w></span>
</code></pre></div> <p><code>over</code>: This is a list of the graphs which will be shown within the device header bar (mini graphs top right).</p> <p><code>discovery</code>: Here we are detecting this new OS using sysObjectID, this is the preferred method for detection. Other options are available:</p> <ul> <li><code>sysObjectID</code> The preferred operator. Checks if the sysObjectID starts with one of the strings under this item</li> <li><code>sysDescr</code> Use this in addition to sysObjectID if required. Check that the sysDescr contains one of the strings under this item</li> <li><code>sysObjectID_regex</code> Please avoid use of this. Checks if the sysObjectID matches one of the regex statements under this item</li> <li><code>sysDescr_regex</code> Please avoid use of this. Checks if the sysDescr matches one of the regex statements under this item</li> <li><code>snmpget</code> Do not use this unless none of the other methods work. Fetch an oid and compare it against a value. <div class=highlight><pre><span></span><code><span class=nt>discovery</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w></span>
<span class=w>      </span><span class=nt>snmpget</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>oid</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;someoid&gt;</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>op</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;[&quot;=&quot;,&quot;!=&quot;,&quot;==&quot;,&quot;!==&quot;,&quot;&lt;=&quot;,&quot;&gt;=&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;starts&quot;,&quot;ends&quot;,&quot;contains&quot;,&quot;regex&quot;,&quot;not_starts&quot;,&quot;not_ends&quot;,&quot;not_contains&quot;,&quot;not_regex&quot;,&quot;in_array&quot;,&quot;not_in_array&quot;,&quot;exists&quot;]&gt;</span><span class=w></span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;&#39;string&#39; | boolean&gt;</span><span class=w></span>
</code></pre></div></li> <li><code>_except</code> You can add this to any of the above to exclude that element. As an example:</li> </ul> <div class=highlight><pre><span></span><code><span class=nt>discovery</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w></span>
<span class=w>      </span><span class=nt>sysObjectID</span><span class=p>:</span><span class=w></span>
<span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.1.3.6.1.4.1.12532.</span><span class=w></span>
<span class=w>      </span><span class=nt>sysDescr_except</span><span class=p>:</span><span class=w></span>
<span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;Not</span><span class=nv> </span><span class=s>some</span><span class=nv> </span><span class=s>pulse&#39;</span><span class=w></span>
</code></pre></div> <p><code>group</code>: You can group certain OS' together by using group, for instance ios, nx-os, iosxr are all within a group called cisco.</p> <p><code>bad_ifXEntry</code>: This is a list of models for which to tell LibreNMS that the device doesn't support ifXEntry and to ignore it:</p> <div class=highlight><pre><span></span><code><span class=w> </span><span class=nt>bad_ifXEntry</span><span class=p>:</span><span class=w></span>
<span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cisco1941</span><span class=w></span>
<span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cisco886Va</span><span class=w></span>
<span class=w>     </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cisco2811</span><span class=w></span>
</code></pre></div> <p><code>mib_dir</code>: You can use this to specify an additional directory to look in for MIBs. An array is not accepted, only one directory may be specified.</p> <div class=highlight><pre><span></span><code><span class=nt>mib_dir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">juniper</span><span class=w></span>
</code></pre></div> <p><code>poller_modules</code>: This is a list of poller modules to either enable (1) or disable (0). Check <code>misc/config_definitions.json</code> to see which modules are enabled/disabled by default.</p> <div class=highlight><pre><span></span><code><span class=nt>poller_modules</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>cisco-ace-serverfarms</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class=w></span>
<span class=w>    </span><span class=nt>cisco-ace-loadbalancer</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class=w></span>
</code></pre></div> <p><code>discovery_modules</code>: This is the list of discovery modules to either enable (1) or disable (0). Check <code>misc/config_definitions.json</code> to see which modules are enabled/disabled by default.</p> <div class=highlight><pre><span></span><code><span class=nt>discovery_modules</span><span class=p>:</span><span class=w></span>
<span class=w>     </span><span class=nt>cisco-cef</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>     </span><span class=nt>slas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>     </span><span class=nt>cisco-mac-accounting</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class=w></span>
</code></pre></div> <h5 id=discovery-logic>Discovery Logic</h5> <p>YAML is converted to an array in PHP. Consider the following YAML:</p> <div class=highlight><pre><span></span><code><span class=nt>discovery</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>sysObjectID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class=w></span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w></span>
<span class=w>    </span><span class=nt>sysDescr</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=w> </span><span class=nv>snafu</span><span class="p p-Indicator">,</span><span class=w> </span><span class=nv>exodar</span><span class=w> </span><span class="p p-Indicator">]</span><span class=w></span>
<span class=w>    </span><span class=nt>sysObjectID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class=w></span>
</code></pre></div> <p>This is how the discovery array would look in PHP:</p> <div class=highlight><pre><span></span><code><span class=p>[</span>
     <span class=p>[</span>
       <span class=s2>&quot;sysObjectID&quot;</span> <span class=o>=&gt;</span> <span class=s2>&quot;foo&quot;</span><span class=p>,</span>
     <span class=p>],</span>
     <span class=p>[</span>
       <span class=s2>&quot;sysDescr&quot;</span> <span class=o>=&gt;</span> <span class=p>[</span>
         <span class=s2>&quot;snafu&quot;</span><span class=p>,</span>
         <span class=s2>&quot;exodar&quot;</span><span class=p>,</span>
       <span class=p>],</span>
       <span class=s2>&quot;sysObjectID&quot;</span> <span class=o>=&gt;</span> <span class=s2>&quot;bar&quot;</span><span class=p>,</span>
     <span class=p>]</span>
<span class=p>]</span>
</code></pre></div> <p>The logic for the discovery is as follows:</p> <ol> <li>One of the first level items must match</li> <li>ALL of the second level items must match (sysObjectID, sysDescr)</li> <li>One of the third level items (foo, [snafu,exodar], bar) must match</li> </ol> <p>So, considering the example:</p> <ul> <li><code>sysObjectID: foo, sysDescr: ANYTHING</code> matches</li> <li><code>sysObjectID: bar, sysDescr: ANYTHING</code> does not match</li> <li><code>sysObjectID: bar, sysDescr: exodar</code> matches</li> <li><code>sysObjectID: bar, sysDescr: snafu</code> matches</li> </ul> <h4 id=os-discovery>OS discovery</h4> <p>OS discovery collects additional standardized data about the OS. These are specified in the discovery yaml <code>includes/definitions/discovery/&lt;os&gt;.yaml</code> or <code>LibreNMS/OS/&lt;os&gt;.php</code> if more complex collection is required.</p> <ul> <li><code>version</code> The version of the OS running on the device.</li> <li><code>hardware</code> The hardware version for the device. For example: 'WS-C3560X-24T-S'</li> <li><code>features</code> Features for the device, for example a list of enabled software features.</li> <li><code>serial</code> The main serial number of the device.</li> </ul> <h5 id=yaml-based-os-discovery>Yaml based OS discovery</h5> <ul> <li><code>sysDescr_regex</code> apply a regex or list of regexes to the sysDescr to extract named groups, this data has the lowest precedence</li> <li><code>&lt;field&gt;</code> specify an oid or list of oids to attempt to pull the data from, the first non-empty response will be used</li> <li><code>&lt;field&gt;_regex</code> parse the value out of the returned oid data, must use a named group</li> <li><code>&lt;field&gt;_template</code> combine multiple oid results together to create a final string value. The result is trimmed.</li> <li><code>&lt;field&gt;_replace</code> An array of replacements ['find', 'replace'] or strings to remove</li> <li><code>hardware_mib</code> MIB used to translate sysObjectID to get hardware. hardware_regex can process the result.</li> </ul> <div class=highlight><pre><span></span><code><span class=nt>modules</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>os</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class=nt>sysDescr_regex</span><span class=p>:</span><span class=w> </span><span class=s>&#39;/(?&lt;hardware&gt;MSM\S+)</span><span class=nv> </span><span class=s>.*</span><span class=nv> </span><span class=s>Serial</span><span class=nv> </span><span class=s>number</span><span class=nv> </span><span class=s>(?&lt;serial&gt;\S+)</span><span class=nv> </span><span class=s>-</span><span class=nv> </span><span class=s>Firmware</span><span class=nv> </span><span class=s>version</span><span class=nv> </span><span class=s>(?&lt;version&gt;\S+)/&#39;</span><span class=w></span>
<span class=w>        </span><span class=nt>features</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">UPS-MIB::upsIdentAttachedDevices.0</span><span class=w></span>
<span class=w>        </span><span class=nt>hardware</span><span class=p>:</span><span class=w></span>
<span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ENTITY-MIB::entPhysicalName.1</span><span class=w></span>
<span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ENTITY-MIB::entPhysicalHardwareRev.1</span><span class=w></span>
<span class=w>        </span><span class=nt>hardware_template</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{{</span><span class=nv> </span><span class=s>ENTITY-MIB::entPhysicalName.1</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>ENTITY-MIB::entPhysicalHardwareRev.1</span><span class=nv> </span><span class=s>}}&#39;</span><span class=w></span>
<span class=w>        </span><span class=nt>serial</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ENTITY-MIB::entPhysicalSerialNum.1</span><span class=w></span>
<span class=w>        </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ENTITY-MIB::entPhysicalSoftwareRev.1</span><span class=w></span>
<span class=w>        </span><span class=nt>version_regex</span><span class=p>:</span><span class=w> </span><span class=s>&#39;/V(?&lt;version&gt;.*)/&#39;</span><span class=w></span>
</code></pre></div> <h5 id=php-based-os-discovery>PHP based OS discovery</h5> <div class=highlight><pre><span></span><code><span class=k>public</span> <span class=k>function</span> <span class=nf>discoverOS</span><span class=p>(</span><span class=nx>\App\Models\Device</span> <span class=nv>$device</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
<span class=p>{</span>
    <span class=nv>$info</span> <span class=o>=</span> <span class=nx>snmp_getnext_multi</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>getDeviceArray</span><span class=p>(),</span> <span class=p>[</span><span class=s1>&#39;enclosureModel&#39;</span><span class=p>,</span> <span class=s1>&#39;enclosureSerialNum&#39;</span><span class=p>,</span> <span class=s1>&#39;entPhysicalFirmwareRev&#39;</span><span class=p>],</span> <span class=s1>&#39;-OQUs&#39;</span><span class=p>,</span> <span class=s1>&#39;NAS-MIB:ENTITY-MIB&#39;</span><span class=p>);</span>
    <span class=nv>$device</span><span class=o>-&gt;</span><span class=na>version</span> <span class=o>=</span> <span class=nv>$info</span><span class=p>[</span><span class=s1>&#39;entPhysicalFirmwareRev&#39;</span><span class=p>];</span>
    <span class=nv>$device</span><span class=o>-&gt;</span><span class=na>hardware</span> <span class=o>=</span> <span class=nv>$info</span><span class=p>[</span><span class=s1>&#39;enclosureModel&#39;</span><span class=p>];</span>
    <span class=nv>$device</span><span class=o>-&gt;</span><span class=na>serial</span> <span class=o>=</span> <span class=nv>$info</span><span class=p>[</span><span class=s1>&#39;enclosureSerialNum&#39;</span><span class=p>];</span>
<span class=p>}</span>
</code></pre></div> <h3 id=mibs>MIBs</h3> <p>If the device has MIBs available and you use it in the detection then you can add these in. It is highly recommended that you add mibs to a vendor specific directory. For instance HP mibs are in <code>mibs/hp</code>. Please ensure that these directories are specified in the yaml detection file, see <code>mib_dir</code> above.</p> <h3 id=icon-and-logo>Icon and Logo</h3> <p>It is highly recommended to use SVG images where possible, these scale and provide a nice visual image for users with HiDPI screens. If you can't find SVG images then please use png.</p> <p>Create an SVG image of the icon and logo. Legacy PNG bitmaps are also supported but look bad on HiDPI.</p> <ul> <li>A vector image should not contain padding.</li> <li>The file should not be larger than 20 Kb. Simplify paths to reduce large files.</li> <li>Use plain SVG without gzip compression.</li> <li>The SVG root element must not contain length and width attributes, only viewBox.</li> </ul> <h5 id=icon>Icon</h5> <ul> <li>Save the icon SVG to <code>html/images/os/$os.svg</code>.</li> <li>Icons should look good when viewed at 32x32 px.</li> <li>Square icons are preferred to full logos with text.</li> <li>Remove small ornaments that are almost not visible when displayed with 32px width (e.g.  or ).</li> </ul> <h5 id=logo>Logo</h5> <ul> <li>Save the logo SVG to <code>html/images/logos/$os.svg</code>.</li> <li>Logos can be any dimension, but often are wide and contain the company name.</li> <li>If a logo is not present, the icon will be used.</li> </ul> <h5 id=hints>Hints</h5> <p>Hints for <a href=https://inkscape.org/ >Inkscape</a>:</p> <ul> <li>You can open a PDF or EPS to extract the logo.</li> <li>Ungroup elements to isolate the logo.</li> <li>Use <code>Path -&gt; Simplify</code> to simplify paths of large files.</li> <li>Use <code>File -&gt; Document Properties -&gt; Resize page to content</code> to remove padding.</li> <li>Use <code>File -&gt; Clean up document</code> to remove unused gradients, patterns, or markers.</li> <li>Use <code>File -&gt; Save As -&gt; Plain SVG</code> to save the final image.</li> </ul> <p>By optimizing the SVG you can shrink the file size in some cases to less than 20 %. <a href=https://github.com/svg/svgo>SVG Optimizer</a> does a great job. There is also an <a href=https://jakearchibald.github.io/svgomg/ >online version</a>.</p> <h4 id=the-final-check>The final check</h4> <p>Discovery</p> <div class=highlight><pre><span></span><code>./discovery.php -d -h HOSTNAME
</code></pre></div> <p>Polling</p> <div class=highlight><pre><span></span><code>./poller.php -h HOSTNAME
</code></pre></div> <p>At this step we should see all the values retrieved in LibreNMS.</p> <p>Note: If you have made a number of changes to either the OS's Discovery files, it's possible earlier edits have been cached. As such, if you do not get expected behaviour when completing the final check above, try removing the cache file first:</p> <div class=highlight><pre><span></span><code>rm -f cache/os_defs.cache
</code></pre></div> </article> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../Support-New-OS/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Intro" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Intro </div> </div> </a> <a href=../Mem-CPU-Information/ class="md-footer__link md-footer__link--next" aria-label="Next: Mem/CPU Information" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Mem/CPU Information </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.sections", "navigation.tracking", "navigation.top", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.6c7ad80a.min.js></script> <script src=../../../js/docs-settings-links.min.js></script> </body> </html>